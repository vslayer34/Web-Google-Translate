import{a as No}from"./chunk-MJ7SWM5C.js";import{a as rf}from"./chunk-BHDPIAQQ.js";import{$ as rt,Aa as ea,B as G,Ba as Eo,C as go,Ca as Gi,D as w,Da as Je,E as Tu,Ea as wt,F as Cu,Fa as Qu,G as de,Ga as Yu,H as q,Ha as Vu,I as tt,Ia as zu,J as j,Ja as Ku,K as tf,Ka as $u,L as Le,La as Zu,M as Bi,Ma as Ru,N as vo,Na as el,O as wu,Oa as tl,P as Ui,Pa as rl,Q as ae,Qa as nl,R as Ji,S as Se,T as lr,U as Ue,V as Ye,W as Mu,X as Pu,Y as Au,Z as Fu,_ as Iu,aa as Lu,b as yu,ba as re,c as bu,ca as Du,d as an,da as Ou,e as Qe,ea as qu,f as A,fa as yo,g as Su,ga as bo,ha as _u,i as P,ia as Xi,j as z,ja as Bu,k as ho,ka as Uu,l as y,la as Ju,m as ct,n as _i,o as ee,p as xu,q as C,qa as So,r as Nn,ra as Xu,s as Ct,sa as Tn,t as Ie,ta as Hi,u as dt,ua as Hu,v as Xr,va as ko,w as ne,wa as Gu,x as Eu,xa as ju,y as Nu,ya as Wu,z as un,za as xo}from"./chunk-DGBOXMKX.js";import{a as ku,b as Hr}from"./chunk-CIQGX7IS.js";import"./chunk-HBQ3LT4U.js";import{b as f}from"./chunk-LSKTMBWE.js";import"./chunk-WYBZ7T63.js";import"./chunk-4KSSPBKG.js";import{a as h,b as S,d as L,e as ef,f as p}from"./chunk-DVVQMGZT.js";var il=ef((ol,ji)=>{(function(){var e=this;(function(){(function(){var r=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(n){var o;return n==null&&(n=(o=this.getConfig("url"))!=null?o:this.INTERNAL.default_mount_path),new t.Consumer(this.createWebSocketURL(n))},getConfig:function(n){var o;return o=document.head.querySelector("meta[name='action-cable-"+n+"']"),o!=null?o.getAttribute("content"):void 0},createWebSocketURL:function(n){var o;return n&&!/^wss?:/i.test(n)?(o=document.createElement("a"),o.href=n,o.href=o.href,o.protocol=o.protocol.replace("http","ws"),o.href):n},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var n,o;if(n=1<=arguments.length?r.call(arguments,0):[],this.debugging)return n.push(Date.now()),(o=this.logger).log.apply(o,["[ActionCable]"].concat(r.call(n)))}}}).call(this)}).call(e);var t=e.ActionCable;(function(){(function(){var r=function(n,o){return function(){return n.apply(o,arguments)}};t.ConnectionMonitor=function(){var n,o,i;s.pollInterval={min:3,max:30},s.staleThreshold=6;function s(a){this.connection=a,this.visibilityDidChange=r(this.visibilityDidChange,this),this.reconnectAttempts=0}return s.prototype.start=function(){if(!this.isRunning())return this.startedAt=o(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},s.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=o(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),t.log("ConnectionMonitor stopped")},s.prototype.isRunning=function(){return this.startedAt!=null&&this.stoppedAt==null},s.prototype.recordPing=function(){return this.pingedAt=o()},s.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,t.log("ConnectionMonitor recorded connect")},s.prototype.recordDisconnect=function(){return this.disconnectedAt=o(),t.log("ConnectionMonitor recorded disconnect")},s.prototype.startPolling=function(){return this.stopPolling(),this.poll()},s.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},s.prototype.poll=function(){return this.pollTimeout=setTimeout(function(a){return function(){return a.reconnectIfStale(),a.poll()}}(this),this.getPollInterval())},s.prototype.getPollInterval=function(){var a,u,l,m;return m=this.constructor.pollInterval,l=m.min,u=m.max,a=5*Math.log(this.reconnectAttempts+1),Math.round(n(a,l,u)*1e3)},s.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return t.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+i(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?t.log("ConnectionMonitor skipping reopening recent disconnect"):(t.log("ConnectionMonitor reopening"),this.connection.reopen())},s.prototype.connectionIsStale=function(){var a;return i((a=this.pingedAt)!=null?a:this.startedAt)>this.constructor.staleThreshold},s.prototype.disconnectedRecently=function(){return this.disconnectedAt&&i(this.disconnectedAt)<this.constructor.staleThreshold},s.prototype.visibilityDidChange=function(){if(document.visibilityState==="visible")return setTimeout(function(a){return function(){if(a.connectionIsStale()||!a.connection.isOpen())return t.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),a.connection.reopen()}}(this),200)},o=function(){return new Date().getTime()},i=function(a){return(o()-a)/1e3},n=function(a,u,l){return Math.max(u,Math.min(l,a))},s}()}).call(this),function(){var r,n,o,i,s,a,u=[].slice,l=function(d,c){return function(){return d.apply(c,arguments)}},m=[].indexOf||function(d){for(var c=0,g=this.length;c<g;c++)if(c in this&&this[c]===d)return c;return-1};i=t.INTERNAL,n=i.message_types,o=i.protocols,s=2<=o.length?u.call(o,0,r=o.length-1):(r=0,[]),a=o[r++],t.Connection=function(){d.reopenDelay=500;function d(c){this.consumer=c,this.open=l(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new t.ConnectionMonitor(this),this.disconnected=!0}return d.prototype.send=function(c){return this.isOpen()?(this.webSocket.send(JSON.stringify(c)),!0):!1},d.prototype.open=function(){return this.isActive()?(t.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(t.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+o),this.webSocket!=null&&this.uninstallEventHandlers(),this.webSocket=new t.WebSocket(this.consumer.url,o),this.installEventHandlers(),this.monitor.start(),!0)},d.prototype.close=function(c){var g,v;if(g=(c??{allowReconnect:!0}).allowReconnect,g||this.monitor.stop(),this.isActive())return(v=this.webSocket)!=null?v.close():void 0},d.prototype.reopen=function(){var c;if(t.log("Reopening WebSocket, current state is "+this.getState()),this.isActive())try{return this.close()}catch(g){return c=g,t.log("Failed to reopen WebSocket",c)}finally{t.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}else return this.open()},d.prototype.getProtocol=function(){var c;return(c=this.webSocket)!=null?c.protocol:void 0},d.prototype.isOpen=function(){return this.isState("open")},d.prototype.isActive=function(){return this.isState("open","connecting")},d.prototype.isProtocolSupported=function(){var c;return c=this.getProtocol(),m.call(s,c)>=0},d.prototype.isState=function(){var c,g;return g=1<=arguments.length?u.call(arguments,0):[],c=this.getState(),m.call(g,c)>=0},d.prototype.getState=function(){var c,g,v;for(g in WebSocket)if(v=WebSocket[g],v===((c=this.webSocket)!=null?c.readyState:void 0))return g.toLowerCase();return null},d.prototype.installEventHandlers=function(){var c,g;for(c in this.events)g=this.events[c].bind(this),this.webSocket["on"+c]=g},d.prototype.uninstallEventHandlers=function(){var c;for(c in this.events)this.webSocket["on"+c]=function(){}},d.prototype.events={message:function(c){var g,v,b,k;if(!!this.isProtocolSupported())switch(b=JSON.parse(c.data),g=b.identifier,v=b.message,k=b.type,k){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(g,"connected");case n.rejection:return this.subscriptions.reject(g);default:return this.subscriptions.notify(g,"received",v)}},open:function(){if(t.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return t.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(c){if(t.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return t.log("WebSocket onerror event")}},d}()}.call(this),function(){var r=[].slice;t.Subscriptions=function(){function n(o){this.consumer=o,this.subscriptions=[]}return n.prototype.create=function(o,i){var s,a,u;return s=o,a=typeof s=="object"?s:{channel:s},u=new t.Subscription(this.consumer,a,i),this.add(u)},n.prototype.add=function(o){return this.subscriptions.push(o),this.consumer.ensureActiveConnection(),this.notify(o,"initialized"),this.sendCommand(o,"subscribe"),o},n.prototype.remove=function(o){return this.forget(o),this.findAll(o.identifier).length||this.sendCommand(o,"unsubscribe"),o},n.prototype.reject=function(o){var i,s,a,u,l;for(a=this.findAll(o),u=[],i=0,s=a.length;i<s;i++)l=a[i],this.forget(l),this.notify(l,"rejected"),u.push(l);return u},n.prototype.forget=function(o){var i;return this.subscriptions=function(){var s,a,u,l;for(u=this.subscriptions,l=[],s=0,a=u.length;s<a;s++)i=u[s],i!==o&&l.push(i);return l}.call(this),o},n.prototype.findAll=function(o){var i,s,a,u,l;for(a=this.subscriptions,u=[],i=0,s=a.length;i<s;i++)l=a[i],l.identifier===o&&u.push(l);return u},n.prototype.reload=function(){var o,i,s,a,u;for(s=this.subscriptions,a=[],o=0,i=s.length;o<i;o++)u=s[o],a.push(this.sendCommand(u,"subscribe"));return a},n.prototype.notifyAll=function(){var o,i,s,a,u,l,m;for(i=arguments[0],o=2<=arguments.length?r.call(arguments,1):[],u=this.subscriptions,l=[],s=0,a=u.length;s<a;s++)m=u[s],l.push(this.notify.apply(this,[m,i].concat(r.call(o))));return l},n.prototype.notify=function(){var o,i,s,a,u,l,m;for(l=arguments[0],i=arguments[1],o=3<=arguments.length?r.call(arguments,2):[],typeof l=="string"?m=this.findAll(l):m=[l],u=[],s=0,a=m.length;s<a;s++)l=m[s],u.push(typeof l[i]=="function"?l[i].apply(l,o):void 0);return u},n.prototype.sendCommand=function(o,i){var s;return s=o.identifier,this.consumer.send({command:i,identifier:s})},n}()}.call(this),function(){t.Subscription=function(){var r;function n(o,i,s){this.consumer=o,i==null&&(i={}),this.identifier=JSON.stringify(i),r(this,s)}return n.prototype.perform=function(o,i){return i==null&&(i={}),i.action=o,this.send(i)},n.prototype.send=function(o){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(o)})},n.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},r=function(o,i){var s,a;if(i!=null)for(s in i)a=i[s],o[s]=a;return o},n}()}.call(this),function(){t.Consumer=function(){function r(n){this.url=n,this.subscriptions=new t.Subscriptions(this),this.connection=new t.Connection(this)}return r.prototype.send=function(n){return this.connection.send(n)},r.prototype.connect=function(){return this.connection.open()},r.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},r.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},r}()}.call(this)}).call(this),typeof ji=="object"&&ji.exports?ji.exports=t:typeof define=="function"&&define.amd&&define(t)}).call(ol)});var V=p(f());var Xe=p(f()),yv=p(il());function nf({uuid:e,track:t,exercise:r,testsStatus:n,representationStatus:o,analysisStatus:i}){return Xe.default.createElement("tr",null,Xe.default.createElement("td",null,e),Xe.default.createElement("td",null,t),Xe.default.createElement("td",null,r),Xe.default.createElement("td",null,n),Xe.default.createElement("td",null,o),Xe.default.createElement("td",null,i))}function ta({submissions:e}){let[t,r]=(0,Xe.useState)(e);return(0,Xe.useEffect)(()=>{let n=i=>{let s=[...t],a=s.findIndex(u=>u.uuid===i.submission.uuid);a!==-1?s[a]=i.submission:s.unshift(i.submission),r(s)},o=Hr.subscriptions.create({channel:"SubmissionChannel"},{received:n});return()=>o.unsubscribe()}),Xe.default.createElement("table",null,Xe.default.createElement("thead",null,Xe.default.createElement("tr",null,Xe.default.createElement("th",null,"ID"),Xe.default.createElement("th",null,"Track"),Xe.default.createElement("th",null,"Exercise"),Xe.default.createElement("th",null,"Test status"),Xe.default.createElement("th",null,"Representation status"),Xe.default.createElement("th",null,"Analyses status"))),Xe.default.createElement("tbody",null,t.map(n=>Xe.default.createElement(nf,{key:n.uuid,uuid:n.uuid,track:n.track,exercise:n.exercise,testsStatus:n.testsStatus,representationStatus:n.representationStatus,analysisStatus:n.analysisStatus}))))}var nt=p(f());var it=p(f());var Zt=p(f());var sl=({discussion:e})=>Zt.default.createElement("a",{className:"--solution",href:e.links.self},Zt.default.createElement(ee,{title:e.track.title,iconUrl:e.track.iconUrl}),Zt.default.createElement(Ct,{title:e.exercise.title,iconUrl:e.exercise.iconUrl}),Zt.default.createElement(ne,{src:e.student.avatarUrl,handle:e.student.handle}),Zt.default.createElement("div",{className:"--info"},Zt.default.createElement("div",{className:"--handle"},e.student.handle,e.student.isFavorited?Zt.default.createElement(C,{icon:"gold-star",alt:"Favorite student",className:"favorited"}):null),Zt.default.createElement("div",{className:"--exercise-title"},"on ",e.exercise.title)),Zt.default.createElement("div",{className:"--comments-count"},Zt.default.createElement(C,{icon:"comment",alt:"{discussion.postsCount} comments"}),e.postsCount),Zt.default.createElement("time",{className:"-updated-at"},Le(e.updatedAt)),Zt.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));var al=({resolvedData:e,latestData:t,refetch:r,status:n,setPage:o,links:i})=>it.default.createElement("div",null,n==="loading"&&it.default.createElement(Ie,null),n==="error"&&it.default.createElement(it.default.Fragment,null,it.default.createElement("p",null,"Something went wrong"),it.default.createElement("button",{onClick:()=>r(),"aria-label":"Retry"},"Retry")),n==="success"&&(e&&e.results.length===0?it.default.createElement(it.default.Fragment,null,it.default.createElement("div",{className:"--no-results"},it.default.createElement(y,{icon:"mentoring",category:"graphics"}),it.default.createElement("h3",null,"No mentoring discussions"),it.default.createElement("a",{href:i.queue,className:"btn-simple"},"Mentor a new solution"))):it.default.createElement("div",{className:"--conversations"},e&&it.default.createElement(it.default.Fragment,null,e.results.map((s,a)=>it.default.createElement(sl,{key:a,discussion:s})),it.default.createElement("footer",null,it.default.createElement(dt,{disabled:t===void 0,current:e.meta.currentPage,total:e.meta.totalPages,setPage:o}))))));var Wi=p(f());function ln({status:e,currentStatus:t,setStatus:r,children:n}){let o=(0,Wi.useCallback)(()=>{r(e)},[r,e]),i=t===e;return Wi.default.createElement("button",{type:"button",onClick:o,disabled:i,className:`c-tab ${i?"selected":null}`},n)}var ul=p(f()),Qi=({setFilter:e,id:t,filter:r="",placeholder:n})=>ul.default.createElement("input",{id:t,onChange:o=>e(o.target.value),value:r,placeholder:n,className:"--search"});var To=p(f());var ll=({option:e})=>To.default.createElement(To.default.Fragment,null,e.label),Co=({setOrder:e,setPage:t,order:r,sortOptions:n,componentClassName:o})=>{let i=n.find(a=>a.value===r)||n[0],s=(0,To.useCallback)(a=>{e(a.value),t(1)},[e,t]);return To.default.createElement(Ye,{options:n,value:i,setValue:s,SelectedComponent:ll,OptionComponent:ll,componentClassName:o})};var ri=p(f());var mr=p(f());var sf=({option:e})=>mr.default.createElement(mr.default.Fragment,null,mr.default.createElement(Eo,{track:e}),mr.default.createElement("div",{className:"title"},e.title),mr.default.createElement("div",{className:"count"},e.count)),af=({option:e})=>mr.default.createElement("div",null,mr.default.createElement(Eo,{track:e}),mr.default.createElement("div",{className:"sr-only"},e.title)),ml=({tracks:e,value:t,setTrack:r})=>{let n=e.find(i=>i.slug===t)||e[0],o=(0,mr.useCallback)(i=>{r(i.slug)},[r]);return mr.default.createElement(Gi,{tracks:e,value:n,setValue:o,OptionComponent:sf,SelectedComponent:af,size:"inline"})};var cl=({request:e,value:t,setTrack:r})=>{let{isLoading:n,isError:o,data:i}=ho(["track-filter",e.query],e);return ri.default.createElement("div",{className:"c-track-filter"},n&&ri.default.createElement(Ie,null),o&&ri.default.createElement("p",null,"Something went wrong"),i&&ri.default.createElement(ml,{tracks:i,setTrack:r,value:t}))};var ra=({tracksRequest:e,sortOptions:t,discussionsRequest:r,links:n})=>{let[o,i]=(0,nt.useState)(r.query?.criteria||""),{request:s,setCriteria:a,setOrder:u,setPage:l,setQuery:m}=rt(r),{status:d,resolvedData:c,latestData:g,isFetching:v,refetch:b}=z(["mentor-discussion-list",s.endpoint,s.query],s);(0,nt.useEffect)(()=>{let x=setTimeout(()=>{a(o)},200);return()=>{clearTimeout(x)}},[a,o]),wt({pushOn:Je(s.query)});let k=x=>{m(S(h({},s.query),{trackSlug:x,page:void 0}))},T=x=>{m(S(h({},s.query),{status:x,page:void 0}))};return nt.default.createElement("div",{className:"c-mentor-inbox"},nt.default.createElement("div",{className:"tabs"},nt.default.createElement(ln,{status:"awaiting_mentor",currentStatus:s.query.status,setStatus:T},"Inbox",c?nt.default.createElement("div",{className:"count"},c.meta.awaitingMentorTotal):null),nt.default.createElement(ln,{status:"awaiting_student",currentStatus:s.query.status,setStatus:T},"Awaiting student",c?nt.default.createElement("div",{className:"count"},c.meta.awaitingStudentTotal):null),nt.default.createElement(ln,{status:"finished",currentStatus:s.query.status,setStatus:T},"Finished",c?nt.default.createElement("div",{className:"count"},c.meta.finishedTotal):null)),nt.default.createElement("div",{className:"container"},nt.default.createElement("header",{className:"c-search-bar inbox-header"},nt.default.createElement(cl,{request:S(h({},e),{query:{status:s.query.status}}),value:s.query.trackSlug||null,setTrack:k}),nt.default.createElement(Qi,{filter:o,setFilter:i,id:"discussion-filter",placeholder:"Filter by student or exercise name"}),nt.default.createElement(Co,{sortOptions:t,order:s.query.order,setOrder:u,setPage:l})),nt.default.createElement(ae,{isFetching:v},nt.default.createElement(al,{latestData:g,resolvedData:c,status:d,refetch:b,setPage:l,links:n}))))};var Ve=p(f());var Yi=({cacheKey:e,request:t})=>{let{resolvedData:r,isFetching:n,status:o,error:i}=z([e,t],t);return{tracks:r?r.tracks:[],status:o,error:i,isFetching:n,resolvedData:r}};var dl=({track:e})=>{let{resolvedData:t,status:r,isFetching:n,error:o}=z(["mentored-exercises",e?.slug],{endpoint:e?.links.exercises,options:{enabled:!!e,staleTime:0,cacheTime:0,initialData:e?.exercises?e.exercises:void 0}});return{exercises:t,status:r,isFetching:n,error:o}};var fl=p(f());var Vi=p(f());function pl(e,t){let[r,n]=(0,Vi.useState)(e);return(0,Vi.useEffect)(()=>{let o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r}var hl=({request:e,track:t,exercise:r})=>{let{request:n,setCriteria:o,setOrder:i,setPage:s}=rt(e),a=t?.slug,u=r?.slug,l=(0,fl.useMemo)(()=>S(h({},n.query),{trackSlug:a,exerciseSlug:u}),[u,n.query,a]),m=pl(l,500),{resolvedData:d,latestData:c,isFetching:g,status:v,error:b}=z(["mentoring-request",m,n],S(h({},n),{query:m,options:S(h({},n.options),{enabled:!!t})}));return wt({pushOn:m}),{resolvedData:d,latestData:c,status:v,isFetching:g,criteria:n.query.criteria,setCriteria:o,order:n.query.order,setOrder:i,page:n.query.page,setPage:s,error:b}};var pe=p(f());var mn=p(f());var wr=p(f());var jr=p(f());var Gr=p(f()),gl=p(ct());var vl=({slug:e,title:t,iconUrl:r,medianWaitTime:n,numSolutionsQueued:o,checked:i,onChange:s})=>Gr.default.createElement("div",{className:"track"},Gr.default.createElement("input",{type:"checkbox",id:e,checked:i,onChange:s,"aria-labelledby":`${e}-label`}),Gr.default.createElement("label",{className:"track",htmlFor:e,id:`${e}-label`},i?Gr.default.createElement("div",{className:"selected-icon"},Gr.default.createElement(C,{icon:"checkmark",alt:"Track selected"})):null,Gr.default.createElement(ee,{iconUrl:r,title:t}),Gr.default.createElement("div",{className:"title"},t),Gr.default.createElement("div",{className:"info"},Gr.default.createElement(ko,{seconds:n}),o," ",(0,gl.default)("solution",o)," ","queued")));var uf=()=>jr.default.createElement("p",null,"No tracks found"),lf=({tracks:e,selected:t,setSelected:r})=>{let n=(0,jr.useCallback)((o,i)=>{o.target.checked?r([...t,i]):r(t.filter(s=>s!==i))},[t,r]);return jr.default.createElement(jr.default.Fragment,null,e.map(o=>jr.default.createElement(vl,S(h({key:o.slug},o),{checked:t.includes(o.slug),onChange:i=>n(i,o.slug)}))))},mf=new Error("Unable to fetch tracks"),yl=({status:e,error:t,selected:r,setSelected:n,data:o})=>jr.default.createElement(j,{status:e,error:t,defaultError:mf},o===void 0||o.tracks.length===0?jr.default.createElement(uf,null):jr.default.createElement(lf,{tracks:o.tracks,selected:r,setSelected:n}));var bl=p(f()),Sl=p(ct()),kl=({numSelected:e})=>{let t=["selected",e===0?"none":""].filter(n=>n!==""),r=e===0?"No tracks selected":`${e} ${(0,Sl.default)("track",e)} selected`;return bl.default.createElement("div",{className:t.join(" ")},r)};var na=p(f()),xl=e=>na.default.createElement("button",h({className:"btn-primary btn-m"},e),na.default.createElement("span",null,"Continue"));var zi=p(f()),El=({value:e,setValue:t})=>{let r=(0,zi.useCallback)(n=>{t(n.target.value)},[t]);return zi.default.createElement("input",{className:"--search",value:e,onChange:r})};var Ki=({tracksEndpoint:e,selected:t,setSelected:r,onContinue:n})=>{let{request:o,setCriteria:i}=rt({endpoint:e,options:{}}),{status:s,resolvedData:a,isFetching:u,error:l}=z(["tracks",o.endpoint,o.query],o),m=(0,wr.useCallback)(()=>{n()},[n]);return wr.default.createElement("div",{className:"c-mentor-track-selector"},wr.default.createElement("div",{className:"c-search-bar"},wr.default.createElement(El,{value:o.query.criteria||"",setValue:i}),wr.default.createElement(kl,{numSelected:t.length}),wr.default.createElement(xl,{disabled:t.length===0,onClick:m})),wr.default.createElement(ae,{isFetching:u},wr.default.createElement("div",{className:"tracks"},wr.default.createElement(yl,{status:s,selected:t,setSelected:r,data:a,error:l}))))};var Nl=s=>{var a=s,{onClose:e,tracks:t,cacheKey:r,links:n,onSuccess:o}=a,i=L(a,["onClose","tracks","cacheKey","links","onSuccess"]);let u=Qe(),[l,m]=(0,mn.useState)(t.map(c=>c.slug)),[d]=A(()=>{let{fetch:c}=P({endpoint:n.updateTracks,method:"PATCH",body:JSON.stringify({track_slugs:l})});return c},{onSuccess:c=>{u.setQueryData(r,c),o()},onSettled:()=>{u.invalidateQueries(r)}});return mn.default.createElement(G,S(h({},i),{onClose:e,className:"m-change-mentor-tracks",cover:!1}),mn.default.createElement("header",null,mn.default.createElement("div",{className:"info"},mn.default.createElement("h2",null,"Change the Tracks you mentor"),mn.default.createElement("p",null,"You will still be able to continue any existing discussions on other tracks."))),mn.default.createElement(Ki,{selected:l,setSelected:m,tracksEndpoint:n.tracks,onContinue:()=>d()}))};var cf=({title:e,iconUrl:t,numSolutionsQueued:r,checked:n,onChange:o})=>pe.default.createElement("label",{className:"c-radio-wrapper"},pe.default.createElement("input",{type:"radio",onChange:o,checked:n,name:"queue_track"}),pe.default.createElement("div",{className:"row"},pe.default.createElement(ee,{iconUrl:t,title:e}),pe.default.createElement("div",{className:"title"},e),pe.default.createElement("div",{className:"count"},r))),df=new Error("Unable to fetch tracks"),Tl=o=>{var i=o,{status:e,error:t,children:r}=i,n=L(i,["status","error","children"]);return pe.default.createElement(j,{error:t,status:e,defaultError:df},pe.default.createElement(pf,h({},n),r))},pf=({sizeVariant:e="large",tracks:t,isFetching:r,value:n,countText:o,setValue:i,cacheKey:s,links:a})=>{let u=(0,pe.useRef)(null),[l,m]=(0,pe.useState)(!1),{buttonAttributes:d,panelAttributes:c,listAttributes:g,itemAttributes:v,setOpen:b,open:k}=lr((t?.length||0)+1,x=>T(x),{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),T=(0,pe.useCallback)(x=>{if(!t)return;t[x]?i(t[x]):u.current?.click(),b(!1)},[i,t,b]);return t?pe.default.createElement("div",{className:`c-single-select c-track-select --size-${e}`},pe.default.createElement(ae,{isFetching:r},pe.default.createElement("button",h({className:"current-track","aria-label":"Open the track filter"},d),pe.default.createElement(ee,{iconUrl:n.iconUrl,title:n.title}),pe.default.createElement("div",{className:"track-title"},n.title),pe.default.createElement("div",{className:"count"},n.numSolutionsQueued," ",o),pe.default.createElement(C,{icon:"chevron-down",alt:"Click to change",className:"action-icon"}))),k?pe.default.createElement("div",S(h({},c),{className:"--options"}),pe.default.createElement("ul",h({},g),t.map((x,E)=>pe.default.createElement("li",h({key:x.slug},v(E)),pe.default.createElement(cf,h({onChange:()=>{i(x),b(!1)},checked:n.slug===x.slug},x)))),pe.default.createElement("li",h({key:"change-tracks"},v(t.length)),pe.default.createElement("button",{ref:u,type:"button",onClick:()=>{m(!0),b(!1)}},pe.default.createElement(y,{icon:"reset"}),"Change the tracks you mentor")))):null,pe.default.createElement(Nl,{open:l,tracks:t,cacheKey:s,links:a,onClose:()=>m(!1),onSuccess:()=>{m(!1),b(!1)}})):null};var J=p(f());var ff=({count:e,checked:t,onChange:r})=>J.default.createElement("label",{className:"c-radio-wrapper"},J.default.createElement("input",{type:"radio",onChange:r,checked:t}),J.default.createElement("div",{className:"row"},J.default.createElement("div",{className:"c-radio"}),J.default.createElement(y,{icon:"exercise",category:"graphics"}),J.default.createElement("div",{className:"title"},"All exercises"),J.default.createElement("div",{className:"count"},e))),hf=({title:e,iconUrl:t,count:r,checked:n,onChange:o})=>{let i=`c-radio-wrapper ${r==0?"zero":null}`;return J.default.createElement("label",{className:i},J.default.createElement("input",{type:"radio",onChange:o,checked:n}),J.default.createElement("div",{className:"row"},J.default.createElement("div",{className:"c-radio"}),J.default.createElement(Ct,{iconUrl:t}),J.default.createElement("div",{className:"title"},e),J.default.createElement("div",{className:"count"},r)))},gf=new Error("Unable to fetch exercises"),Cl=n=>{var o=n,{status:e,error:t}=o,r=L(o,["status","error"]);return J.default.createElement(j,{error:t,status:e,defaultError:gf},J.default.createElement(vf,h({},r)))},vf=({exercises:e,value:t,setValue:r})=>{let[n,o]=(0,J.useState)(""),[i,s]=(0,J.useState)(!0),[a,u]=(0,J.useState)(!1),l=(0,J.useMemo)(()=>e?e.filter(g=>g.slug===t?.slug?!0:i?g.count!==0:!0).filter(g=>g.slug===t?.slug?!0:a?g.completedByMentor:!0).filter(g=>g.title.match(new RegExp(`^${n}`,"i"))):[],[e,a,i,n,t?.slug]),m=(0,J.useCallback)((g,v)=>{o(""),r(v)},[r]),d=(0,J.useCallback)(g=>{!e||(u(g.target.checked),r(null))},[e,r]),c=(0,J.useCallback)(g=>{o(g.target.value)},[]);return(0,J.useEffect)(()=>{o(""),s(!0),u(!1)},[JSON.stringify(e)]),J.default.createElement(J.default.Fragment,null,J.default.createElement("div",{className:"exercise-filter"},J.default.createElement("div",{className:"c-search-bar"},J.default.createElement("input",{value:n,onChange:c,className:"--search",placeholder:"Search by Exercise name"})),J.default.createElement("label",{className:"c-checkbox-wrapper filter"},J.default.createElement("input",{type:"checkbox",checked:i,onChange:()=>s(!i)}),J.default.createElement("div",{className:"row"},J.default.createElement("div",{className:"c-checkbox"},J.default.createElement(y,{icon:"checkmark"})),"Only show exercises that need mentoring")),J.default.createElement("label",{className:"c-checkbox-wrapper filter"},J.default.createElement("input",{type:"checkbox",checked:a,onChange:d}),J.default.createElement("div",{className:"row"},J.default.createElement("div",{className:"c-checkbox"},J.default.createElement(y,{icon:"checkmark"})),"Only show exercises I've completed"))),J.default.createElement("div",{className:"exercises"},J.default.createElement(ff,{key:"all",onChange:g=>m(g,null),checked:t===null,count:e?.reduce((g,v)=>g+v.count,0)||0}),l.map(g=>J.default.createElement(hf,h({key:g.slug,onChange:v=>m(v,g),checked:t?.slug===g.slug},g)))))};var Mr=p(f());var Qt=p(f());var wl=({studentAvatarUrl:e,studentHandle:t,exerciseTitle:r,exerciseIconUrl:n,isFavorited:o,haveMentoredPreviously:i,status:s,updatedAt:a,url:u,tooltipUrl:l})=>Qt.default.createElement(bu,{content:Qt.default.createElement(zu,{endpoint:l})},Qt.default.createElement("a",{href:u,className:"--solution"},Qt.default.createElement(Ct,{title:r,iconUrl:n}),Qt.default.createElement(ne,{src:e,handle:t}),Qt.default.createElement("div",{className:"--info"},Qt.default.createElement("div",{className:"--handle"},t,o?Qt.default.createElement(C,{icon:"gold-star",alt:"Favorite student",className:"favorited"}):i?Qt.default.createElement(C,{icon:"mentoring",alt:"Mentored previously",className:"previously-mentored"}):null),Qt.default.createElement("div",{className:"--exercise-title"},"on ",r)),s?Qt.default.createElement("div",{className:"--status"},s):null,Qt.default.createElement("time",{className:"-updated-at"},Le(a)),Qt.default.createElement(y,{icon:"chevron-right",className:"action-icon"})));var yf=new Error("Unable to fetch queue"),Ml=n=>{var o=n,{status:e,error:t}=o,r=L(o,["status","error"]);return Mr.default.createElement(j,{status:e,error:t,defaultError:yf},Mr.default.createElement(bf,h({},r)))},bf=({resolvedData:e,latestData:t,page:r,setPage:n})=>Mr.default.createElement(Mr.default.Fragment,null,e&&e.results.length>0?Mr.default.createElement(Mr.default.Fragment,null,Mr.default.createElement("div",{className:"--solutions"},e.results.length>0?e.results.map((o,i)=>Mr.default.createElement(wl,h({key:i},o))):"No discussions found"),Mr.default.createElement("footer",null,Mr.default.createElement(dt,{disabled:t===void 0,current:r,total:e.meta.totalPages,setPage:n}))):null);var Pl="mentored-tracks",oa=({queueRequest:e,tracksRequest:t,defaultTrack:r,defaultExercise:n,sortOptions:o,links:i})=>{let s=(0,Ve.useRef)(!1),{tracks:a,status:u,error:l,isFetching:m}=Yi({cacheKey:Pl,request:t}),[d,c]=(0,Ve.useState)(r),{exercises:g,status:v,error:b}=dl({track:d}),[k,T]=(0,Ve.useState)(n),{resolvedData:x,latestData:E,isFetching:_,criteria:B,setCriteria:U,order:D,setOrder:M,page:X,setPage:R,status:be,error:We}=hl({request:e,track:d,exercise:k});(0,Ve.useEffect)(()=>{a.length!==0&&(a.find($e=>$e.slug===d.slug)||c(a[0]))},[d.slug,a]),(0,Ve.useEffect)(()=>{if(!s.current){s.current=!0;return}T(null)},[d]);let Ce=(0,Ve.useCallback)($e=>{R(1),U(""),T($e)},[R,U]),mt=(0,Ve.useCallback)($e=>{R(1),U(""),c($e)},[R,U]);return Ve.default.createElement("div",{className:"queue-section-content"},Ve.default.createElement("div",{className:"c-mentor-queue"},Ve.default.createElement("header",{className:"c-search-bar"},Ve.default.createElement(Qi,{filter:B,setFilter:U,id:"mentoring-queue-student-name-filter",placeholder:"Filter by student handle"}),Ve.default.createElement(Co,{sortOptions:o,order:D,setPage:R,setOrder:M})),Ve.default.createElement(ae,{isFetching:_},Ve.default.createElement(Ml,{status:be,error:We,page:X,resolvedData:x,latestData:E,setPage:R}))),Ve.default.createElement("div",{className:"mentor-queue-filtering"},Ve.default.createElement(Tl,{status:u,error:l,tracks:a,isFetching:m,value:d,setValue:mt,cacheKey:Pl,links:i}),Ve.default.createElement(Cl,{status:v,exercises:g,value:k,setValue:Ce,error:b})))};var W=p(f());var ia=p(f());var wo=({url:e})=>ia.default.createElement("a",{href:e,className:"close-btn","aria-label":"Close discussion and return to mentoring dashboard"},ia.default.createElement(y,{icon:"close"}));var cn=p(f());var Al=({student:e,track:t,exercise:r})=>cn.default.createElement(cn.default.Fragment,null,cn.default.createElement(ee,{title:t.title,iconUrl:t.iconUrl}),cn.default.createElement("div",{className:"student"},cn.default.createElement(ne,{src:e.avatarUrl,handle:e.handle}),cn.default.createElement("div",{className:"info"},cn.default.createElement("div",{className:"handle"},e.handle),cn.default.createElement("div",{className:"exercise"},"on ",r.title," in ",t.title," "))));var se=p(f());var Cn=p(f()),sa=Cn.default.createContext({id:"",isOpen:!1,onClick:e=>null}),Yt=({id:e,isOpen:t,onClick:r,children:n})=>Cn.default.createElement(sa.Provider,{value:{isOpen:t,id:e,onClick:r}},Cn.default.createElement("div",{className:"c-accordion-section"},n)),Fl=({label:e,children:t})=>{let{isOpen:r,id:n,onClick:o}=Cn.default.useContext(sa);return Cn.default.createElement("button",{type:"button",onClick:()=>o(n),"aria-expanded":r,"aria-controls":`accordion-panel-${n}`,"aria-label":e,id:`accordion-header-${n}`},t)};Fl.displayName="AccordionHeader";Yt.Header=Fl;var Il=({children:e})=>{let{isOpen:t,id:r}=Cn.default.useContext(sa);return Cn.default.createElement("div",{id:`accordion-panel-${r}`,"aria-labelledby":`accordion-panel-${r}`,hidden:!t},e)};Il.displayName="AccordionPanel";Yt.Panel=Il;var dn=p(f()),aa=({notes:e,improveUrl:t,guidanceType:r})=>{let n=dn.default.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},"Pull Request on GitHub");return e?dn.default.createElement(dn.default.Fragment,null,dn.default.createElement("div",{className:"c-textual-content --small",dangerouslySetInnerHTML:{__html:e}}),dn.default.createElement("hr",{className:"c-divider --small my-16"}),dn.default.createElement("h3",{className:"text-h5 mb-4"},"Improve these notes"),dn.default.createElement("p",{className:"text-p-base"},"These notes are written by our community. Please help improve them by sending a ",n,".")):dn.default.createElement("p",{className:"text-p-base"},"This ",r," doesn't have any mentoring notes yet. Mentoring notes are written by our community. Please help get them started for this exercise by sending a ",n,".")};var Wr=p(f()),Ll=({files:e,language:t})=>Wr.default.createElement(Wr.default.Fragment,null,e.map(r=>Wr.default.createElement(ni,{key:r.filename},e.length>1?Wr.default.createElement(ni.Header,{filename:r.filename}):null,Wr.default.createElement(ni.Content,{content:r.content,language:t})))),ni=({children:e})=>Wr.default.createElement("div",{className:"exemplar-files"},e);ni.Header=({filename:e})=>Wr.default.createElement("div",{className:"filename"},e);ni.Content=({content:e,language:t})=>Wr.default.createElement("pre",{className:"overflow-auto"},Wr.default.createElement("code",{className:t},e));var oi=({isOpen:e,title:t})=>se.default.createElement(Yt.Header,null,e?se.default.createElement(y,{icon:"minus-circle"}):se.default.createElement(y,{icon:"plus-circle"}),se.default.createElement("div",{className:"--title"},t)),$i=({guidance:e,mentorSolution:t,exemplarFiles:r,links:n,language:o,feedback:i=!1})=>{let s=Nu(),[a,u]=(0,se.useState)([{id:"exemplar-files",isOpen:r.length!==0},{id:"exercise-guidance",isOpen:r.length===0},{id:"track-guidance",isOpen:!1},{id:"mentor-solution",isOpen:!1},{id:"feedback",isOpen:!1}]),l=(0,se.useCallback)(d=>{u(a.map(c=>{let g=d===c.id&&!c.isOpen;return{id:c.id,isOpen:g}}))},[a]),m=(0,se.useCallback)(d=>{let c=a.find(g=>g.id===d);if(!c)throw new Error("Accordion id not found");return c.isOpen},[a]);return se.default.createElement("div",{ref:s},r.length!==0?se.default.createElement(Yt,{id:"exemplar-files",isOpen:m("exemplar-files"),onClick:l},se.default.createElement(oi,{isOpen:m("exemplar-files"),title:"The exemplar solution"}),se.default.createElement(Yt.Panel,null,se.default.createElement("div",{className:"c-textual-content --small"},se.default.createElement("p",null,"Try and guide the student towards this solution. It is the best place for them to reach at this point during the Track."),se.default.createElement(Ll,{files:r,language:o})))):null,se.default.createElement(Yt,{id:"exercise-guidance",isOpen:m("exercise-guidance"),onClick:l},se.default.createElement(oi,{isOpen:m("exercise-guidance"),title:"Exercise notes"}),se.default.createElement(Yt.Panel,null,se.default.createElement(aa,{notes:e.exercise,guidanceType:"exercise",improveUrl:n.improveExerciseGuidance}))),se.default.createElement(Yt,{id:"track-guidance",isOpen:m("track-guidance"),onClick:l},se.default.createElement(oi,{isOpen:m("track-guidance"),title:"Track notes"}),se.default.createElement(Yt.Panel,null,se.default.createElement(aa,{notes:e.track,guidanceType:"track",improveUrl:n.improveTrackGuidance}))),t?se.default.createElement(Yt,{id:"mentor-solution",isOpen:m("mentor-solution"),onClick:l},se.default.createElement(oi,{isOpen:m("mentor-solution"),title:"How you solved the exercise"}),se.default.createElement(Yt.Panel,null,se.default.createElement(wu,{context:"mentoring",solution:t}))):null,i?se.default.createElement(Yt,{id:"feedback",isOpen:m("feedback"),onClick:l},se.default.createElement(oi,{isOpen:m("feedback"),title:"Automated feedback"}),se.default.createElement(Yt.Panel,null,se.default.createElement("p",null,"Feedback here"))):null)};var ue=p(f());var ua=p(ku());var Zi=({scratchpad:e,track:t,exercise:r})=>{let[n,o]=(0,ue.useState)(""),[i,s]=(0,ue.useState)(""),[a,u]=(0,ue.useState)(null),l=(0,ue.useCallback)(v=>{o(v)},[]),[m]=A(()=>{let{fetch:v}=P({endpoint:e.links.self,method:"PATCH",body:JSON.stringify({scratchpad_page:{content_markdown:n}})});return v.then(b=>re((0,ua.camelizeKeys)(b),"scratchpadPage"))},{onSuccess:v=>u(v),onError:v=>{v instanceof Response&&v.json().then(b=>s(b.error.message))}}),d=(0,ue.useCallback)(v=>{v.preventDefault(),s(""),m()},[m]),c=(0,ue.useCallback)(()=>{let{fetch:v}=P({endpoint:e.links.self,body:null,method:"GET"});v.then(b=>{let k=re((0,ua.camelizeKeys)(b),"scratchpadPage");u(S(h({},k),{contentMarkdown:k.contentMarkdown===null?"":k.contentMarkdown}))}).catch(()=>{})},[e.links.self]);(0,ue.useEffect)(c,[c]);let g=(0,ue.useCallback)(()=>{!a||o(a.contentMarkdown)},[a]);return(0,ue.useEffect)(()=>{!a||o(a.contentMarkdown)},[a]),a?ue.default.createElement(ue.default.Fragment,null,e.isIntroducerHidden?null:ue.default.createElement(Ui,{icon:"scratchpad",endpoint:e.links.hideIntroducer,size:"small"},ue.default.createElement("h2",null,"Introducing your scratchpad"),ue.default.createElement("p",null,"A"," ",ue.default.createElement("a",{target:"_blank",rel:"noreferrer",href:e.links.markdown},"Markdown-supported")," ","place for you to write notes and add code snippets you\u2019d like to refer to during mentoring.")),ue.default.createElement("div",{className:"flex flex-row justify-between"},ue.default.createElement("div",{className:"title"},"Your notes for ",ue.default.createElement("strong",null,r.title)," in",ue.default.createElement(ee,{iconUrl:t.iconUrl,title:t.title}),ue.default.createElement("strong",null,t.title)),n===a.contentMarkdown?null:ue.default.createElement(Wu,null,"Unsaved")),ue.default.createElement("form",{"data-turbo":"false",onSubmit:d,className:"c-markdown-editor"},ue.default.createElement(xo,{onChange:l,contextId:`scratchpad-${e.links.self}`,options:{status:[]},value:n}),ue.default.createElement("footer",{className:"editor-footer scratchpad-footer"},n===a.contentMarkdown?null:ue.default.createElement("button",{className:"btn-small-discourage",type:"button",onClick:g},"Revert to saved"),ue.default.createElement("button",{type:"submit",className:"btn-primary btn-s"},"Save"))),i?ue.default.createElement("p",null,i):null):ue.default.createElement(Ie,null)};var Mt=p(f());var Ri=p(f());var Mo=p(f());var Dl=e=>Mo.default.createElement(q,null,Mo.default.createElement(kf,h({},e))),Sf=new Error("Unable to mark student as a favorite"),kf=({endpoint:e,onSuccess:t})=>{let[r,{status:n,error:o}]=A(()=>{let{fetch:i}=P({endpoint:e,method:"POST",body:null});return i.then(s=>re(s,"student"))},{onSuccess:i=>t(i)});return tt(o,{defaultError:Sf}),Mo.default.createElement(w,{onClick:()=>{r()},type:"button",className:"btn-small",status:n},Mo.default.createElement(y,{icon:"plus"}),Mo.default.createElement("span",null,"Add to favorites"))};var Qr=p(f());var Ol=e=>Qr.default.createElement(q,null,Qr.default.createElement(Ef,h({},e))),xf=new Error("Unable to remove student as a favorite"),Ef=n=>{var o=n,{endpoint:e,onSuccess:t}=o,r=L(o,["endpoint","onSuccess"]);let[i,s]=(0,Qr.useState)(!1),[a,{status:u,error:l}]=A(()=>{let{fetch:m}=P({endpoint:e,method:"DELETE",body:null});return m.then(d=>re(d,"student"))},{onSuccess:m=>t(m)});return tt(l,{defaultError:xf}),Qr.default.createElement(w,S(h({},r),{onClick:()=>{a()},type:"button",className:"btn-small unfavorite-button "+(i?"hover":""),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),status:u}),i?"Unfavorite?":Qr.default.createElement(Qr.default.Fragment,null,Qr.default.createElement(y,{icon:"star"}),Qr.default.createElement("span",null,"Favorited")))};var es=({student:e,onSuccess:t})=>Ri.default.createElement("div",{className:"button-wrapper"},e.isFavorited?Ri.default.createElement(Ol,{endpoint:e.links.favorite,onSuccess:r=>t(r)}):Ri.default.createElement(Dl,{endpoint:e.links.favorite,onSuccess:r=>t(r)}));var wn=p(f());var Bl=p(ct());var De=p(f());var ql=p(ct());var Nf=new Error("Unable to load discussions"),_l=o=>{var i=o,{onClose:e,student:t,setStudent:r}=i,n=L(i,["onClose","student","setStudent"]);let{request:s,setPage:a}=rt({endpoint:t.links.previousSessions,options:{}}),{status:u,resolvedData:l,latestData:m,isFetching:d,error:c}=z([s.endpoint,s.query],s),g=t.numDiscussionsWithMentor-1,v=({discussion:b})=>De.default.createElement("a",{href:b.links.self,key:b.uuid,className:"discussion"},De.default.createElement(ee,{iconUrl:b.track.iconUrl,title:b.track.title}),De.default.createElement(Ct,{iconUrl:b.exercise.iconUrl,title:b.exercise.title,className:"exercise-icon"}),De.default.createElement("div",{className:"exercise-title"},b.exercise.title),De.default.createElement("div",{className:"num-comments"},De.default.createElement(y,{icon:"comment"}),b.postsCount),De.default.createElement("div",{className:"num-iterations"},De.default.createElement(y,{icon:"iteration"}),b.iterationsCount),De.default.createElement("time",{dateTime:b.createdAt},Le(b.createdAt)),De.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));return De.default.createElement(G,S(h({},n),{closeButton:!0,onClose:e,className:"m-mentoring-sessions"}),De.default.createElement("header",null,De.default.createElement("strong",null,"You have ",g," previous ",(0,ql.default)("discussion",g)),"with",De.default.createElement(ne,{src:t.avatarUrl,handle:t.handle}),De.default.createElement("div",{className:"student-name"},t.handle),t.links.favorite?De.default.createElement(es,{student:t,onSuccess:b=>r(b)}):null),De.default.createElement("div",{className:"discussions"},De.default.createElement(ae,{isFetching:d},De.default.createElement(j,{status:u,error:c,defaultError:Nf},l?De.default.createElement(De.default.Fragment,null,l.results.map(b=>De.default.createElement(v,{discussion:b,key:b.uuid})),De.default.createElement(dt,{disabled:m===void 0,current:s.query.page,total:l.meta.totalPages,setPage:a})):null))))};var Ul=({student:e,setStudent:t})=>{let[r,n]=(0,wn.useState)(!1);if(e.numDiscussionsWithMentor<2)return null;let o=e.numDiscussionsWithMentor-1;return wn.default.createElement(wn.default.Fragment,null,wn.default.createElement("button",{type:"button",className:"previous-sessions",onClick:()=>n(!0)},"See ",o," previous ",(0,Bl.default)("session",o),wn.default.createElement(C,{icon:"modal",alt:"Opens in modal"})),r?wn.default.createElement(_l,{open:r,student:e,setStudent:t,onClose:()=>n(!1)}):null)};var Jl=({student:e,setStudent:t})=>Mt.default.createElement("div",{className:"student-info"},Mt.default.createElement("div",{className:"info"},Mt.default.createElement("div",{className:"subtitle"},"Who you're mentoring"),Mt.default.createElement("div",{className:"handle-block"},Mt.default.createElement("div",{className:"handle"},e.handle),Mt.default.createElement(Xr,{value:e.reputation.toString(),type:"primary",size:"small"})),Mt.default.createElement("div",{className:"name"},e.name),Mt.default.createElement("div",{className:"bio"},e.bio),Mt.default.createElement("div",{className:"options"},e.links?Mt.default.createElement(Tf,{student:e,setStudent:t}):null,Mt.default.createElement(Ul,{student:e,setStudent:t}))),Mt.default.createElement(ne,{src:e.avatarUrl,handle:e.handle})),Tf=({student:e,setStudent:t})=>Mt.default.createElement(Mt.default.Fragment,null,e.links.favorite?Mt.default.createElement(es,{student:e,onSuccess:r=>t(r)}):null);var Ar=p(f());var pn=p(f());var Vt=p(f());var Xl=({command:e})=>{let[t,r]=(0,Vt.useState)(!1),n=(0,Vt.useCallback)(()=>{r(!t)},[t]),o=(0,Vt.useCallback)(()=>{r(!1)},[]);return Vt.default.createElement(yu,{content:Vt.default.createElement(Cf,{command:e}),interactive:!0,visible:t,maxWidth:"none",onClickOutside:o},Vt.default.createElement("button",{className:"btn-s btn-default download-btn",type:"button",onClick:n},Vt.default.createElement(C,{icon:"download",alt:"Download solution"})))},Cf=({command:e})=>Vt.default.createElement("div",{className:"z-tooltip bg-backgroundColorA shadow-lgZ1 py-24 px-24 rounded-8"},Vt.default.createElement("h3",{className:"text-h5 mb-8"},"Download this solution via the CLI"),Vt.default.createElement("p",{className:"text-p-base mb-8"},"This solution will be downloaded into a subdirectory specifically for this student."),Vt.default.createElement(Nn,{textToCopy:e}));var Pr=p(f());var wf=(e,t=`




`)=>e.map(r=>r.content).join(t),Mf=1e3,Hl=({files:e})=>{let[t,r]=(0,Pr.useState)(!1),n=wf(e),o=["c-copy-text-to-clipboard",t?"--copied":""].filter(s=>s.length>0),i=(0,Pr.useCallback)(async()=>{await xu(n),r(!0)},[n]);return(0,Pr.useEffect)(()=>{if(!t)return;let s=setTimeout(()=>r(!1),Mf);return()=>clearTimeout(s)},[t,r]),Pr.default.createElement("button",{type:"button",className:o.join(" "),onClick:i},Pr.default.createElement(C,{icon:"clipboard",alt:"Copy solution"}),t?Pr.default.createElement("span",{className:"message"},"Copied"):null,Pr.default.createElement("span",{"data-test-clipboard":!0,"data-content":n}))};var Gl=({iteration:e,isOutOfDate:t,downloadCommand:r,files:n})=>pn.default.createElement("header",{className:"iteration-header"},pn.default.createElement(yo,{iteration:e,showSubmissionMethod:!1,OutOfDateNotice:t?pn.default.createElement(Pf,null):null,showTestsStatusAsButton:!0,showFeedbackIndicator:!1}),pn.default.createElement(Xl,{command:r}),n?pn.default.createElement(Hl,{files:n}):null),Pf=()=>pn.default.createElement(an,{content:`This exercise has been updated since the student submitted this
        iteration. It might not pass the most recent set of tests. Exercises
        can be updated by students by clicking on the yellow bar in the main
        exercise page.`},pn.default.createElement("div",null,pn.default.createElement(bo.OutOfDateNotice,null)));var cr=p(f());var ts=({value:e,setValue:t})=>cr.default.createElement(an,{content:e?cr.default.createElement("div",{className:"c-mentoring-link-tooltip"},cr.default.createElement("h3",null,"Your code and mentoring conversation are currently linked."),cr.default.createElement("p",null,"This means as you navigate to another iteration, the mentoring conversation will follow and vice versa.",cr.default.createElement("strong",null,"Click or tap on the icon to unlink."))):cr.default.createElement("div",{className:"c-mentoring-link-tooltip"},cr.default.createElement("h3",null,"Your code and mentoring conversation are currently unlinked."),cr.default.createElement("p",null,"This means the left and right panes operate independently.",cr.default.createElement("strong",null,"Click or tap on the icon to link.")))},cr.default.createElement("button",{className:["link-button btn-enhanced",e?"linked":"unlinked"].join(" "),onClick:()=>t(!e)},cr.default.createElement(C,{icon:e?"mentoring-linked":"mentoring-unlinked",alt:"Link conversation"})));var Af=new Error("Unable to load files"),jl=({iterations:e,instructions:t,testFiles:r,currentIteration:n,onClick:o,language:i,indentSize:s,isOutOfDate:a,isLinked:u,setIsLinked:l,discussion:m,downloadCommand:d})=>{let{resolvedData:c,error:g,status:v,isFetching:b}=z(n.links.files,{endpoint:n.links.files,options:{}});return Ar.default.createElement(Ar.default.Fragment,null,Ar.default.createElement(Gl,{iteration:n,isOutOfDate:a,downloadCommand:d,files:c?.files}),n.status=="deleted"?Ar.default.createElement("div",{className:"deleted"},"This iteration has been deleted"):Ar.default.createElement(ae,{isFetching:b},Ar.default.createElement(j,{error:g,status:v,defaultError:Af},c?Ar.default.createElement(So,{files:c.files,language:i,indentSize:s,instructions:t,testFiles:r}):null)),e.length>1?Ar.default.createElement("footer",{className:"c-iterations-footer"},Ar.default.createElement(Ji,{iterations:e,onClick:o,current:n}),m?Ar.default.createElement(ts,{value:u,setValue:l}):null):null)};var Fo=p(f());var St=p(f());var bt=p(f());var Ff=new Error("Unable to update student"),If=({error:e})=>(tt(e,{defaultError:Ff}),null),Wl=({student:e,onYes:t,onNo:r})=>{let[n,o]=(0,bt.useState)(null),[i,{status:s,error:a}]=A(()=>{let u=n==="yes"?"DELETE":"POST",{fetch:l}=P({endpoint:e.links.block,method:u,body:null});return l.then(m=>re(m,"student"))},{onSuccess:u=>{n==="yes"?t(u):r(u)}});return(0,bt.useEffect)(()=>{!n||i()},[n,i]),bt.default.createElement("div",null,bt.default.createElement("p",null,"Do you want to mentor ",e.handle," again?"),bt.default.createElement("div",{className:"buttons"},bt.default.createElement("button",{className:"btn-small",onClick:()=>o("yes"),disabled:s==="loading"},bt.default.createElement(y,{icon:"checkmark"}),bt.default.createElement("span",null,"Yes")),bt.default.createElement("button",{className:"btn-small",onClick:()=>o("no"),disabled:s==="loading"},bt.default.createElement(y,{icon:"cross"}),bt.default.createElement("span",null,"No"))),s==="loading"?bt.default.createElement(Ie,null):null,s==="error"?bt.default.createElement(q,null,bt.default.createElement(If,{error:a})):null)};var Yr=p(f());var Lf=new Error("Unable to mark student as a favorite"),Df=({error:e})=>(tt(e,{defaultError:Lf}),null),Ql=({student:e,onFavorite:t,onSkip:r})=>{let[n,{status:o,error:i}]=A(()=>{let{fetch:s}=P({endpoint:e.links.favorite,method:"POST",body:null});return s.then(a=>re(a,"student"))},{onSuccess:s=>{!t||t(s)}});return Yr.default.createElement("div",null,Yr.default.createElement("p",null,"Add ",e.handle," to your favorites?"),Yr.default.createElement("div",{className:"buttons"},Yr.default.createElement("button",{className:"btn-small",type:"button",onClick:()=>n(),disabled:o==="loading"},Yr.default.createElement(y,{icon:"plus"}),"Add to favorites"),Yr.default.createElement("button",{className:"btn-small",type:"button",onClick:()=>r(),disabled:o==="loading"},"Skip")),o==="loading"?Yr.default.createElement(Ie,null):null,o==="error"?Yr.default.createElement(q,null,Yr.default.createElement(Df,{error:i})):null)};var Mn=p(f());var Yl=({student:e,onReset:t})=>Mn.default.createElement("div",null,e.isFavorited?Mn.default.createElement("p",null,e.handle," is one of your favorites."):e.isBlocked?Mn.default.createElement("p",null,"You will not see future mentor requests from ",e.handle,"."):Mn.default.createElement("p",null,"Thanks for mentoring ",e.handle,"."),Mn.default.createElement("button",{className:"btn-link-legacy",type:"button",onClick:()=>t()},Mn.default.createElement(y,{icon:"reset"}),Mn.default.createElement("span",null,"Change preferences")));function Of(e,t){switch(t.type){case"MENTOR_AGAIN":return{student:t.payload.student,step:"favorite"};case"WONT_MENTOR_AGAIN":return{student:t.payload.student,step:"finish"};case"FAVORITED":return{student:t.payload.student,step:"finish"};case"SKIP_FAVORITE":return S(h({},e),{step:"finish"});case"RESET":return S(h({},e),{step:"mentorAgain"})}}var Vl=({student:e,setStudent:t,defaultStep:r})=>{let n=(0,St.useRef)(null),[o,i]=(0,St.useReducer)(Of,{student:e,step:r});return(0,St.useEffect)(()=>{!n.current||n.current.scrollIntoView()},[e]),St.default.createElement("div",{ref:n,className:"finished-wizard timeline-entry"},St.default.createElement(y,{icon:"completed-check-circle",className:"timeline-marker"}),St.default.createElement("div",{className:"--details timeline-content"},St.default.createElement("h3",null,"You've finished your discussion with ",e.handle,"."),St.default.createElement("div",{className:"--step"},o.step==="mentorAgain"?St.default.createElement(Wl,{student:o.student,onYes:s=>{i({type:"MENTOR_AGAIN",payload:{student:s}})},onNo:s=>{i({type:"WONT_MENTOR_AGAIN",payload:{student:s}})}}):o.step==="favorite"?St.default.createElement(Ql,{student:o.student,onFavorite:s=>{i({type:"FAVORITED",payload:{student:s}}),t(s)},onSkip:()=>{i({type:"SKIP_FAVORITE"})}}):o.step==="finish"?St.default.createElement(Yl,{student:o.student,onReset:()=>{i({type:"RESET"})}}):St.default.createElement(St.default.Fragment,null,"Incorrect state: ",o.step," "))))};var Ir=p(f());var dr=p(f());var Vr=p(f()),fn=(0,Vr.createContext)({cacheKey:"",hasNewMessages:!1,setHasNewMessages:()=>{},highlightedPostRef:{current:null}}),ns=({discussion:e,children:t})=>{let r=`posts-discussion-${e?.uuid}`,[n,o]=(0,Vr.useState)(!1),i=(0,Vr.useRef)(null);return e?Vr.default.createElement(fn.Provider,{value:{cacheKey:r,hasNewMessages:n,setHasNewMessages:o,highlightedPostRef:i}},t):Vr.default.createElement(Vr.default.Fragment,null,t)};var zl=(e,t)=>{let r=(0,dr.useRef)(null),[n,o]=(0,dr.useState)(null),{setHasNewMessages:i,highlightedPostRef:s}=(0,dr.useContext)(fn),a=(0,dr.useRef)();return(0,dr.useEffect)(()=>{!n||n.authorHandle===t||i(!0)},[n,i,t]),(0,dr.useEffect)(()=>{if(e.length===0)return;let u=e[e.length-1];if(r.current!==u){if(r.current===null){r.current=u;return}o(u)}},[JSON.stringify(e)]),(0,dr.useEffect)(()=>{!s.current||!n||n.authorHandle===t&&s.current.scrollIntoView()},[n,s,t]),(0,dr.useEffect)(()=>{if(!!s.current)return a.current=new IntersectionObserver(u=>{!u[0].isIntersecting||i(!1)}),a.current.observe(s.current),()=>{a.current?.disconnect()}},[n,s,i]),{highlightedPost:n,highlightedPostRef:s}};var fr=p(f());var Rt=p(f());var pr=p(f());var qf=new Error("Unable to load automated feedback"),Kl=r=>{var n=r,{iteration:e}=n,t=L(n,["iteration"]);let{data:o,status:i,error:s}=ho(["automated-feedback",e.links.automatedFeedback],{endpoint:e.links.automatedFeedback,options:{}});return pr.default.createElement(G,S(h({},t),{className:"m-automated-feedback"}),pr.default.createElement(j,{LoadingComponent:_f,status:i,error:s,defaultError:qf},pr.default.createElement("header",null,pr.default.createElement(y,{icon:"automation"}),pr.default.createElement("div",{className:"info"},pr.default.createElement("h2",{className:"text-h5"},"Automated Analysis"),pr.default.createElement("div",{className:"text-textColor6 text-15 leading-150"},"for Iteration ",e.idx))),o?pr.default.createElement("div",{className:"feedback"},o.automatedFeedback.analyzerFeedback?pr.default.createElement(Xi,S(h({track:o.automatedFeedback.track},o.automatedFeedback.analyzerFeedback),{automatedFeedbackInfoLink:o.automatedFeedback.links.info})):null,o.automatedFeedback.representerFeedback?pr.default.createElement(_u,h({},o.automatedFeedback.representerFeedback)):null):null))},_f=()=>pr.default.createElement(C,{icon:"spinner",alt:"Loading automated feedback"});var $l=({userIsStudent:e,iteration:t})=>{let r=e?"You":"Student",[n,o]=(0,Rt.useState)(!1),i=(0,Rt.useCallback)(()=>{o(!0)},[]),s=(0,Rt.useCallback)(()=>{o(!1)},[]);return Rt.default.createElement(Rt.default.Fragment,null,Rt.default.createElement("button",{className:"auto-feedback",onClick:i,type:"button"},Rt.default.createElement(y,{icon:"automation",className:"info-icon"}),Rt.default.createElement("div",{className:"info"},r," received automated feedback"),Rt.default.createElement(C,{icon:"modal",alt:"Opens in a modal",className:"modal-icon"})),Rt.default.createElement(Kl,{iteration:t,open:n,onClose:s}))};var ii=p(f()),la=e=>`iteration-${e.idx}`,os=({iterations:e,on:t})=>{let[r,n]=(0,ii.useState)(e[e.length-1]),o=(0,ii.useCallback)(s=>{!t||n(s)},[t]),i=(0,ii.useCallback)(s=>{n(s),!!t&&(window.location.href=`#${la(s)}`)},[t]);return{currentIteration:r,handleIterationScroll:o,handleIterationClick:i}};var Gn=(0,fr.forwardRef)(({iteration:e,userIsStudent:t},r)=>fr.default.createElement("a",{id:la(e),className:"timeline-entry iteration-entry"},fr.default.createElement("div",{className:"timeline-marker"},fr.default.createElement(y,{icon:"iteration"})),fr.default.createElement("div",{className:"timeline-content"},fr.default.createElement("div",{className:"timeline-entry-header",ref:r},fr.default.createElement("div",{className:"info"},fr.default.createElement("strong",null,"Iteration ",e.idx),"was submitted"),fr.default.createElement("time",null,Bi(e.createdAt))),e.numActionableAutomatedComments!==0||e.numEssentialAutomatedComments!==0||e.numNonActionableAutomatedComments!==0?fr.default.createElement($l,{userIsStudent:t,iteration:e}):null)));Gn.displayName="IterationMarker";var Zl=p(f()),Rl=e=>(0,Zl.useMemo)(()=>e.reduce((t,r)=>t.concat(r.posts||[]),[]),[JSON.stringify(e)]);var Fr=p(f()),em=({iterations:e,onScroll:t})=>{let[r,n]=(0,Fr.useState)([]),[o,i]=(0,Fr.useState)([]),s=(0,Fr.useCallback)(a=>{i(r.map(u=>{let l=a.find(m=>m.target===u.ref.current);return{iteration:u,isIntersecting:l?l.isIntersecting:!1}}))},[r]);return(0,Fr.useEffect)(()=>{n(e.map(a=>S(h({},a),{ref:(0,Fr.createRef)()})))},[JSON.stringify(e)]),(0,Fr.useEffect)(()=>{let a=new IntersectionObserver(s,{threshold:1,root:null,rootMargin:"0px"});return r.forEach(u=>{!u.ref.current||a.observe(u.ref.current)}),()=>{a.disconnect()}},[r,s]),(0,Fr.useEffect)(()=>{let a=o.filter(u=>u.isIntersecting)[0];!a||t(a.iteration)},[o,t]),{iterationsWithRef:r}};var tm=e=>{let t=e.findIndex(r=>r.posts&&r.posts.length!==0);return e.slice(t)};var rm=p(f());var ma=class{constructor({discussionUuid:t},r){this.subscription=Hr.subscriptions.create({channel:"DiscussionPostListChannel",discussion_uuid:t},{received:r})}disconnect(){this.subscription.unsubscribe()}};var nm=(e,t)=>{(0,rm.useEffect)(()=>{let r=new ma({discussionUuid:e},t);return()=>{r.disconnect()}},[e,t])};var is=p(f());var zr=p(f());var Po=p(f());var om=({contentHtml:e})=>{let t=(0,Po.useRef)(null);return(0,Po.useEffect)(()=>{!t.current||Eu(t.current)},[e]),Po.default.createElement("div",{className:"post-content c-textual-content --small",ref:t,dangerouslySetInnerHTML:{__html:e}})};var im=({onEdit:e,item:t,className:r="",itemRef:n})=>{let o=t.links.edit,i=["post","timeline-entry",o?"--editable":"",r].filter(s=>s.length>0);return zr.default.createElement("div",{ref:n,className:i.join(" ")},zr.default.createElement(ne,{handle:t.authorHandle,src:t.authorAvatarUrl,className:"timeline-marker"}),zr.default.createElement("div",{className:"timeline-content"},zr.default.createElement("header",{className:"timeline-entry-header"},zr.default.createElement("div",{className:"author"},t.authorHandle),zr.default.createElement("time",null,Bi(t.updatedAt)),o?zr.default.createElement("button",{type:"button",className:"edit-button",onClick:e},zr.default.createElement(C,{icon:"edit",alt:"Edit"})):null),zr.default.createElement(om,{contentHtml:t.contentHtml})))};var jn=p(f());var Bf=new Error("Unable to edit post"),sm=({item:e,onUpdate:t,onDelete:r,onCancel:n})=>jn.default.createElement("div",{className:"post timeline-entry"},jn.default.createElement(ne,{handle:e.authorHandle,src:e.authorAvatarUrl,className:"timeline-marker"}),jn.default.createElement("div",{className:"timeline-content"},jn.default.createElement("header",{className:"timeline-entry-header"},jn.default.createElement("div",{className:"author"},e.authorHandle)),jn.default.createElement(tl,{item:e,onUpdate:t,onDelete:r,onCancel:n,defaultError:Bf})));var Ao=(0,is.forwardRef)((n,r)=>{var o=n,{post:e}=o,t=L(o,["post"]);return is.default.createElement(rl,h({itemRef:r,item:e,ViewingComponent:im,EditingComponent:sm},t))});var ss=({discussionUuid:e,iterations:t,userHandle:r,userIsStudent:n,onIterationScroll:o,status:i})=>{let s=Qe(),{cacheKey:a}=(0,Ir.useContext)(fn),u=Rl(t),{highlightedPost:l,highlightedPostRef:m}=zl(u,r),{getItemAction:d,handleEdit:c,handleEditCancel:g,handleUpdate:v,handleDelete:b}=nl(a),{iterationsWithRef:k}=em({iterations:t,onScroll:o}),T=tm(k);return nm(e,()=>s.invalidateQueries(a)),i==="loading"?Ir.default.createElement("div",{role:"status","aria-label":"Discussion post list loading indicator"},Ir.default.createElement(Ie,null)):Ir.default.createElement(Ir.default.Fragment,null,T.map(x=>Ir.default.createElement(Ir.default.Fragment,{key:x.idx},Ir.default.createElement(Gn,{iteration:x,userIsStudent:n,ref:x.ref}),x.posts?.map(E=>Ir.default.createElement(Ao,{key:E.uuid,ref:l===E?m:null,post:E,action:d(E),onEdit:c(E),onEditCancel:g,onUpdate:v,onDelete:b})))))};var am=({discussion:e,iterations:t,student:r,setStudent:n,userHandle:o,onIterationScroll:i,status:s})=>{let[a,u]=(0,Fo.useState)(e.isFinished?"finish":"mentorAgain");return Fo.default.createElement("div",{className:"discussion"},Fo.default.createElement(ss,{iterations:t,userIsStudent:!1,discussionUuid:e.uuid,userHandle:o,onIterationScroll:i,status:s}),e.isFinished?Fo.default.createElement(Vl,{student:r,defaultStep:a,setStudent:n}):null)};var hn=p(f());var Io=p(f());var um=e=>Io.default.createElement(q,null,Io.default.createElement(Jf,h({},e))),Uf=new Error("Unable to mark discussion as nothing to do"),Jf=({endpoint:e})=>{let[t,{status:r,error:n}]=A(()=>{let{fetch:o}=P({endpoint:e,method:"PATCH",body:null});return o});switch(tt(n,{defaultError:Uf}),r){case"idle":return Io.default.createElement("button",{onClick:()=>{t()},type:"button",className:"btn-keyboard-shortcut"},Io.default.createElement("div",{className:"--hint"},"Remove from Inbox"));case"loading":return Io.default.createElement(Ie,null);default:return null}};var $r=p(f());var Kr=p(f());var Xf=new Error("Unable to end discussion"),Hf=({error:e})=>(tt(e,{defaultError:Xf}),null),lm=s=>{var a=s,{open:e,onFinish:t,onCancel:r,status:n,error:o}=a,i=L(a,["open","onFinish","onCancel","status","error"]);return Kr.default.createElement(G,h({open:e,onClose:r,className:"m-generic-confirmation"},i),Kr.default.createElement("h3",null,"Are you sure you want to end this discussion?"),Kr.default.createElement("p",null,"It's normally time to end a discussion when the student has got what they wanted from the conversation, or you have taken the conversation as far as you like. It's generally polite to leave the student a final goodbye."),Kr.default.createElement("div",{className:"buttons"},Kr.default.createElement(w,{type:"button",className:"btn-small-discourage",onClick:r,status:n},"Cancel"),Kr.default.createElement(w,{type:"button",className:"btn-primary btn-s",onClick:t,status:n},"End discussion")),n==="loading"?Kr.default.createElement(Ie,null):null,n==="error"?Kr.default.createElement(q,null,Kr.default.createElement(Hf,{error:o})):null)};var mm=({endpoint:e,modalProps:t,onSuccess:r})=>{let[n,o]=(0,$r.useState)(!1),[i,{status:s,error:a}]=A(()=>{let{fetch:l}=P({endpoint:e,method:"PATCH",body:null});return l.then(m=>re(m,"discussion"))},{onSuccess:l=>r(l)}),u=(0,$r.useCallback)(()=>{s!=="loading"&&o(!1)},[s]);return $r.default.createElement($r.default.Fragment,null,$r.default.createElement("button",{type:"button",className:"btn-keyboard-shortcut finish-button",onClick:()=>{o(!0)}},$r.default.createElement("div",{className:"--hint"},"End discussion")),$r.default.createElement(lm,h({endpoint:e,open:n,onFinish:()=>i(),onCancel:u,status:s,error:a},t)))};var cm=({status:e,links:t,session:r,setSession:n,isFinished:o})=>{let i=(0,hn.useCallback)(s=>{let l=s,{student:a}=l,u=L(l,["student"]);n(S(h({},r),{discussion:u,student:a}))},[n,r]);return hn.default.createElement(hn.default.Fragment,null,e==="awaiting_mentor"?hn.default.createElement(um,{endpoint:t.markAsNothingToDo}):null,o?hn.default.createElement("div",{className:"finished"},hn.default.createElement(y,{icon:"completed-check-circle"}),"Ended"):t.finish?hn.default.createElement(mm,{endpoint:t.finish,onSuccess:i}):null)};var Wn=p(f());var gr=p(f());var hr=p(f());var Gf=new Error("Unable to save post"),dm=({discussion:e,onSuccess:t})=>{let r=Qe(),n=(0,hr.useMemo)(()=>`${e.uuid}_new_post`,[e]),[o,i]=(0,hr.useState)(!1),{cacheKey:s}=(0,hr.useContext)(fn),a=(0,hr.useCallback)(m=>{r.setQueryData([s],d=>d?{items:[...d.items,m]}:{items:[m]}),i(!1),t()},[s,t,r]),u=(0,hr.useCallback)(()=>{i(!0)},[]),l=(0,hr.useCallback)(()=>{i(!1)},[]);return hr.default.createElement(el,{endpoint:e.links.posts,expanded:o,contextId:n,onSuccess:a,onExpanded:u,onCompressed:l,defaultError:Gf})};var as=({discussion:e,children:t,onSuccess:r=()=>null})=>{let[n,o]=(0,gr.useState)(!e.isFinished),i=(0,gr.useCallback)(()=>{r()},[r]),s=(0,gr.useCallback)(()=>{o(!0)},[]);return n?gr.default.createElement(gr.default.Fragment,null,gr.default.createElement(dm,{discussion:e,onSuccess:i}),t):gr.default.createElement("button",{onClick:s,className:"continuation-btn",type:"button"},gr.default.createElement("strong",null,"This discussion has ended.")," Have more to say? You can"," ",gr.default.createElement("em",null,"still post"),".")};var Lo=p(f());var us=({onClick:e=()=>{}})=>{let{hasNewMessages:t,highlightedPostRef:r}=(0,Lo.useContext)(fn);return t?Lo.default.createElement("button",{className:"new-messages-button",type:"button",onClick:()=>{e(),r.current?.scrollIntoView()}},Lo.default.createElement(y,{icon:"comment"}),Lo.default.createElement("span",null,"New Message")):null};var ca=p(f()),ls=({links:e})=>ca.default.createElement("div",{className:"note"},"Check out our"," ",ca.default.createElement("a",{href:e.mentoringDocs,target:"_blank",rel:"noreferrer"},"mentoring docs")," ","and be the best mentor you can be.");var pm=({discussion:e,links:t})=>{let{switchToTab:r}=(0,Wn.useContext)(kt);return Wn.default.createElement("section",{className:"comment-section --comment"},Wn.default.createElement(us,{onClick:()=>{r("discussion")}}),Wn.default.createElement(as,{discussion:e,onSuccess:()=>{r("discussion")}},Wn.default.createElement(ls,{links:t})))};var jf=({iterations:e,posts:t})=>e.reduce((r,n)=>{let o=t?t.filter(i=>i.iterationIdx===n.idx):[];return r.push(S(h({},n),{posts:o})),r},[]),ms=({discussion:e,iterations:t})=>{let{data:r,status:n}=ho(`posts-discussion-${e?.uuid}`,{endpoint:e?.links.posts,options:{enabled:!!e}});return{iterations:r?jf({iterations:t,posts:r.items}):t,status:n}};var cs=p(f());var fm=({iteration:e,request:t})=>{if(!t.comment)throw"request comment expected";return cs.default.createElement("div",{className:"discussion"},cs.default.createElement(Gn,{iteration:e,userIsStudent:!1}),t.comment.contentHtml.length>0?cs.default.createElement(Ao,{action:"viewing",post:t.comment}):null)};var Qn=p(f());var Zr=p(f());var Wf=new Error("Unable to lock solution"),Qf=({error:e})=>(tt(e,{defaultError:Wf}),null),Yf=({error:e})=>Zr.default.createElement("p",null,e.message),hm=({request:e,onLock:t})=>{let[r,{status:n,error:o}]=A(()=>{let{fetch:i}=P({endpoint:e.links.lock,body:null,method:"PATCH"});return i.then(s=>re(s,"request"))},{onSuccess:i=>t(i)});return Zr.default.createElement("section",{className:"comment-section --lock"},Zr.default.createElement("h2",null,"Help ",e.student.handle," write better ",e.track.title,"?"),Zr.default.createElement("p",null,"Feel you can help ",e.student.handle," approach this in a better way? Start mentoring and show them the way to code bliss."),Zr.default.createElement("button",{type:"button",onClick:()=>r(),disabled:n==="loading",className:"btn-primary btn-m"},"Start mentoring"),Zr.default.createElement("div",{className:"note"},"You have 30 minutes until the session returns to the queue for others to mentor."),n==="loading"?Zr.default.createElement(Ie,null):null,Zr.default.createElement(q,{FallbackComponent:Yf,resetKeys:[n]},Zr.default.createElement(Qf,{error:o})))};var Lr=p(f());var Vf=new Error("Unable to start discussion"),gm=({iterations:e,request:t,defaultExpanded:r,links:n})=>{let o=`start-discussion-request-${t.uuid}`,[i,s]=(0,Lr.useState)({expanded:r,value:localStorage.getItem(`smde_${o}`)||""}),a=e[e.length-1],[u,{status:l,error:m}]=A(()=>{let{fetch:b}=P({endpoint:t.links.discussion,method:"POST",body:JSON.stringify({mentor_request_uuid:t.uuid,content:i.value,iteration_idx:a.idx})});return b.then(k=>re(k,"discussion"))},{onSuccess:b=>Ue(b.links.self)}),d=(0,Lr.useCallback)(()=>{u()},[u]),c=(0,Lr.useCallback)(()=>{i.expanded||s(S(h({},i),{expanded:!0}))},[i]),g=(0,Lr.useCallback)(()=>{s(S(h({},i),{expanded:!1}))},[i]),v=(0,Lr.useCallback)(b=>{s(S(h({},i),{value:b}))},[i]);return Lr.default.createElement("section",{className:"comment-section --comment"},Lr.default.createElement(Ru,{onSubmit:d,onClick:c,onCancel:g,onChange:v,contextId:o,value:i.value,expanded:i.expanded,status:l,error:m,defaultError:Vf,action:"new"}),Lr.default.createElement(ls,{links:n}))};var vm=({iterations:e,request:t,session:r,setSession:n,links:o})=>{let[i,s]=(0,Qn.useState)(!1),a=(0,Qn.useCallback)(u=>{s(!0),n(S(h({},r),{request:u}))},[r,n]);return t.isLocked?Qn.default.createElement(gm,{iterations:e,request:t,links:o,defaultExpanded:i}):Qn.default.createElement(hm,{request:t,onLock:a})};var kt=(0,W.createContext)({current:"instructions",switchToTab:()=>null}),da=e=>{let[t,r]=(0,W.useState)(e),{student:n,track:o,exercise:i,links:s,iterations:a,instructions:u,testFiles:l,discussion:m,guidance:d,mentorSolution:c,exemplarFiles:g,outOfDate:v,request:b,scratchpad:k,userHandle:T,downloadCommand:x}=t,[E,_]=(0,W.useState)("discussion"),B=(0,W.useCallback)(Ce=>{r(S(h({},t),{student:Ce}))},[t]),{iterations:U,status:D}=ms({discussion:m,iterations:a}),[M,X]=(0,W.useState)(!1),{currentIteration:R,handleIterationClick:be,handleIterationScroll:We}=os({iterations:U,on:M});return W.default.createElement("div",{className:"c-mentor-discussion"},W.default.createElement(Tn,{id:"mentoring-session",defaultLeftWidth:"90%",leftMinWidth:550,rightMinWidth:625,left:W.default.createElement(W.default.Fragment,null,W.default.createElement("header",{className:"discussion-header"},W.default.createElement(wo,{url:s.mentorDashboard}),W.default.createElement(Al,{student:n,track:o,exercise:i}),m?W.default.createElement(cm,S(h({},m),{session:t,setSession:r})):null),W.default.createElement(jl,{iterations:U,instructions:u,testFiles:l,currentIteration:R,onClick:be,isOutOfDate:v,language:o.highlightjsLanguage,indentSize:o.indentSize,isLinked:M,setIsLinked:X,discussion:m,downloadCommand:x})),right:W.default.createElement(ns,{discussion:t.discussion},W.default.createElement(kt.Provider,{value:{current:E,switchToTab:Ce=>_(Ce)}},W.default.createElement(W.default.Fragment,null,W.default.createElement("div",{className:"tabs",role:"tablist"},W.default.createElement(Se,{id:"discussion",context:kt},W.default.createElement(y,{icon:"comment"}),W.default.createElement(Se.Title,{text:"Discussion"})),W.default.createElement(Se,{id:"scratchpad",context:kt},W.default.createElement(y,{icon:"scratchpad"}),W.default.createElement(Se.Title,{text:"Scratchpad"})),W.default.createElement(Se,{id:"guidance",context:kt},W.default.createElement(y,{icon:"guidance"}),W.default.createElement(Se.Title,{text:"Guidance"}))),W.default.createElement(Se.Panel,{id:"discussion",context:kt},W.default.createElement(Jl,{student:n,setStudent:B}),m?W.default.createElement(am,{status:D,discussion:m,iterations:U,student:n,setStudent:B,userHandle:T,onIterationScroll:We}):W.default.createElement(fm,{iteration:U[U.length-1],request:b})),W.default.createElement(Se.Panel,{id:"scratchpad",context:kt},W.default.createElement(Zi,{scratchpad:k,track:o,exercise:i})),W.default.createElement(Se.Panel,{id:"guidance",context:kt},W.default.createElement($i,{guidance:d,mentorSolution:c,exemplarFiles:g,language:o.highlightjsLanguage,links:d.links})),m?W.default.createElement(pm,{discussion:m,links:s}):W.default.createElement(vm,{iterations:U,request:b,session:t,setSession:r,links:s}))))}))};var Cm=p(f());var qe=p(f());var Oe=p(f());var zf=({title:e,iconUrl:t,numSubmissions:r,checked:n,onChange:o,countText:i})=>Oe.default.createElement("label",{className:"c-radio-wrapper"},Oe.default.createElement("input",{type:"radio",onChange:o,checked:n,name:"queue_track"}),Oe.default.createElement("div",{className:"row"},Oe.default.createElement(ee,{iconUrl:t,title:e}),Oe.default.createElement("div",{className:"title"},e),Oe.default.createElement("div",{className:"count"},un(r,i)))),Kf=new Error("Unable to fetch tracks"),ym=o=>{var i=o,{status:e,error:t,children:r}=i,n=L(i,["status","error","children"]);return Oe.default.createElement(j,{error:t,status:e,defaultError:Kf},Oe.default.createElement($f,h({},n),r))},$f=({sizeVariant:e="large",tracks:t,isFetching:r,value:n,setValue:o,countText:i})=>{let s=(0,Oe.useRef)(null),{buttonAttributes:a,panelAttributes:u,listAttributes:l,itemAttributes:m,setOpen:d,open:c}=lr((t?.length||0)+1,v=>g(v),{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),g=(0,Oe.useCallback)(v=>{if(!t)return;t[v]?o(t[v]):s.current?.click(),d(!1)},[o,t,d]);return t?Oe.default.createElement("div",{className:`c-single-select c-track-select --size-${e}`},Oe.default.createElement(ae,{isFetching:r},Oe.default.createElement("button",h({className:"current-track","aria-label":"Open the track filter"},a),Oe.default.createElement(ee,{iconUrl:n.iconUrl,title:n.title}),Oe.default.createElement("div",{className:"track-title"},n.title),Oe.default.createElement("div",{className:"count"},un(n.numSubmissions,i)),Oe.default.createElement(C,{icon:"chevron-down",alt:"Click to change",className:"action-icon"}))),c?Oe.default.createElement("div",S(h({},u),{className:"--options"}),Oe.default.createElement("ul",h({},l),t.map((v,b)=>Oe.default.createElement("li",h({key:v.slug},m(b)),Oe.default.createElement(zf,h({countText:i,onChange:()=>{o(v),d(!1)},checked:n.slug===v.slug},v)))))):null):null};var ds=p(f());function bm({hideEndpoint:e}){return ds.default.createElement(Ui,{endpoint:e,additionalClassNames:"mb-24",icon:"automation"},ds.default.createElement("h2",null,"Initiate feedback automation...Beep boop bop..."),ds.default.createElement("p",null,"Automation is a space that allows you to see common solutions to exercises and write feedback once for all students with that particular solution."))}var Bt=p(f());var pt=p(f());var Sm=p(f());function ps(){return Sm.default.createElement("div",{className:"flex items-center justify-center font-medium text-12 leading-[18px] py-2 px-8 border-1 border-orange rounded-5 bg-lightOrange ml-8 text-lightBrown whitespace-nowrap"},"Most Popular")}var km=({representation:e,withFeedback:t})=>{let r=(0,pt.useMemo)(()=>{let n=un.bind(null,e.numSubmissions);return{counterElement:t?`Shown ${n("time")}`:`${n("occurrence")}`,dateElement:pt.default.createElement(pt.default.Fragment,null,"Last ",t?"shown":"occurrence",pt.default.createElement("br",null),Le(e.lastSubmittedAt))}},[e,t]);return pt.default.createElement("a",{className:"--representer",href:e.links.edit},pt.default.createElement(ee,{title:e.track.title,iconUrl:e.track.iconUrl}),pt.default.createElement(Ct,{title:e.exercise.title,iconUrl:e.exercise.iconUrl}),pt.default.createElement("div",{className:"--info"},pt.default.createElement("div",{className:"--exercise-title whitespace-nowrap"},pt.default.createElement("div",null,e.exercise.title)," ",e.appearsFrequently&&pt.default.createElement(ps,null)),pt.default.createElement("div",{className:"--track-title"},"in ",e.track.title," (#",e.id,")")),pt.default.createElement("div",{className:"--feedback-glimpse",dangerouslySetInnerHTML:{__html:e.feedbackHtml}}),pt.default.createElement("div",{className:"--occurencies"},r.counterElement),pt.default.createElement("time",{className:"whitespace-nowrap"},r.dateElement),pt.default.createElement(y,{icon:"chevron-right",className:"action-icon filter-textColor6"}))};var Zf=new Error("Unable to fetch queue"),xm=n=>{var o=n,{status:e,error:t}=o,r=L(o,["status","error"]);return Bt.default.createElement(j,{status:e,error:t,defaultError:Zf},Bt.default.createElement(Rf,h({},r)))};function Rf({resolvedData:e,latestData:t,page:r,setPage:n,withFeedback:o}){return Bt.default.createElement(Bt.default.Fragment,null,e&&e.results&&Bt.default.createElement(Bt.default.Fragment,null,Bt.default.createElement("div",{className:"--solutions"},e.results.length>0?e.results.map((i,s)=>Bt.default.createElement(km,{withFeedback:o,key:s,representation:i})):e.meta.unscopedTotal===1?Bt.default.createElement(th,null):Bt.default.createElement(eh,null)),Bt.default.createElement("footer",null,Bt.default.createElement(dt,{disabled:t===void 0,current:r,total:e.meta.totalPages,setPage:n}))))}function eh(){return Bt.default.createElement(ea,{icon:"no-result-magnifier",title:"No solutions found.",description:"Try changing your filters to find solutions that need feedback."})}function th(){return Bt.default.createElement(ea,{icon:"automation",svgFilter:"filter-textColor6",title:"There are currently no solutions that need feedback.",description:"Check back here later for more!"})}var Tm=p(rf());var er=p(f());var Em={slug:"",title:"",iconUrl:"",numSubmissions:0};function Nm(e,t,r,n,o,i){let[s,a]=(0,er.useState)(!1),[u,l]=(0,er.useState)(e.query?.criteria||""),{request:m,setCriteria:d,setOrder:c,setPage:g,setQuery:v}=rt(e),{resolvedData:b,status:k,error:T,isFetching:x}=Yi({cacheKey:o,request:n}),[E,_]=(0,er.useState)(Em),{status:B,resolvedData:U,latestData:D,isFetching:M}=z(["mentor-representations-list",m],m);(0,er.useEffect)(()=>{let Ce=setTimeout(()=>{(u.length>2||u==="")&&d(u)},500);return()=>{clearTimeout(Ce)}},[d,u]),wt({pushOn:Je(m.query)});let X=(0,er.useCallback)(Ce=>{g(1),l(""),_(Ce),v(S(h({},m.query),{trackSlug:Ce.slug,page:1}))},[g,v,m.query]);(0,er.useEffect)(()=>{if(b.length>0&&E===Em){let Ce=b.find(mt=>mt.slug==m.query.trackSlug);_(Ce||b[0])}},[m.query.trackSlug,E,b]);let R=(0,er.useCallback)(Ce=>{let mt={};Ce?Object.assign(mt,S(h({},m.query),{onlyMentoredSolutions:!0})):delete mt.onlyMentoredSolutions,v(mt),g(1),a($e=>!$e)},[m.query,g,v]),be=(0,er.useCallback)(Ce=>Ce&&U?{with_feedback:U.meta.totalCount,without_feedback:r}:U?{with_feedback:t,without_feedback:U.meta.totalCount}:{with_feedback:0,without_feedback:0},[t,r,U]),We=(0,er.useMemo)(()=>be(i),[be,i]);return{handleTrackChange:X,handleOnlyMentoredSolutions:R,selectedTrack:E,status:B,resolvedData:U,latestData:D,isFetching:M,checked:s,setChecked:a,order:m.query.order,setOrder:c,page:m.query.page,setPage:g,tracks:b,trackListStatus:k,trackListError:T,isTrackListFetching:x,criteria:u,setCriteria:l,feedbackCount:We,request:m}}function fs({tracksRequest:e,sortOptions:t,links:r,representationsRequest:n,withFeedback:o,representationsWithoutFeedbackCount:i,representationsWithFeedbackCount:s,trackCacheKey:a,isIntroducerHidden:u}){let{feedbackCount:l,checked:m,handleTrackChange:d,isFetching:c,isTrackListFetching:g,latestData:v,order:b,page:k,resolvedData:T,selectedTrack:x,handleOnlyMentoredSolutions:E,setCriteria:_,setOrder:B,setPage:U,status:D,trackListError:M,trackListStatus:X,tracks:R,criteria:be}=Nm(n,s,i,e,a,o),We=(0,qe.useRef)(),Ce=(0,qe.useCallback)(mt=>{clearTimeout(We.current),be&&(mt.length>2||mt.length===0)&&(We.current=setTimeout(()=>U(1),500))},[be,U]);return qe.default.createElement("div",{className:"c-mentor-inbox"},!u&&qe.default.createElement(bm,{hideEndpoint:r.hideIntroducer}),qe.default.createElement("div",{className:"flex justify-between items-center"},qe.default.createElement("div",{className:"tabs"},qe.default.createElement(ln,{status:"without_feedback",currentStatus:o?"with_feedback":"without_feedback",setStatus:()=>null},qe.default.createElement("a",{href:r.withoutFeedback},"Need feedback"),T?qe.default.createElement("div",{className:"count"},l.without_feedback?.toLocaleString()):null),qe.default.createElement(ln,{status:"with_feedback",currentStatus:o?"with_feedback":"without_feedback",setStatus:()=>null},qe.default.createElement("a",{href:r.withFeedback},"Feedback submitted"),T?qe.default.createElement("div",{className:"count"},l.with_feedback?.toLocaleString()):null)),!o&&qe.default.createElement(Gu,{className:"mb-20",checked:m,setChecked:E},"Only show solutions I've mentored before")),qe.default.createElement("div",{className:"container"},qe.default.createElement("header",{className:"c-search-bar automation-header"},qe.default.createElement(ym,{status:X,error:M,tracks:R,countText:o?"submission":"request",isFetching:g,cacheKey:a,value:x,setValue:d,sizeVariant:"automation"}),qe.default.createElement("div",{className:"flex flex-row flex-grow justify-between"},qe.default.createElement(ju,{className:"mr-24",setFilter:mt=>{_(mt),Ce(mt)},filter:be,placeholder:"Filter by exercise (min 3 chars)"}),qe.default.createElement(Co,{componentClassName:"automation-sorter",sortOptions:t,order:b,setOrder:B,setPage:U}))),qe.default.createElement(ae,{isFetching:c},qe.default.createElement(xm,{withFeedback:o,error:Tm.error,latestData:v,page:k,setPage:U,resolvedData:T,status:D}))))}function pa({data:e}){return Cm.default.createElement(fs,S(h({},e),{trackCacheKey:"automation-with-feedback-track-cache-key",withFeedback:!0}))}var wm=p(f());function fa({data:e}){return wm.default.createElement(fs,S(h({},e),{trackCacheKey:"automation-without-feedback-track-cache-key",withFeedback:!1}))}var qo=p(f());var xt=p(f());var si=p(f()),rh=({num:e,label:t,selected:r})=>{let n=`Step ${e}: ${t}`;return si.default.createElement("li",{className:["step",r?"selected":""].join(" "),"aria-current":r?"step":void 0},si.default.createElement("span",{className:"sr-only"},n))},Mm=({steps:e,currentStep:t})=>si.default.createElement("ul",{"aria-label":"Become a mentor progress",className:"steps"},e.map((r,n)=>si.default.createElement(rh,{label:r.label,key:r.id,num:n+1,selected:r.id===t})));var ha=p(f());var Pm=({onClick:e})=>ha.default.createElement("button",{type:"button",className:"close-btn",onClick:e},ha.default.createElement(C,{icon:"close",alt:"Close the modal"}));var Do=p(f());var Am=({links:e,selected:t,setSelected:r,onContinue:n})=>Do.default.createElement("section",{className:"tracks-section"},Do.default.createElement("h2",null,"Select the tracks you want to mentor"),Do.default.createElement("p",null,"This allows us to only show you the solutions you want to mentor."," ",Do.default.createElement("strong",null,"Don\u2019t worry, you can change these selections at anytime.")),Do.default.createElement(Ki,{tracksEndpoint:e.tracks,selected:t,setSelected:r,onContinue:n}));var oe=p(f());var Pn=p(f());var Fm=()=>Pn.default.createElement("div",{className:"reputation-info"},Pn.default.createElement("div",{className:"inner"},Pn.default.createElement(y,{icon:"reputation"}),Pn.default.createElement("div",{className:"info"},Pn.default.createElement("h3",null,"Reputation & testimonials"),Pn.default.createElement("p",null,"You'll gain ",Pn.default.createElement("strong",null,"6 reputation")," for each successful mentoring session. At the end of every discussion, students are invited to leave you a testimonial."))));var Oo=p(f());var ai=({children:e,onChange:t})=>Oo.default.createElement("label",{className:"c-checkbox-wrapper"},Oo.default.createElement("input",{onChange:t,required:!0,type:"checkbox"}),Oo.default.createElement("div",{className:"row"},Oo.default.createElement("div",{className:"c-checkbox"},Oo.default.createElement(y,{icon:"checkmark"})),e));var nh=4,oh=new Error("Unable to complete registration"),Im=({links:e,selected:t,onContinue:r,onBack:n})=>{let[o,{status:i,error:s}]=A(()=>{let{fetch:d}=P({endpoint:e.registration,method:"POST",body:JSON.stringify({track_slugs:t,accept_terms:!0})});return d},{onSuccess:()=>{r()}}),[a,u]=(0,oe.useState)(0),l=(0,oe.useCallback)(d=>{d.target.checked?u(a+1):u(a-1)},[a]),m=(0,oe.useCallback)(()=>{o()},[o]);return oe.default.createElement("section",{className:"commit-section"},oe.default.createElement("div",{className:"lhs"},oe.default.createElement("h2",null,"Commit to being a good mentor"),oe.default.createElement("p",null,"Mentoring on Exercism can be an incredible experience for students and mentors alike. To ensure it remains a positive place for everyone, we ask all mentors to affirm Exercism's values before they mentor their first solution."),oe.default.createElement(Fm,null),oe.default.createElement("div",{className:"commitment"},oe.default.createElement("h3",null,"You agree to:"),oe.default.createElement(ai,{onChange:l},oe.default.createElement("span",null,"Abide by the"," ",oe.default.createElement("a",{href:e.codeOfConduct,target:"_blank",rel:"noreferrer"},"Code of Conduct"," ",oe.default.createElement(C,{icon:"external-link",alt:"Opens in a new tab"})))),oe.default.createElement(ai,{onChange:l},oe.default.createElement("span",null,"Be patient, empathic and kind to those you're mentoring")),oe.default.createElement(ai,{onChange:l},oe.default.createElement("span",null,"Demonstrate"," ",oe.default.createElement("a",{href:e.intellectualHumility,target:"_blank",rel:"noreferrer"},"intellectual humility"," ",oe.default.createElement(C,{icon:"external-link",alt:"Opens in a new tab"})))),oe.default.createElement(ai,{onChange:l},oe.default.createElement("span",null,"Not use Exercism to promote personal agendas"))),oe.default.createElement("div",{className:"flex"},oe.default.createElement(w,{onClick:n,status:i,className:"btn-default btn-m mr-16"},"Back"),oe.default.createElement(w,{className:"btn-primary btn-m",onClick:m,status:i,disabled:a!==nh},oe.default.createElement("span",null,"Continue"),oe.default.createElement(y,{icon:"arrow-right"}))),oe.default.createElement(q,null,oe.default.createElement(de,{error:s,defaultError:oh}))),oe.default.createElement("div",{className:"rhs"},oe.default.createElement(y,{icon:"mentoring-screen",category:"graphics"})))};var Pt=p(f());var Lm=({links:e})=>Pt.default.createElement("section",{className:"celebrate-section"},Pt.default.createElement(y,{icon:"confetti",category:"graphics"}),Pt.default.createElement("h2",null,"You\u2019re now a mentor!"),Pt.default.createElement("h3",null,"Thank you - we\u2019re so grateful for your commitment \u{1F64F}"),Pt.default.createElement("p",{className:"welcome"},"We want to make getting started with mentoring as easy as possible. Watch the video below to learn how to get started."),Pt.default.createElement("div",{className:"video-frame"},Pt.default.createElement("header",{className:"video-header"},Pt.default.createElement(C,{icon:"video",alt:"This is a video"}),Pt.default.createElement("div",{className:"info"},Pt.default.createElement("h3",null,"Welcome to the Mentor Team!"),Pt.default.createElement("p",null,"Video \xB7 0:24"))),Pt.default.createElement("div",{className:"video",style:{padding:"56.25% 0 0 0",position:"relative"}},Pt.default.createElement("iframe",{src:e.video,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0})),Pt.default.createElement("script",{src:"https://player.vimeo.com/api/player.js"})),Pt.default.createElement("a",{href:e.dashboard,className:"btn-primary btn-m"},"I'm ready to get started!"));var ui=[{id:"CHOOSE_TRACK",label:"Select the tracks you want to mentor"},{id:"COMMIT",label:"Commit to being a good mentor"},{id:"CONGRATULATIONS",label:"Congratulations"}],ih=({children:e})=>xt.default.createElement("header",null,e),sh=({currentStep:e,links:t,onContinue:r,onBack:n})=>{let[o,i]=(0,xt.useState)([]);switch(e){case"CHOOSE_TRACK":return xt.default.createElement(Am,{links:t.chooseTrackStep,selected:o,setSelected:i,onContinue:r});case"COMMIT":return xt.default.createElement(Im,{links:t.commitStep,selected:o,onContinue:r,onBack:n});case"CONGRATULATIONS":return xt.default.createElement(Lm,{links:t.congratulationsStep})}},Dm=n=>{var o=n,{onClose:e,links:t}=o,r=L(o,["onClose","links"]);let[i,s]=(0,xt.useState)("CHOOSE_TRACK"),a=(0,xt.useCallback)(()=>{let l=ui.findIndex(m=>m.id===i)+1;s(ui[l].id)},[i]),u=(0,xt.useCallback)(()=>{let l=ui.findIndex(m=>m.id===i)-1;s(ui[l].id)},[i]);return xt.default.createElement(G,S(h({},r),{onClose:e,className:"m-become-mentor",cover:!0}),xt.default.createElement("div",{className:"md-container"},xt.default.createElement(ih,null,xt.default.createElement(Mm,{steps:ui,currentStep:i}),xt.default.createElement(Pm,{onClick:e})),xt.default.createElement(sh,{currentStep:i,links:t,onContinue:a,onBack:u})))};var ga=({links:e,text:t,size:r})=>{let[n,o]=(0,qo.useState)(!1);return qo.default.createElement("div",null,qo.default.createElement("button",{type:"button",className:`btn-primary btn-${r}`,onClick:()=>o(!0)},t),qo.default.createElement(Dm,{open:n,links:e,onClose:()=>o(!1)}))};var Me=p(f());var ft=p(f());var tr=p(f());var hs=n=>{var o=n,{testimonial:e,platforms:t}=o,r=L(o,["testimonial","platforms"]);return tr.default.createElement(G,h({closeButton:!0,cover:!0,celebratory:!0,className:"m-testimonial"},r),tr.default.createElement(ne,{src:e.student.avatarUrl,handle:e.student.handle}),tr.default.createElement("div",{className:"testimonial-section"},tr.default.createElement("div",{className:"content"},e.content),tr.default.createElement("div",{className:"student"},"by ",tr.default.createElement("strong",null,e.student.handle)),tr.default.createElement("div",{className:"exercise"},"on ",tr.default.createElement("strong",null,e.exercise.title)," in",tr.default.createElement(ee,{iconUrl:e.track.iconUrl,title:e.track.title}),tr.default.createElement("div",{className:"track-title"},e.track.title)),tr.default.createElement("time",{dateTime:e.createdAt},Le(e.createdAt))),tr.default.createElement(Xu,{title:"Share your testimonial with the world",url:e.links.self,shareTitle:"View this testimonial on Exercism",platforms:t}))};var Ut=p(f());var rr=p(f());var ah=new Error("Unable to delete testimonial"),Om=o=>{var i=o,{testimonial:e,cacheKey:t,onClose:r}=i,n=L(i,["testimonial","cacheKey","onClose"]);let s=Qe(),[a,{status:u,error:l}]=A(()=>{let{fetch:c}=P({endpoint:e.links.delete,method:"DELETE",body:null});return c},{onSuccess:()=>{s.setQueryData(t,c=>{if(!!c)return S(h({},c),{results:c.results.filter(g=>g.uuid!==e.uuid)})})}}),m=(0,rr.useCallback)(c=>{c.preventDefault(),a()},[a]),d=(0,rr.useCallback)(()=>{u!=="loading"&&r()},[r,u]);return rr.default.createElement(G,h({className:"m-generic-confirmation",onClose:d},n),rr.default.createElement("h3",null,"Are you sure you want to delete this testimonial?"),rr.default.createElement("p",null,"Deleting the testimonial will hide it from this list, your profile and mentoring stats. ",rr.default.createElement("strong",null,"This action is irreversible.")),rr.default.createElement("form",{"data-turbo":"false",onSubmit:m,className:"buttons"},rr.default.createElement(w,{type:"submit",status:u,className:"btn-warning btn-s"},"Delete testimonial"),rr.default.createElement(w,{type:"button",status:u,onClick:d,className:"btn-enhanced btn-s"},"Cancel")),rr.default.createElement(q,{resetKeys:[u]},rr.default.createElement(de,{error:l,defaultError:ah})))};var qm=({testimonial:e,cacheKey:t})=>{let{buttonAttributes:r,panelAttributes:n,listAttributes:o,itemAttributes:i,setOpen:s,open:a}=lr(1),[u,l]=(0,Ut.useState)(!1),m=(0,Ut.useCallback)(()=>{s(!1),l(!0)},[s]),d=(0,Ut.useCallback)(()=>{l(!1)},[]);return Ut.default.createElement(Ut.default.Fragment,null,Ut.default.createElement("button",h({className:"options-button"},r),Ut.default.createElement(C,{icon:"more-horizontal",alt:"Options"})),a?Ut.default.createElement("div",S(h({},n),{className:"c-dropdown-generic-menu"}),Ut.default.createElement("ul",h({},o),Ut.default.createElement("li",h({},i(0)),Ut.default.createElement("button",{onClick:m},"Delete testimonial")))):null,Ut.default.createElement(Om,{open:u,onClose:d,testimonial:e,cacheKey:t}))};var _m=({testimonial:e,cacheKey:t,isRevealed:r,platforms:n})=>{let[o,i]=(0,ft.useState)(!1);return ft.default.createElement(ft.default.Fragment,null,ft.default.createElement("div",{className:"testimonial"},ft.default.createElement("a",{href:"#",onClick:s=>{i(!0),s.preventDefault()}},ft.default.createElement(ee,h({},e.track)),ft.default.createElement(ne,{src:e.student.avatarUrl,handle:e.student.handle}),ft.default.createElement("div",{className:"info"},ft.default.createElement("div",{className:"student"},e.student.handle),ft.default.createElement("div",{className:"exercise"},"on ",e.exercise.title," in ",e.track.title)),r?ft.default.createElement("div",{className:"new"},"New"):null,ft.default.createElement("div",{className:"content"},e.content),ft.default.createElement("time",{dateTime:e.createdAt},Le(e.createdAt)),ft.default.createElement(y,{icon:"modal",className:"action-icon"})),ft.default.createElement(qm,{testimonial:e,cacheKey:t})),ft.default.createElement(hs,{open:o,testimonial:e,onClose:()=>i(!1),platforms:n}))};var At=p(f());var uh=new Error("Unable to reveal testimonial"),Bm=({testimonial:e,onRevealed:t,cacheKey:r,platforms:n})=>{let o=Qe(),i=Bu(),[s,a]=(0,At.useState)(!1),[u,l]=(0,At.useState)(null),[m,{status:d,error:c}]=A(()=>{let{fetch:v}=P({endpoint:e.links.reveal,method:"PATCH",body:null});return v.then(b=>re(b,"testimonial"))},{onSuccess:v=>{!i.current||(l(v),a(!0))}}),g=(0,At.useCallback)(()=>{let v=o.getQueryData(r);!v||!u||o.setQueryData(r,S(h({},v),{results:v.results.map(b=>b.uuid===u.uuid?u:b)}))},[r,u,o]);return At.default.createElement("a",{href:"#",onClick:v=>{m(),v.preventDefault()},className:"unrevealed-testimonial"},At.default.createElement(ee,h({},e.track)),At.default.createElement(y,{icon:"avatar-placeholder",className:"c-avatar"}),At.default.createElement("div",{className:"info"},At.default.createElement("div",{className:"student"},"Someone left you a testimonial\u2026 \u{1F632}"),At.default.createElement("div",{className:"exercise"},"Click / tap to reveal")),At.default.createElement("time",{dateTime:e.createdAt},Le(e.createdAt)),At.default.createElement(y,{icon:"modal",className:"action-icon"}),At.default.createElement(j,{error:c,status:d,defaultError:uh}),u?At.default.createElement(hs,{open:s,testimonial:u,onClose:()=>{a(!1),g(),t()},platforms:n}):null)};var vr=p(f());var lh=({option:e})=>vr.default.createElement(vr.default.Fragment,null,vr.default.createElement(Eo,{track:e}),vr.default.createElement("div",{className:"title"},e.title)),mh=({option:e})=>vr.default.createElement(vr.default.Fragment,null,vr.default.createElement(Eo,{track:e}),vr.default.createElement("div",{className:"sr-only"},e.title)),Um=({tracks:e,value:t,setValue:r})=>{let n=e.find(i=>i.slug===t)||e[0],o=(0,vr.useCallback)(i=>{r(i.slug)},[r]);return vr.default.createElement(Gi,{tracks:e,value:n,setValue:o,OptionComponent:lh,SelectedComponent:mh,size:"inline"})};var An=p(f());var Jm=({option:e})=>{switch(e){case"unrevealed":return An.default.createElement(An.default.Fragment,null,"Sort by Unrevealed First");case"newest":return An.default.createElement(An.default.Fragment,null,"Sort by Newest First");case"oldest":return An.default.createElement(An.default.Fragment,null,"Sort by Oldest First")}},Xm=({value:e,setValue:t})=>An.default.createElement(Ye,{options:["unrevealed","newest","oldest"],value:e,setValue:t,SelectedComponent:Jm,OptionComponent:Jm});var ch=new Error("Unable to load testimonials"),dh="unrevealed",va=({request:e,tracks:t,platforms:r})=>{let{request:n,setQuery:o,setCriteria:i,setPage:s,setOrder:a}=rt(e),[u,l]=(0,Me.useState)(n.query?.criteria||""),m=["mentor-testimonials",n.endpoint,Je(n.query)],{status:d,resolvedData:c,latestData:g,isFetching:v,error:b}=z(m,S(h({},n),{query:Je(n.query)})),k=(0,Me.useCallback)(E=>{o(S(h({},n.query),{trackSlug:E,page:void 0}))},[n.query,o]),[T,x]=(0,Me.useState)([]);return wt({pushOn:Je(n.query)}),(0,Me.useEffect)(()=>{let E=setTimeout(()=>{i(u)},200);return()=>{clearTimeout(E)}},[i,u]),Me.default.createElement("div",{className:"lg-container"},Me.default.createElement("article",{className:"content"},Me.default.createElement("div",{className:"c-search-bar"},Me.default.createElement(Um,{tracks:t,value:n.query.trackSlug,setValue:k}),Me.default.createElement("input",{className:"--search",placeholder:"Search by student name or testimonial",value:u,onChange:E=>{l(E.target.value)}}),Me.default.createElement(Xm,{value:n.query.order||dh,setValue:a})),Me.default.createElement(ae,{isFetching:v},Me.default.createElement(j,{status:d,error:b,defaultError:ch},c?c.results.length==0?Me.default.createElement("div",{className:"no-testimonials"},Me.default.createElement(y,{icon:"testimonials"}),Me.default.createElement("h2",null,"You currently have no testimonials"),Me.default.createElement("p",null,"Testimonials are left by students on ending successful mentoring discussions.")):Me.default.createElement(Me.default.Fragment,null,Me.default.createElement("div",{className:"testimonials"},c.results.map(E=>E.isRevealed?Me.default.createElement(_m,{key:E.uuid,testimonial:E,cacheKey:m,isRevealed:T.includes(E.uuid),platforms:r}):Me.default.createElement(Bm,{key:E.uuid,testimonial:E,cacheKey:m,onRevealed:()=>x([...T,E.uuid]),platforms:r})))):null))),c?Me.default.createElement(dt,{disabled:g===void 0,current:n.query.page,total:c.meta.totalPages,setPage:s}):null)};var mi=p(f());var Yn=p(f());var yr=p(f());var gs=({representationData:e})=>yr.default.createElement(yr.default.Fragment,null,yr.default.createElement(ph,{solutionNumber:e.id,appearsFrequently:e.appearsFrequently,lastOccurred:Hi(e.lastSubmittedAt),occurrenceNumber:e.numSubmissions}),yr.default.createElement(ae,{isFetching:!1},yr.default.createElement(So,{files:e.files,language:e.track.highlightjsLanguage,indentSize:2,instructions:e.instructions,testFiles:e.testFiles})));function ph({solutionNumber:e,occurrenceNumber:t,lastOccurred:r,appearsFrequently:n}){return yr.default.createElement("header",{className:"iteration-header"},yr.default.createElement("div",null,yr.default.createElement("div",{className:"flex flex-row items-center text-15 text-primaryBtnBorder font-semibold leading-170"},"Solution #",e," ",n&&yr.default.createElement(ps,null)),yr.default.createElement("div",{className:"text-14 text-btnBorder font-medium leading-160"},un(t,"occurrence")," \xB7 Last occurred"," ",r)),yr.default.createElement("div",null))}var gn=p(f());function ya({track:e,exercise:t}){return gn.default.createElement(gn.default.Fragment,null,gn.default.createElement(ee,{title:e.title,className:"!w-[32px] !h-[32px]",iconUrl:e.iconUrl}),gn.default.createElement("div",{className:"student"},gn.default.createElement(ne,{src:t.iconUrl}),gn.default.createElement("div",{className:"info"},gn.default.createElement("div",{className:"exercise"},"You\u2019re giving feedback on a solution set for"),gn.default.createElement("div",{className:"handle"},t.title," in ",e.title))))}function ba({representation:e,links:t}){return Yn.default.createElement(Yn.default.Fragment,null,Yn.default.createElement("header",{className:"discussion-header"},Yn.default.createElement(wo,{url:t.back}),Yn.default.createElement(ya,{exercise:e.exercise,track:e.track})),Yn.default.createElement(gs,{representationData:e}))}var Fn=p(f());var vs=p(f());var li=p(f());var fh=[{label:"Essential",value:"essential",tooltip:{title:"If you mark this as Essential",body:"Student is prompted heavily to action this before proceeding. Essential enhancement."}},{label:"Recommended",value:"actionable",tooltip:{title:"If you mark this as Recommended",body:"Student is prompted to action this before proceeding, but not considered essential. High-value enhancement."}},{label:"Optional",value:"non_actionable",tooltip:{title:"If you mark this as Optional",body:"Student is not prompted to action this before proceeding, entirely a low-value enhancement."}},{label:"Celebratory",value:"celebratory",tooltip:{title:"If you mark this as Celebratory",body:"Student is not prompted to action this before proceeding, congratules the student on their solution."}}];function Sa({feedbackType:e,setFeedbackType:t}){let r=(0,li.useCallback)(n=>{t(n.target.value)},[t]);return li.default.createElement("div",null,fh.map(n=>li.default.createElement(Vu,{key:n.label,value:n.value,checked:e==n.value,onChange:r,label:n.label,tooltip:n.tooltip})))}function ka({feedbackType:e,setFeedbackType:t}){return vs.default.createElement("div",{className:"mb-4"},vs.default.createElement("h2",{className:"text-h6 mb-8"},"How important is this?"),vs.default.createElement(Sa,{feedbackType:e,setFeedbackType:t}))}var Ft=p(f());var tn=p(f());var Rr=p(f()),Gm=p(tf());var xa=p(f()),Hm=({type:e})=>{switch(e){case"essential":return xa.default.createElement("div",{className:"text-13 leading-170 font-mono font-bold rounded-3 px-8 mb-8 bg-red text-white !w-fit"},"Essential");case"actionable":return xa.default.createElement("div",{className:"text-13 leading-170 font-mono font-bold rounded-3 px-8 mb-8 bg-warning text-white !w-fit"},"Recommended");default:return null}};function jm({html:e,mentor:t,feedbackType:r}){let n=Yu(e);return Rr.default.createElement("div",{className:"px-24 py-16 leading-160 overflow-auto"},Rr.default.createElement("div",{className:"flex flex-row items-center mb-12"},Rr.default.createElement(ne,{className:"w-[32px] h-[32px] mr-16",src:t.avatarUrl}),Rr.default.createElement("div",{className:"text-15 text-btnBorder font-medium"},Rr.default.createElement("span",{className:"text-primaryBtnBorder"},t.name)," gave this feedback on a solution exactly like yours:")," "),Rr.default.createElement("div",{className:"flex flex-start"},Rr.default.createElement(Hm,{type:r})),Rr.default.createElement("div",{className:"mb-4",ref:n,dangerouslySetInnerHTML:{__html:e}}),Rr.default.createElement("div",{className:"text-btnBorder font-medium"},"Commented on ",`${(0,Gm.default)(Date.now()).format("D MMM YYYY")}`))}var en=p(f());var Wm=p(f());function Qm({onClick:e}){return Wm.default.createElement("button",{onClick:e,className:"mr-16 px-[18px] py-[12px] border border-1 border-primaryBtnBorder text-primaryBtnBorder text-16 rounded-8 font-semibold shadow-xsZ1v2"},"Cancel")}var Ym=p(f());function _o({onClick:e,children:t,className:r,disabled:n}){return Ym.default.createElement("button",{onClick:e,className:`border-1 border-primaryBtnBorder shadow-xsZ1v3 bg-purple text-white text-16 font-semibold rounded-8 ${r} ${n?"bg-disabledLight text-disabledLabel !border-transparent !shadow-none":""}`,disabled:n},t)}function Vm({numOfSolutions:e,examples:t,selectedExample:r,setSelectedExample:n,onClose:o,onSubmit:i}){return en.default.createElement("div",{className:"flex flex-row justify-between items-center h-[70px] border-t-1 border-borderLight2 px-24 flex-shrink-0"},en.default.createElement("div",{className:"tabs flex flex-row child:px-12 child:py-10 child:text-14"},t.map((s,a)=>en.default.createElement(ln,{key:`example-tab-${a}`,currentStatus:r,status:a,setStatus:n},"Example ",a+1))),en.default.createElement("div",{className:"flex flex-row items-center"},en.default.createElement("div",{className:"mr-32 text-right leading-150 text-15 text-btnBorder"},"You can edit this feedback anytime.",en.default.createElement("br",null),"Your feedback will appear on"," ",en.default.createElement("strong",{className:"font-medium text-primaryBtnBorder"},un(e,"solution"))),en.default.createElement(Qm,{onClick:o}),en.default.createElement(_o,{onClick:i,className:"px-[18px] py-12 !m-0"},"Submit")))}function zm({data:e,onClose:t,isOpen:r,html:n,markdown:o,feedbackType:i,onSuccessfulSubmit:s}){let[a,u]=(0,tn.useState)(0);async function l(){let{fetch:c}=P({endpoint:e.representation.links.update,method:"PATCH",body:JSON.stringify({representation:{feedback_type:i,feedback_markdown:o}})});return c}let[m]=A(l,{onSuccess:s}),d=(0,tn.useCallback)(()=>{m()},[m]);return tn.default.createElement(G,{ReactModalClassName:"c-mentor-discussion !p-0 !w-[80%] !h-[65vh] flex flex-col",onClose:t,open:r},tn.default.createElement(Tn,{id:"automation-preview",rightMinWidth:350,leftMinWidth:550,defaultLeftWidth:"100%",left:tn.default.createElement(gs,{representationData:h(h({},e.representation),e.examples[a])}),right:tn.default.createElement(jm,{feedbackType:i,mentor:e.mentor,html:n})}),tn.default.createElement(Vm,{onSubmit:d,examples:e.examples,selectedExample:a,setSelectedExample:u,numOfSolutions:e.representation.numSubmissions,onClose:t}))}var nr=p(f());function Km({isOpen:e,onClose:t,goBackLink:r}){return nr.default.createElement(G,{ReactModalClassName:"!rounded-24",open:e,onClose:t},nr.default.createElement("div",{className:"flex flex-col items-center rounded-24"},nr.default.createElement(y,{icon:"green-check",className:"w-[64px] h-[64px] mb-12"}),nr.default.createElement("h2",{className:"text-h2 mb-12"},"Thanks for submitting feedback!"),nr.default.createElement("p",{className:"w-[640px] text-18 leading-paragraph text-center mb-20"},"This will get shown to the relevant students on their solutions as they work through exercises."," ",nr.default.createElement("strong",{className:"font-medium"},"We\u2019ll show you how many times your solution gets shown to students too.")),nr.default.createElement("div",{className:"flex flex-row items-center border-gradient-primary text-white font-medium text-18 border border-4 rounded-12  px-24 py-8 mb-32 child:mx-12"},"You earned ",nr.default.createElement(Xr,{value:"+3",type:"primary",size:"small"})," ","Reputation for this, thanks \u{1F60A}"),nr.default.createElement("a",{href:r},nr.default.createElement(_o,{className:"!w-[100%] py-[16px] px-[24px] mb-16",onClick:()=>null},nr.default.createElement("div",{className:"flex flex-row justify-center text-18"},"Continue to solutions requiring feedback"," ",nr.default.createElement(C,{alt:"right",icon:"arrow-right",className:"w-[16px] h-[16px] filter-white ml-12"}))))))}var Dr=p(f());function $m({onChange:e,value:t,expanded:r,onFocus:n,onBlur:o,onPreviewClick:i}){let[s,a]=(0,Dr.useState)(null),u=(0,Dr.useCallback)(l=>{a(l)},[]);return(0,Dr.useEffect)(()=>{!r||s?.focus()},[s,r]),Dr.default.createElement("div",{id:"markdown-editor",onClick:n,onBlur:o,className:`c-markdown-editor ${r?"--expanded":"--compressed"}`},Dr.default.createElement(xo,{onChange:e,editorDidMount:u,value:t}),Dr.default.createElement("div",{className:"editor-footer"},Dr.default.createElement(_o,{disabled:!/[a-zA-Z0-9]/.test(t),className:"px-[18px] py-[12px] ",onClick:i},"Preview & Submit")))}function Ea({data:e,feedbackType:t}){let[r,n]=(0,Ft.useState)(e.representation.feedbackMarkdown||e.representation.draftFeedbackMarkdown||""),[o,i]=(0,Ft.useState)(!1),[s,a]=(0,Ft.useState)(!1),[u,l]=(0,Ft.useState)(!!e.representation.feedbackMarkdown||!!e.representation.draftFeedbackMarkdown||!1),[m,d]=(0,Ft.useState)("<p>Loading..</p>"),c=(0,Ft.useCallback)(T=>n(T),[n]),g=(0,Ft.useCallback)(T=>{T||l(!0)},[]),v=(0,Ft.useCallback)(T=>{T||l(!1)},[]),[b]=A(async T=>{let{fetch:x}=P({endpoint:document.querySelector('meta[name="parse-markdown-url"]')?.content,method:"POST",body:JSON.stringify({parse_options:{strip_h1:!1,lower_heading_levels_by:2},markdown:T})});return x.then(E=>{d(`<div class="c-textual-content --small">${E.html}</div>`)})}),k=(0,Ft.useCallback)(()=>{a(!0),b(r)},[b,r]);return Ft.default.createElement("div",null,Ft.default.createElement($m,{onChange:c,value:r,expanded:u,onFocus:()=>g(u),onBlur:()=>v(r),onPreviewClick:k}),Ft.default.createElement(zm,{feedbackType:t,markdown:r,data:e,isOpen:s,html:m,onClose:()=>a(!1),onSuccessfulSubmit:()=>{a(!1),i(!0)}}),Ft.default.createElement(Km,{goBackLink:e.links.success,isOpen:o,onClose:()=>i(!1)}))}var He=p(f());var Bo=p(f());function Na({guidance:e}){let t=Bo.default.createElement("a",{href:e.links.improveRepresenterGuidance,target:"_blank",rel:"noreferrer"},"Pull Request on GitHub");return e.representations?Bo.default.createElement("div",{className:"px-24 shadow-xsZ1v2 pt-12 pb-24"},Bo.default.createElement("h2",{className:"text-h4 mb-12"},"Please read before giving feedback"),Bo.default.createElement("div",{dangerouslySetInnerHTML:{__html:`<div class="c-textual-content --base">${e.representations}</div>`}})):Bo.default.createElement("p",{className:"px-24 mb-16 text-p-base"},"This representer doesn't have any guidance yet. Guidance notes are written by our maintainers to explain what normalizations occur during the representation process. If you are a maintainer, please help get them started for this representer by sending a ",t,".")}var Ta=p(f());function Ca({guidance:e}){return Ta.default.createElement("p",{className:"flex items-center justify-center font-medium text-16 leading-[24px] py-8 px-16 border-2 border-orange rounded-8 bg-lightOrange text-lightBrown whitespace-nowrap my-16 mx-24"},"Please\xA0",Ta.default.createElement("a",{href:e.links.representationFeedbackGuide,target:"_blank",rel:"noreferrer",className:"!text-cautionLabel underline"},"read this"),"\xA0before giving your first feedback.")}function Zm({data:e}){let[t,r]=(0,He.useState)("information");return He.default.createElement(kt.Provider,{value:{current:t,switchToTab:n=>r(n)}},He.default.createElement("div",{className:"tabs",role:"tablist"},He.default.createElement(Se,{id:"information",context:kt},He.default.createElement(y,{icon:"comment"}),He.default.createElement(Se.Title,{text:"Information"})),He.default.createElement(Se,{id:"scratchpad",context:kt},He.default.createElement(y,{icon:"scratchpad"}),He.default.createElement(Se.Title,{text:"Scratchpad"})),He.default.createElement(Se,{id:"guidance",context:kt},He.default.createElement(y,{icon:"guidance"}),He.default.createElement(Se.Title,{text:"Guidance"}))),He.default.createElement(Se.Panel,{id:"information",context:kt},He.default.createElement(Ca,{guidance:e.guidance}),He.default.createElement(Na,{guidance:e.guidance}),e.analyzerFeedback&&He.default.createElement("div",{className:"mx-24 my-16 border-t-2 border-borderColor6 pt-16 "},He.default.createElement(Xi,{summary:e.analyzerFeedback.summary,comments:e.analyzerFeedback.comments,automatedFeedbackInfoLink:"???",track:e.representation.track}))),He.default.createElement(Se.Panel,{id:"scratchpad",context:kt},He.default.createElement(Zi,{scratchpad:e.scratchpad,track:e.representation.track,exercise:e.representation.exercise})),He.default.createElement(Se.Panel,{id:"guidance",context:kt},He.default.createElement($i,{guidance:e.guidance,mentorSolution:e.mentorSolution,exemplarFiles:e.guidance.exemplarFiles,language:e.representation.track.highlightjsLanguage,links:e.guidance.links})))}function wa({data:e}){let[t,r]=(0,Fn.useState)(e.representation.feedbackType||e.representation.draftFeedbackType||"essential");return Fn.default.createElement("div",{className:"!h-100 flex flex-col justify-between"},Fn.default.createElement(Zm,{data:e}),Fn.default.createElement("div",{className:"comment-section --comment"},Fn.default.createElement(ka,{feedbackType:t,setFeedbackType:r}),Fn.default.createElement(Ea,{feedbackType:t,data:e})))}function Ma({data:e}){return mi.default.createElement("div",{className:"c-mentor-discussion"},mi.default.createElement(Tn,{defaultLeftWidth:"90%",leftMinWidth:550,rightMinWidth:625,id:"mentoring-session",left:mi.default.createElement(ba,{links:e.links,representation:e.representation}),right:mi.default.createElement(wa,{data:e})}))}var I=p(f());var In=p(f());var ys=({mentoringStatus:e,discussions:t,className:r="",links:n})=>In.default.createElement(Au,{className:r},In.default.createElement(Fu,null,e==="in_progress"&&n.inProgressDiscussion?In.default.createElement("a",{href:n.inProgressDiscussion},"Continue mentoring"):e==="requested"?In.default.createElement("a",{href:n.pendingMentorRequest},"View mentoring request"):In.default.createElement("a",{href:n.requestMentoring},"Request mentoring")),In.default.createElement(Iu,null,In.default.createElement(Pu,{mentoringStatus:e,discussions:t,links:{share:n.shareMentoring}})));var Pa=class{constructor(t,r){this.subscription=Hr.subscriptions.create({channel:"LatestIterationStatusChannel",uuid:t},{received:n=>{r(n)}})}disconnect(){this.subscription.unsubscribe()}};var Rm=p(ct());var gh=2e3,ec=({solution:e,exerciseType:t,request:r,discussions:n,links:o,iterations:i,track:s})=>{let a=Qe(),u=`nudge-${e.uuid}`,[l,m]=(0,I.useState)(!0),{resolvedData:d}=z(u,S(h({},r),{options:S(h({},r.options),{refetchInterval:l?gh:!1})})),c=d?.status;(0,I.useEffect)(()=>{switch(c){case"deleted":case"testing":case"analyzing":m(!0);break;default:m(!1);break}},[c]);let g=(0,I.useCallback)(()=>{switch(e.mentoringStatus){case"requested":return"mentoringRequested";case"in_progress":return"inProgress";default:switch(c){case"non_actionable_automated_feedback":case"no_automated_feedback":{switch(t){case"concept":case"tutorial":return"completeExercise";case"practice":return"mentoring"}break}case"tests_failed":return"testsFailed";default:return null}}},[t,c,e.mentoringStatus]),[v,b]=(0,I.useState)(g()),k=(0,I.useRef)(v),[T,x]=(0,I.useState)(!1);(0,I.useEffect)(()=>{let _=new Pa(e.uuid,B=>{a.setQueryData(u,B)});return()=>{_.disconnect()}},[u,e]),(0,I.useEffect)(()=>{b(g())},[g]),(0,I.useEffect)(()=>{k.current!==v&&x(!0)},[v]);let E=T?"animate":"";switch(v){case"mentoringRequested":return I.default.createElement(Sh,{track:s,links:o,className:E});case"inProgress":return I.default.createElement(kh,{discussion:n[0],className:E});case"completeExercise":return I.default.createElement(vh,{status:e.status,iterations:i,completeExerciseLink:o.completeExercise,className:E});case"mentoring":return I.default.createElement(yh,{mentoringStatus:e.mentoringStatus,discussions:n,links:o,className:E});case"testsFailed":return I.default.createElement(bh,{track:s,links:o,className:E});default:return null}},vh=({status:e,iterations:t,completeExerciseLink:r,className:n=""})=>{if(e=="published"||e=="completed")return null;let o=["completion-nudge",n].filter(i=>i.length>0);return I.default.createElement("section",{className:o.join(" ")},I.default.createElement(y,{icon:"complete",category:"graphics"}),I.default.createElement("div",{className:"info"},I.default.createElement("h3",null,"Nice, it looks like you\u2019re done here!"),I.default.createElement("p",null,"Complete the exercise to unlock new concepts and exercises."," ",I.default.createElement("strong",null,"Remember, you can get mentored even after you\u2019ve completed the exercise."))),I.default.createElement(Mu,{iterations:t,endpoint:r}))},yh=({mentoringStatus:e,discussions:t,links:r,className:n=""})=>{let o=["mentoring-prompt-nudge",n].filter(i=>i.length>0);return e==="finished"?null:I.default.createElement("section",{className:o.join(" ")},I.default.createElement(y,{icon:"mentoring-screen",category:"graphics"}),I.default.createElement("div",{className:"info"},I.default.createElement("h3",null,"Improve your solution with mentoring"),I.default.createElement("p",null,"On average, students that get mentoring iterate a further 3.5 times on their solution. It\u2019s a great way to discover what you don\u2019t know about your language."),I.default.createElement("div",{className:"options"},I.default.createElement(ys,{mentoringStatus:e,discussions:t,links:r})," ",I.default.createElement("a",{href:r.mentoringInfo,className:"more-info",target:"_blank",rel:"noreferrer"},"What is Mentoring?",I.default.createElement(C,{icon:"external-link",alt:"Opens in a new tab"})))))},bh=({track:e,links:t,className:r=""})=>{let n=["mentoring-prompt-nudge",r].filter(o=>o.length>0);return I.default.createElement("section",{className:n.join(" ")},I.default.createElement(y,{icon:"mentoring-screen",category:"graphics"}),I.default.createElement("div",{className:"info"},I.default.createElement("h3",null,"Struggling with this exercise?"),I.default.createElement("p",null,"Get some help from our awesome ",e.title," mentors."),I.default.createElement("div",{className:"options"},I.default.createElement("a",{href:t.requestMentoring,className:"btn-primary btn-s"},"Request mentoring"),I.default.createElement("a",{href:t.mentoringInfo,className:"more-info",target:"_blank",rel:"noreferrer"},"What is Mentoring?",I.default.createElement(C,{icon:"external-link",alt:"Opens in a new tab"})))))},Sh=({track:e,links:t,className:r=""})=>{let n=["mentoring-request-nudge",r].filter(o=>o.length>0);return I.default.createElement("section",{className:n.join(" ")},I.default.createElement("div",{className:"info"},I.default.createElement("h3",null,"You've requested mentoring"),I.default.createElement("p",null,"Waiting on a mentor...")),I.default.createElement("a",{href:t.pendingMentorRequest,className:"btn-primary btn-s"},"Open request"))},kh=({discussion:e,className:t=""})=>{let r=["mentoring-discussion-nudge","c-mentor-discussion-widget",t].filter(n=>n.length>0);return I.default.createElement("section",{className:r.join(" ")},I.default.createElement(ne,{src:e.student.avatarUrl,handle:e.student.handle,className:"student-avatar"}),I.default.createElement(ne,{src:e.mentor.avatarUrl,handle:e.mentor.handle,className:"mentor-avatar"}),I.default.createElement("div",{className:"info"},I.default.createElement("h3",null,"You're being mentored by"," ",I.default.createElement("strong",null,e.mentor.handle)),I.default.createElement("div",{className:"details"},e.status==="awaiting_student"?I.default.createElement("div",{className:"--turn"},"Your turn to respond"):null,I.default.createElement("div",{className:"--comments"},I.default.createElement(y,{icon:"comment"}),e.postsCount," ",(0,Rm.default)("comments",e.postsCount)))),I.default.createElement("a",{href:e.links.self,className:"btn-primary btn-s"},"Open discussion"))};var It=p(f());var O=p(f());var vn=p(ct());function Uo(e){if(e.length===0)return"";if(e.length===1)return e[0];let t=e.pop();return`${e.join(", ")} and ${t}`}var bs=({exercise:e})=>O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution looks good!"),O.default.createElement("p",null,O.default.createElement("strong",null,"Good job."),' Your solution to "',e.title,'!" has passed all the tests \u{1F60A}')),O.default.createElement("div",{className:"status passed"},"Tests Passed")),tc=({iteration:e,exercise:t,links:r})=>{switch(e.status){case"deleted":case"untested":return O.default.createElement(O.default.Fragment,null);case"testing":case"analyzing":return O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution is being processed\u2026"),O.default.createElement("p",null,"Your solution is currently being tested, analysed, and compared to other solutions to find potential improvements. This should only take a few seconds.")),O.default.createElement(y,{icon:"spinner",className:"spinner"}));case"tests_failed":return O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution failed the tests."),O.default.createElement("p",null,"Hmmm, it looks like your solution isn't working. Please check that the tests pass locally on your machine. If they do pass for you, please read"," ",O.default.createElement("a",{href:r.testsPassLocallyArticle,rel:"noreferrer",target:"_blank"},"this article"," ",O.default.createElement(C,{icon:"external-link",alt:"Opens in a new tab"})))),O.default.createElement("div",{className:"status failed"},"Tests Failed"));case"essential_automated_feedback":{if(t.type==="tutorial")return O.default.createElement(bs,{exercise:t});let n=[`${e.numEssentialAutomatedComments} essential ${(0,vn.default)("improvement",e.numEssentialAutomatedComments)}`,e.numActionableAutomatedComments>0?`${e.numActionableAutomatedComments} ${(0,vn.default)("recommendation",e.numActionableAutomatedComments)}`:"",e.numNonActionableAutomatedComments>0?`${e.numNonActionableAutomatedComments} additional ${(0,vn.default)("comment",e.numNonActionableAutomatedComments)}`:""].filter(o=>o.length>0);return O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution worked, but you can take it further\u2026"),O.default.createElement("p",null,"We\u2019ve analysed your solution and have ",Uo(n),". Address the essential improvements before proceeding.")),O.default.createElement("div",{className:"status passed"},"Tests Passed"))}case"no_automated_feedback":return t.type==="tutorial"?O.default.createElement(bs,{exercise:t}):O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution looks great!"),O.default.createElement("p",null,"Your solution passed the tests and we don't have any recommendations."," ",t.type==="practice"?"You might want to work with a mentor to make it even better.":null," ",O.default.createElement("strong",null,"Great Job! \u{1F389}"))),O.default.createElement("div",{className:"status passed"},"Tests Passed"));case"non_actionable_automated_feedback":return t.type==="tutorial"?O.default.createElement(bs,{exercise:t}):O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution looks great!"),O.default.createElement("p",null,"We\u2019ve analysed your solution and not found anything that needs changing. We do have"," ",O.default.createElement("span",{className:"non-actionable"},e.numNonActionableAutomatedComments," additional"," ",(0,vn.default)("comment",e.numNonActionableAutomatedComments))," ","that you might like to check."," ",t.type==="practice"?"Consider working with a mentor to make it even better. ":" ",O.default.createElement("strong",null,"Great Job! \u{1F389}"))),O.default.createElement("div",{className:"status passed"},"Tests Passed"));case"actionable_automated_feedback":{if(t.type==="tutorial")return O.default.createElement(bs,{exercise:t});let n=[`${e.numActionableAutomatedComments} ${(0,vn.default)("recommendation",e.numActionableAutomatedComments)}`,e.numNonActionableAutomatedComments>0?`${e.numNonActionableAutomatedComments} additional ${(0,vn.default)("comment",e.numNonActionableAutomatedComments)}`:""].filter(o=>o.length>0);switch(t.type){case"concept":return O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution is good enough to continue!"),O.default.createElement("p",null,"We\u2019ve analysed your solution and have ",Uo(n),". You can either continue or address the"," ",(0,vn.default)("recommendation",e.numActionableAutomatedComments)," ","first - your choice!")),O.default.createElement("div",{className:"status passed"},"Tests Passed"));case"practice":return O.default.createElement("header",null,O.default.createElement("div",{className:"info"},O.default.createElement("h2",null,"Your solution worked, but you can take it further\u2026"),O.default.createElement("p",null,"We\u2019ve analysed your solution and have ",Uo(n),". We suggest addressing the"," ",(0,vn.default)("recommendation",e.numActionableAutomatedComments)," ","before proceeding.")),O.default.createElement("div",{className:"status passed"},"Tests Passed"))}}}};var Ss=p(f());var rc=({iteration:e})=>Ss.default.createElement("a",{className:"iteration",href:e.links.self},Ss.default.createElement(bo,{iteration:e,showSubmissionMethod:!0,showTestsStatusAsButton:!1,showFeedbackIndicator:!0}),Ss.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));var yn=p(f());var nc=({link:e,isTutorial:t})=>yn.default.createElement("div",{className:"community-solutions"},yn.default.createElement(y,{icon:"community-solutions",category:"graphics",className:"header-icon"}),yn.default.createElement("h3",null,"Learn from others' solutions"),t?yn.default.createElement("p",null,"This is where we\u2019d usually link you to other peoples\u2019 solutions to the same exercise."):yn.default.createElement(yn.default.Fragment,null,yn.default.createElement("p",null,"Explore their approaches to learn new tips and tricks. Discover popular solutions to this exercise."),yn.default.createElement("a",{href:e,className:"btn-small-discourage"},"View community solutions")));var Or=p(f());var oc=({mentoringStatus:e,discussions:t,links:r,isTutorial:n,trackTitle:o})=>Or.default.createElement("div",{className:"mentoring"},Or.default.createElement(y,{icon:"mentoring-screen",className:"header-icon",category:"graphics"}),Or.default.createElement("h3",null,"Get mentored by a human"),n?Or.default.createElement("p",null,"You also get the opportunity to be mentored by ",o," experts."):Or.default.createElement(Or.default.Fragment,null,Or.default.createElement("p",null,"On average, students iterate a further 3.5 times when mentored on a solution."),Or.default.createElement(ys,{mentoringStatus:e,discussions:t,links:r}),Or.default.createElement("a",{href:r.learnMoreAboutMentoringArticle,className:"learn-more"},"Learn more",Or.default.createElement(C,{icon:"external-link",alt:"Opens in new tab"}))));var xh=2e3,ic=({solution:e,track:t,discussions:r,request:n,exercise:o,links:i})=>{let s=Qe(),a=`solution-${e.uuid}-summary`,[u,l]=(0,It.useState)(!0),{resolvedData:m}=z(a,S(h({},n),{options:S(h({},n.options),{refetchInterval:u?xh:!1})}));(0,It.useEffect)(()=>{let c=new Uu({uuid:e.uuid},g=>{s.setQueryData(a,g)});return()=>{c.disconnect()}},[a,e,s]);let d=m?.iterations[m?.iterations.length-1];return(0,It.useEffect)(()=>{if(!!d)switch(d.status){case"deleted":case"untested":case"testing":case"analyzing":l(!0);break;default:l(!1);break}},[d]),status==="loading"?It.default.createElement(Ie,null):m?It.default.createElement(It.default.Fragment,null,d?It.default.createElement("section",{className:"latest-iteration"},It.default.createElement(tc,{iteration:d,exercise:o,links:i}),It.default.createElement(rc,{iteration:d}),It.default.createElement(go,{link:i.allIterations,text:"See all of your iterations"}),It.default.createElement("div",{className:"next-steps"},It.default.createElement(nc,{link:i.communitySolutions,isTutorial:o.type==="tutorial"}),It.default.createElement(oc,{mentoringStatus:e.mentoringStatus,discussions:r,links:i,isTutorial:o.type==="tutorial",trackTitle:t.title}))):null):null};var at=p(f());var qr=p(f());var Vn=p(f());var sc=({iteration:e,isOutOfDate:t})=>Vn.default.createElement("header",{className:"iteration-header"},Vn.default.createElement(yo,{iteration:e,showSubmissionMethod:!1,OutOfDateNotice:t?Vn.default.createElement(Eh,null):null,showTestsStatusAsButton:!0,showFeedbackIndicator:!1})),Eh=()=>Vn.default.createElement(an,{content:`
        This exercise has been updated since this iteration was submitted.
        You can update to the latest version by clicking on the yellow bar at the top of the main exercise page.`},Vn.default.createElement("div",null,Vn.default.createElement(bo.OutOfDateNotice,null)));var Nh=new Error("Unable to load files"),ac=({iterations:e,instructions:t,testFiles:r,currentIteration:n,onClick:o,language:i,indentSize:s,isOutOfDate:a,isLinked:u,setIsLinked:l,discussion:m})=>{let{resolvedData:d,error:c,status:g,isFetching:v}=z(n.links.files,{endpoint:n.links.files,options:{}});return qr.default.createElement(qr.default.Fragment,null,qr.default.createElement(sc,{iteration:n,isOutOfDate:a}),n.status=="deleted"?qr.default.createElement("div",{className:"deleted"},"This iteration has been deleted"):qr.default.createElement(ae,{isFetching:v},qr.default.createElement(j,{error:c,status:g,defaultError:Nh},d?qr.default.createElement(So,{files:d.files,language:i,indentSize:s,instructions:t,testFiles:r}):null)),e.length>1?qr.default.createElement("footer",{className:"c-iterations-footer"},qr.default.createElement(Ji,{iterations:e,onClick:o,current:n}),m?qr.default.createElement(ts,{value:u,setValue:l}):null):null)};var or=p(f());var uc=({mentor:e,track:t,exercise:r})=>or.default.createElement(or.default.Fragment,null,or.default.createElement(ee,{title:t.title,iconUrl:t.iconUrl}),or.default.createElement(Ct,{iconUrl:r.iconUrl}),or.default.createElement("div",{className:"info-for-student"},e?or.default.createElement(or.default.Fragment,null,"You're being mentored by ",or.default.createElement("strong",null,e.handle)," on"," ",or.default.createElement("div",{className:"exercise-title"},r.title)):or.default.createElement(or.default.Fragment,null,"Get mentoring on",or.default.createElement("div",{className:"exercise-title"},r.title))));var Ot=p(f());var rn=p(f());var lc=({mentor:e})=>rn.default.createElement("div",{className:"mentor-info"},rn.default.createElement("div",{className:"info"},rn.default.createElement("div",{className:"subtitle"},"Meet your mentor"),rn.default.createElement("div",{className:"handle-block"},rn.default.createElement("div",{className:"handle"},e.handle),rn.default.createElement(Xr,{value:e.reputation.toString(),type:"primary",size:"small"})),rn.default.createElement("div",{className:"name"},e.name),rn.default.createElement("div",{className:"bio"},e.bio)),rn.default.createElement(ne,{src:e.avatarUrl,handle:e.handle}));var qn=p(f());var br=p(f());var Ae=p(f());var mc=({discussion:e,onHappy:t,onSatisfied:r,onUnhappy:n})=>Ae.default.createElement("section",{className:"rate-step"},Ae.default.createElement("h2",null,"It's time to review this discussion"),Ae.default.createElement("div",{className:"container"},Ae.default.createElement("div",{className:"lhs"},e.finishedBy==="mentor"&&e.finishedAt!==void 0?Ae.default.createElement("div",{className:"finished-info"},Ae.default.createElement(ne,{src:e.mentor.avatarUrl,handle:e.mentor.handle}),Ae.default.createElement("div",{className:"info"},Ae.default.createElement("div",{className:"mentor"},e.mentor.handle," has finished mentoring you on"),Ae.default.createElement("div",{className:"exercise"},Ae.default.createElement(Ct,{iconUrl:e.exercise.iconUrl}),Ae.default.createElement("strong",null,e.exercise.title)," in"," ",e.track.title)),Ae.default.createElement("time",null,Le(e.finishedAt))):null,Ae.default.createElement("p",{className:"explanation"},"To help us and our mentors understand how well we're doing, we\u2019d love some feedback on your discussion with"," ",e.mentor.handle,". Good mentors will answer your questions, introduce you to new ideas, or encourage you to try new things."),Ae.default.createElement("div",{className:"buttons-section"},Ae.default.createElement("h3",null,"How was your discussion with ",e.mentor.handle,"?"),Ae.default.createElement("div",{className:"buttons"},Ae.default.createElement("button",{type:"button",onClick:n,className:"sad"},Ae.default.createElement(y,{icon:"sad-face"}),"Problematic"),Ae.default.createElement("button",{type:"button",onClick:r,className:"neutral"},Ae.default.createElement(y,{icon:"neutral-face"}),"Acceptable"),Ae.default.createElement("button",{type:"button",onClick:t,className:"happy"},Ae.default.createElement(y,{icon:"happy-face"}),"It was good!")))),Ae.default.createElement("div",{className:"rhs"},Ae.default.createElement(ne,{src:e.mentor.avatarUrl,handle:e.mentor.handle}))));var Pe=p(f());var zn=p(f()),cc=({id:e,min:t,max:r,value:n,onChange:o})=>zn.default.createElement(zn.default.Fragment,null,zn.default.createElement("textarea",{value:n,onChange:o,id:e,placeholder:"Write your testimonial here",minLength:t,maxLength:r}),zn.default.createElement("div",{className:"counter"},zn.default.createElement("div",null,n.length," / ",r),zn.default.createElement("div",null,t," minimum")));var Th=new Error("Unable to submit mentor rating"),dc=({onSubmit:e,onSkip:t,onBack:r,discussion:n})=>{let[o,i]=(0,Pe.useState)(""),[s,{status:a,error:u}]=A(()=>{let{fetch:v}=P({endpoint:n.links.finish,method:"PATCH",body:JSON.stringify({rating:5,testimonial:o})});return v},{onSuccess:()=>{o.length===0?t():e()}}),l=(0,Pe.useCallback)(v=>{v.preventDefault(),s()},[s]),m=(0,Pe.useCallback)(()=>{r()},[r]),d=(0,Pe.useCallback)(v=>{i(v.target.value)},[]),c=o.length===0?"Skip":"Finish",g=o.length===0?"btn-default btn-m":"btn-primary btn-m";return Pe.default.createElement("section",{className:"testimonial-step"},Pe.default.createElement("h2",null,"We're glad you had a good discussion!"),Pe.default.createElement("div",{className:"container"},Pe.default.createElement("div",{className:"lhs"},Pe.default.createElement("p",{className:"explanation"},"Mentors volunteer their time for free. A nice testimonial is a great way of thanking them, and encouraging them to continue helping others."),Pe.default.createElement("form",{"data-turbo":"false",onSubmit:l},Pe.default.createElement("label",{htmlFor:"testimonial"},"Leave ",n.mentor.handle," a testimonial (optional)"),Pe.default.createElement(cc,{id:"testimonial",min:30,max:160,value:o,onChange:d}),Pe.default.createElement("div",{className:"form-buttons"},Pe.default.createElement(w,{type:"button",onClick:m,status:a,className:"btn-default btn-m"},Pe.default.createElement(y,{icon:"arrow-left"}),Pe.default.createElement("span",null,"Back")),Pe.default.createElement(w,{type:"submit",status:a,className:g},Pe.default.createElement("span",null,c)))),Pe.default.createElement(j,{status:a,error:u,defaultError:Th})),Pe.default.createElement("div",{className:"rhs"},Pe.default.createElement("div",{className:"avatar-wrapper"},Pe.default.createElement(ne,{src:n.mentor.avatarUrl,handle:n.mentor.handle}),o.length!==0?Pe.default.createElement(y,{icon:"thumb-up-white-on-green"}):null))))};var bn=p(f());var pc=({mentorHandle:e,links:t})=>bn.default.createElement("section",{className:"celebrate-step neon-cat"},bn.default.createElement("img",{src:"https://media.giphy.com/media/sIIhZliB2McAo/source.gif",className:"gif"}),bn.default.createElement("h2",null,"Thank you for leaving a testimonial \u{1F499}"),bn.default.createElement("p",null,bn.default.createElement("strong",null,"You\u2019ve helped make ",e,"'s day."),"Please be sure to share your experience of Exercism with others."),bn.default.createElement("a",{href:t.exercise,className:"btn-primary btn-l"},bn.default.createElement("span",null,"Back to the exercise"),bn.default.createElement(y,{icon:"arrow-right"})));var Lt=p(f()),fc=({report:e,links:t})=>Lt.default.createElement("section",{className:"unhappy-final-step"},e.report?Lt.default.createElement(Lt.default.Fragment,null,Lt.default.createElement("h2",null,"Thank you for your report"),Lt.default.createElement("p",{className:"explanation"},"Thanks for letting us know. We will look into your report and get back to you in the next few days. In the meantime we hope you have a better next experience.")):e.requeue?Lt.default.createElement(Lt.default.Fragment,null,Lt.default.createElement("h2",null,"Your solution has been be requeued"),Lt.default.createElement("p",{className:"explanation"},"Your solution has been put back in the queue and another mentor will hopefully pick it up soon. We hope you have a positive mentoring session on this solution next time!")):Lt.default.createElement(Lt.default.Fragment,null,Lt.default.createElement("h2",null,"We hope you have a better next experience"),Lt.default.createElement("p",{className:"explanation"},"Sorry this experience wasn't great. We hope the next one will be better.")),Lt.default.createElement("div",{className:"form-buttons"},Lt.default.createElement("a",{href:t.exercise,className:"btn-primary btn-m"},"Go back to your solution")));var Jo=p(f()),hc=({links:e})=>Jo.default.createElement("section",{className:"acceptable-final-step"},Jo.default.createElement("h2",null,"Your solution has been requeued."),Jo.default.createElement("p",{className:"explanation"},"Your solution has been put back in the queue and another mentor will hopefully pick it up soon. We hope you have a positive mentoring session on this solution next time!"),Jo.default.createElement("div",{className:"form-buttons"},Jo.default.createElement("a",{href:e.exercise,className:"btn-primary btn-m"},"Go back to your solution")));var _r=p(f());var Ch=new Error("Unable to submit mentor rating"),gc=({discussion:e,onRequeued:t,onNotRequeued:r,onBack:n})=>{let[o,{status:i,error:s}]=A(u=>{let{fetch:l}=P({endpoint:e.links.finish,method:"PATCH",body:JSON.stringify({rating:3,requeue:u})});return l},{onSuccess:(u,l)=>{l?t():r()}}),a=(0,_r.useCallback)(()=>{n()},[n]);return _r.default.createElement("section",{className:"acceptable-decision-step"},_r.default.createElement("h2",null,"Sorry that this mentoring wasn't great."),_r.default.createElement("p",{className:"explanation"},"Would you like to put this exercise back in the queue for another mentor to look at?"),_r.default.createElement("div",{className:"form-buttons"},_r.default.createElement(w,{type:"button",onClick:a,status:i,className:"btn-default btn-m"},"Back"),_r.default.createElement(w,{type:"button",onClick:()=>o(!1),status:i,className:"btn-enhanced btn-m"},"No thanks"),_r.default.createElement(w,{type:"button",onClick:()=>o(!0),status:i,className:"btn-enhanced btn-m"},"Yes please"),_r.default.createElement(j,{status:i,error:s,defaultError:Ch})))};var H=p(f());var Ln=p(f());var vc=({option:e})=>{switch(e){case"coc":return Ln.default.createElement(Ln.default.Fragment,null,"Code of Conduct violation");case"incorrect":return Ln.default.createElement(Ln.default.Fragment,null,"Wrong or misleading information");case"other":return Ln.default.createElement(Ln.default.Fragment,null,"Other")}},yc=({value:e,setValue:t})=>Ln.default.createElement(Ye,{options:["coc","incorrect","other"],value:e,setValue:t,SelectedComponent:vc,OptionComponent:vc});var wh=new Error("Unable to submit mentor rating"),bc=({discussion:e,onSubmit:t,onBack:r})=>{let[n,o]=(0,H.useState)({requeue:!0,report:!1,reason:"coc"}),i=(0,H.useRef)(null),[s,{status:a,error:u}]=A(()=>{let{fetch:d}=P({endpoint:e.links.finish,method:"PATCH",body:JSON.stringify({rating:1,requeue:n.requeue,report:n.report,report_reason:n.reason,report_message:i.current?.value})});return d},{onSuccess:()=>{t(n)}}),l=(0,H.useCallback)(d=>{d.preventDefault(),s()},[s]),m=(0,H.useCallback)(()=>{r()},[r]);return H.default.createElement("section",{className:"report-step"},H.default.createElement("h2",null,"How can we help?"),H.default.createElement("div",{className:"container"},H.default.createElement("div",{className:"lhs"},H.default.createElement("p",{className:"explanation"},"We\u2019re really sorry that you experienced a problematic mentoring discussion, and would like to help ensure your next experience is a positive one."),H.default.createElement("form",{"data-turbo":"false",onSubmit:l},H.default.createElement("h3",null,"How would you like to resolve the issue?"),H.default.createElement("label",{className:"c-checkbox-wrapper"},H.default.createElement("input",{type:"checkbox",checked:!0,disabled:!0}),H.default.createElement("div",{className:"row"},H.default.createElement("div",{className:"c-checkbox"},H.default.createElement(y,{icon:"checkmark"})),"Block further interactions with this mentor")),H.default.createElement("label",{htmlFor:"requeue",className:"c-checkbox-wrapper"},H.default.createElement("input",{type:"checkbox",checked:n.requeue,onChange:()=>o(S(h({},n),{requeue:!n.requeue})),id:"requeue"}),H.default.createElement("div",{className:"row"},H.default.createElement("div",{className:"c-checkbox"},H.default.createElement(y,{icon:"checkmark"})),"Put your solution back in the queue for mentoring")),H.default.createElement("label",{htmlFor:"report",className:"c-checkbox-wrapper"},H.default.createElement("input",{type:"checkbox",checked:n.report,onChange:()=>o(S(h({},n),{report:!n.report})),id:"report"}),H.default.createElement("div",{className:"row"},H.default.createElement("div",{className:"c-checkbox"},H.default.createElement(y,{icon:"checkmark"})),"Report this discussion to an admin")),n.report?H.default.createElement("div",{className:"report"},H.default.createElement("div",{className:"field"},H.default.createElement("label",{htmlFor:"reason"},"Why are you reporting this conversation?"),H.default.createElement(yc,{value:n.reason,setValue:d=>o(S(h({},n),{reason:d}))})),H.default.createElement("div",{className:"field"},H.default.createElement("label",{htmlFor:"message"},"What went wrong?"),H.default.createElement("textarea",{required:!0,ref:i,id:"message",placeholder:"Please provide exactly why you are making this report, and tell us what happened."})),H.default.createElement("div",{className:"assurance"},"Your report will be sent to our adminstrators who will investigate further")):null,H.default.createElement("div",{className:"form-buttons"},H.default.createElement(w,{type:"button",onClick:m,status:a,className:"btn-default btn-m"},H.default.createElement(y,{icon:"arrow-left"}),H.default.createElement("span",null,"Back")),H.default.createElement(w,{status:a,type:"submit",className:"btn-primary btn-m"},"Finish"))),H.default.createElement(j,{status:a,error:u,defaultError:wh})),H.default.createElement("div",{className:"rhs"},H.default.createElement(ne,{src:e.mentor.avatarUrl,handle:e.mentor.handle}))))};var Us=p(f());var N=function(){return N=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},N.apply(this,arguments)};function Xo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function K(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function ke(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ks=".",Aa={},xs="xstate.guard",Sc="";var _e=!0;var Fa;function xe(e){return Object.keys(e)}function di(e,t,r){r===void 0&&(r=ks);var n=Ho(e,r),o=Ho(t,r);return $(o)?$(n)?o===n:!1:$(n)?n in o:xe(n).every(function(i){return i in o?di(n[i],o[i]):!1})}function Es(e){try{return $(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Ns(e,t){try{return Sn(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function Mh(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function Ho(e,t){if(Mh(e))return e.value;if(Sn(e))return ci(e);if(typeof e!="string")return e;var r=Ns(e,t);return ci(r)}function ci(e){if(e.length===1)return e[0];for(var t={},r=t,n=0;n<e.length-1;n++)n===e.length-2?r[e[n]]=e[n+1]:(r[e[n]]={},r=r[e[n]]);return t}function Go(e,t){for(var r={},n=xe(e),o=0;o<n.length;o++){var i=n[o];r[i]=t(e[i],i,e,o)}return r}function Ia(e,t,r){var n,o,i={};try{for(var s=K(xe(e)),a=s.next();!a.done;a=s.next()){var u=a.value,l=e[u];!r(l)||(i[u]=t(l,u,e))}}catch(m){n={error:m}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i}var kc=function(e){return function(t){var r,n,o=t;try{for(var i=K(e),s=i.next();!s.done;s=i.next()){var a=s.value;o=o[a]}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}};function xc(e,t){return function(r){var n,o,i=r;try{for(var s=K(e),a=s.next();!a.done;a=s.next()){var u=a.value;i=i[t][u]}}catch(l){n={error:l}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i}}function pi(e){if(!e)return[[]];if($(e))return[[e]];var t=we(xe(e).map(function(r){var n=e[r];return typeof n!="string"&&(!n||!Object.keys(n).length)?[[r]]:pi(e[r]).map(function(o){return[r].concat(o)})}));return t}function we(e){var t;return(t=[]).concat.apply(t,ke([],te(e),!1))}function Ec(e){return Sn(e)?e:[e]}function ir(e){return e===void 0?[]:Ec(e)}function Kn(e,t,r){var n,o;if(le(e))return e(t,r.data);var i={};try{for(var s=K(Object.keys(e)),a=s.next();!a.done;a=s.next()){var u=a.value,l=e[u];le(l)?i[u]=l(t,r.data):i[u]=l}}catch(m){n={error:m}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return i}function Nc(e){return/^(done|error)\./.test(e)}function La(e){return!!(e instanceof Promise||e!==null&&(le(e)||typeof e=="object")&&le(e.then))}function Tc(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function Ts(e,t){var r,n,o=te([[],[]],2),i=o[0],s=o[1];try{for(var a=K(e),u=a.next();!u.done;u=a.next()){var l=u.value;t(l)?i.push(l):s.push(l)}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return[i,s]}function Cc(e,t){return Go(e.states,function(r,n){if(!!r){var o=($(t)?void 0:t[n])||(r?r.current:void 0);if(!!o)return{current:o,states:Cc(r,o)}}})}function wc(e,t){return{current:t,states:Cc(e,t)}}function Da(e,t,r,n){_e||Ze(!!e,"Attempting to update undefined context");var o=e&&r.reduce(function(i,s){var a,u,l=s.assignment,m={state:n,action:s,_event:t},d={};if(le(l))d=l(i,t.data,m);else try{for(var c=K(xe(l)),g=c.next();!g.done;g=c.next()){var v=g.value,b=l[v];d[v]=le(b)?b(i,t.data,m):b}}catch(k){a={error:k}}finally{try{g&&!g.done&&(u=c.return)&&u.call(c)}finally{if(a)throw a.error}}return Object.assign({},i,d)},e);return o}var Ze=function(){};_e||(Ze=function(e,t){var r=e instanceof Error?e:void 0;if(!(!r&&e)&&console!==void 0){var n=["Warning: ".concat(t)];r&&n.push(r),console.warn.apply(console,n)}});function Sn(e){return Array.isArray(e)}function le(e){return typeof e=="function"}function $(e){return typeof e=="string"}function Cs(e,t){if(!!e)return $(e)?{type:xs,name:e,predicate:t?t[e]:void 0}:le(e)?{type:xs,name:e.name,predicate:e}:e}function Mc(e){try{return"subscribe"in e&&le(e.subscribe)}catch{return!1}}var Oa=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Dn=(Fa={},Fa[Oa]=function(){return this},Fa);function nn(e){try{return"__xstatenode"in e}catch{return!1}}function Pc(e){return!!e&&typeof e.send=="function"}function fi(e,t){return $(e)||typeof e=="number"?N({type:e},t):e}function st(e,t){if(!$(e)&&"$$type"in e&&e.$$type==="scxml")return e;var r=fi(e);return N({name:r.type,data:r,$$type:"scxml",type:"external"},t)}function $n(e,t){var r=Ec(t).map(function(n){return typeof n=="undefined"||typeof n=="string"||nn(n)?{target:n,event:e}:N(N({},n),{event:e})});return r}function Ac(e){if(!(e===void 0||e===Sc))return ir(e)}function Fc(e,t,r){if(!_e){var n=e.stack?" Stacktrace was '".concat(e.stack,"'"):"";if(e===t)console.error("Missing onError handler for invocation '".concat(r,"', error was '").concat(e,"'.").concat(n));else{var o=t.stack?" Stacktrace was '".concat(t.stack,"'"):"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '".concat(r,"'. ")+"Original error: '".concat(e,"'. ").concat(n," Current error is '").concat(t,"'.").concat(o))}}}function ws(e,t,r,n,o){var i=e.options.guards,s={state:o,cond:t,_event:n};if(t.type===xs)return((i==null?void 0:i[t.name])||t.predicate)(r,n.data,s);var a=i==null?void 0:i[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(r,n.data,s)}function Ms(e){return typeof e=="string"?{type:e}:e}function Ps(e,t,r){if(typeof e=="object")return e;var n=function(){};return{next:e,error:t||n,complete:r||n}}function hi(e,t){return"".concat(e,":invocation[").concat(t,"]")}var me;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(me||(me={}));var On;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(On||(On={}));var gi=me.Start,jo=me.Stop,Wo=me.Raise,Zn=me.Send,As=me.Cancel,Ic=me.NullEvent,qa=me.Assign,pP=me.After,fP=me.DoneState,Fs=me.Log,Lc=me.Init,vi=me.Invoke,hP=me.ErrorExecution,_a=me.ErrorPlatform,Ba=me.ErrorCustom,yi=me.Update,Dc=me.Choose,Oc=me.Pure;var Rn=st({type:Lc});function Is(e,t){return t&&t[e]||void 0}function Qo(e,t){var r;if($(e)||typeof e=="number"){var n=Is(e,t);le(n)?r={type:e,exec:n}:n?r=n:r={type:e,exec:void 0}}else if(le(e))r={type:e.name||e.toString(),exec:e};else{var n=Is(e.type,t);if(le(n))r=N(N({},e),{exec:n});else if(n){var o=n.type||e.type;r=N(N(N({},n),e),{type:o})}else r=e}return r}var bi=function(e,t){if(!e)return[];var r=Sn(e)?e:[e];return r.map(function(n){return Qo(n,t)})};function Ds(e){var t=Qo(e);return N(N({id:$(e)?e:t.id},t),{type:t.type})}function qc(e){return $(e)?{type:Wo,event:e}:Ua(e,{to:On.Internal})}function Ph(e){return{type:Wo,_event:st(e.event)}}function Ua(e,t){return{to:t?t.to:void 0,type:Zn,event:le(e)?e:fi(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:le(e)?e.name:Es(e)}}function Ah(e,t,r,n){var o={_event:r},i=st(le(e.event)?e.event(t,r.data,o):e.event),s;if($(e.delay)){var a=n&&n[e.delay];s=le(a)?a(t,r.data,o):a}else s=le(e.delay)?e.delay(t,r.data,o):e.delay;var u=le(e.to)?e.to(t,r.data,o):e.to;return N(N({},e),{to:u,_event:i,event:i.data,delay:s})}var Fh=function(e,t,r){return N(N({},e),{value:$(e.expr)?e.expr:e.expr(t,r.data,{_event:r})})},_c=function(e){return{type:As,sendId:e}};function Bc(e){var t=Ds(e);return{type:me.Start,activity:t,exec:void 0}}function Uc(e){var t=le(e)?e:Ds(e);return{type:me.Stop,activity:t,exec:void 0}}function Ih(e,t,r){var n=le(e.activity)?e.activity(t,r.data):e.activity,o=typeof n=="string"?{id:n}:n,i={type:me.Stop,activity:o};return i}function Jc(e,t){var r=t?"#".concat(t):"";return"".concat(me.After,"(").concat(e,")").concat(r)}function Si(e,t){var r="".concat(me.DoneState,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function Yo(e,t){var r="".concat(me.DoneInvoke,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function eo(e,t){var r="".concat(me.ErrorPlatform,".").concat(e),n={type:r,data:t};return n.toString=function(){return r},n}function Ls(e,t,r,n,o,i){i===void 0&&(i=!1);var s=te(i?[[],o]:Ts(o,function(c){return c.type===qa}),2),a=s[0],u=s[1],l=a.length?Da(r,n,a,t):r,m=i?[r]:void 0,d=we(u.map(function(c){var g;switch(c.type){case Wo:return Ph(c);case Zn:var v=Ah(c,l,n,e.options.delays);return _e||Ze(!$(c.delay)||typeof v.delay=="number","No delay reference for delay expression '".concat(c.delay,"' was found on machine '").concat(e.id,"'")),v;case Fs:return Fh(c,l,n);case Dc:{var b=c,k=(g=b.conds.find(function(R){var be=Cs(R.cond,e.options.guards);return!be||ws(e,be,l,n,t)}))===null||g===void 0?void 0:g.actions;if(!k)return[];var T=te(Ls(e,t,l,n,bi(ir(k),e.options.actions),i),2),x=T[0],E=T[1];return l=E,m==null||m.push(l),x}case Oc:{var k=c.get(l,n.data);if(!k)return[];var _=te(Ls(e,t,l,n,bi(ir(k),e.options.actions),i),2),B=_[0],U=_[1];return l=U,m==null||m.push(l),B}case jo:return Ih(c,l,n);case qa:{l=Da(l,n,[c],t),m==null||m.push(l);break}default:var D=Qo(c,e.options.actions),M=D.exec;if(M&&m){var X=m.length-1;D=N(N({},D),{exec:function(R){for(var be=[],We=1;We<arguments.length;We++)be[We-1]=arguments[We];M.apply(void 0,ke([m[X]],te(be),!1))}})}return D}}).filter(function(c){return!!c}));return[d,l]}var ki=function(e){return e.type==="atomic"||e.type==="final"};function to(e){return xe(e.states).map(function(t){return e.states[t]})}function Xa(e){var t=[e];return ki(e)?t:t.concat(we(to(e).map(Xa)))}function ro(e,t){var r,n,o,i,s,a,u,l,m=new Set(e),d=Ja(m),c=new Set(t);try{for(var g=K(c),v=g.next();!v.done;v=g.next())for(var b=v.value,k=b.parent;k&&!c.has(k);)c.add(k),k=k.parent}catch(X){r={error:X}}finally{try{v&&!v.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}var T=Ja(c);try{for(var x=K(c),E=x.next();!E.done;E=x.next()){var b=E.value;if(b.type==="compound"&&(!T.get(b)||!T.get(b).length))d.get(b)?d.get(b).forEach(function(R){return c.add(R)}):b.initialStateNodes.forEach(function(R){return c.add(R)});else if(b.type==="parallel")try{for(var _=(s=void 0,K(to(b))),B=_.next();!B.done;B=_.next()){var U=B.value;U.type!=="history"&&(c.has(U)||(c.add(U),d.get(U)?d.get(U).forEach(function(R){return c.add(R)}):U.initialStateNodes.forEach(function(R){return c.add(R)})))}}catch(R){s={error:R}}finally{try{B&&!B.done&&(a=_.return)&&a.call(_)}finally{if(s)throw s.error}}}}catch(X){o={error:X}}finally{try{E&&!E.done&&(i=x.return)&&i.call(x)}finally{if(o)throw o.error}}try{for(var D=K(c),M=D.next();!M.done;M=D.next())for(var b=M.value,k=b.parent;k&&!c.has(k);)c.add(k),k=k.parent}catch(X){u={error:X}}finally{try{M&&!M.done&&(l=D.return)&&l.call(D)}finally{if(u)throw u.error}}return c}function Xc(e,t){var r=t.get(e);if(!r)return{};if(e.type==="compound"){var n=r[0];if(n){if(ki(n))return n.key}else return{}}var o={};return r.forEach(function(i){o[i.key]=Xc(i,t)}),o}function Ja(e){var t,r,n=new Map;try{for(var o=K(e),i=o.next();!i.done;i=o.next()){var s=i.value;n.has(s)||n.set(s,[]),s.parent&&(n.has(s.parent)||n.set(s.parent,[]),n.get(s.parent).push(s))}}catch(a){t={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n}function Hc(e,t){var r=ro([e],t);return Xc(e,Ja(r))}function xi(e,t){return Array.isArray(e)?e.some(function(r){return r===t}):e instanceof Set?e.has(t):!1}function Gc(e){return ke([],te(new Set(we(ke([],te(e.map(function(t){return t.ownEvents})),!1)))),!1)}function no(e,t){return t.type==="compound"?to(t).some(function(r){return r.type==="final"&&xi(e,r)}):t.type==="parallel"?to(t).every(function(r){return no(e,r)}):!1}function jc(e){return e===void 0&&(e=[]),e.reduce(function(t,r){return r.meta!==void 0&&(t[r.id]=r.meta),t},{})}function Ha(e){return new Set(we(e.map(function(t){return t.tags})))}function Ga(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if($(e)||$(t))return e===t;var r=xe(e),n=xe(t);return r.length===n.length&&r.every(function(o){return Ga(e[o],t[o])})}function Wc(e){return $(e)?!1:"value"in e&&"history"in e}function Qc(e,t){var r=e.exec,n=N(N({},e),{exec:r!==void 0?function(){return r(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return n}var zt=function(){function e(t){var r=this,n;this.actions=[],this.activities=Aa,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||Aa,this.meta=jc(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(n=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&n!==void 0?n:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return Gc(r.configuration)}})}return e.from=function(t,r){if(t instanceof e)return t.context!==r?new e({value:t.value,context:r,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var n=Rn;return new e({value:t,context:r,_event:n,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,r){if(t instanceof e){if(!t.actions.length)return t;var n=Rn;return new e({value:t.value,context:r,_event:n,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,r)},e.prototype.toStrings=function(t,r){var n=this;if(t===void 0&&(t=this.value),r===void 0&&(r="."),$(t))return[t];var o=xe(t);return o.concat.apply(o,ke([],te(o.map(function(i){return n.toStrings(t[i],r).map(function(s){return i+r+s})})),!1))},e.prototype.toJSON=function(){var t=this,r=t.configuration,n=t.transitions,o=t.tags,i=t.machine,s=Xo(t,["configuration","transitions","tags","machine"]);return N(N({},s),{tags:Array.from(o)})},e.prototype.matches=function(t){return di(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var r;_e&&Ze(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false.");var n=(r=this.machine)===null||r===void 0?void 0:r.getTransitionData(this,t);return!!(n==null?void 0:n.transitions.length)&&n.transitions.some(function(o){return o.target!==void 0||o.actions.length})},e}();var Yc=[],oo=function(e,t){Yc.push(e);var r=t(e);return Yc.pop(),r};function Vc(e){return N({id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},Dn)}function zc(e,t,r,n){var o,i=Ms(e.src),s=(o=t==null?void 0:t.options.services)===null||o===void 0?void 0:o[i.type],a=e.data?Kn(e.data,r,n):void 0,u=s?Kc(s,e.id,a):Vc(e.id);return u.meta=e,u}function Kc(e,t,r){var n=Vc(t);if(n.deferred=!0,nn(e)){var o=n.state=oo(void 0,function(){return(r?e.withContext(r):e).initialState});n.getSnapshot=function(){return o}}return n}function Lh(e){try{return typeof e.send=="function"}catch{return!1}}function $c(e){return Lh(e)&&"id"in e}function Zc(e){return N(N({subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},Dn),e)}function Dh(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function Ei(e){return N(N({type:vi},e),{toJSON:function(){var t=e.onDone,r=e.onError,n=Xo(e,["onDone","onError"]);return N(N({},n),{type:vi,src:Dh(e.src)})}})}var Ko="",ja="#",Ni="*",Vo={},zo=function(e){return e[0]===ja},Oh=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},qh=function(e,t,r){var n=r.slice(0,-1).some(function(i){return!("cond"in i)&&!("in"in i)&&($(i.target)||nn(i.target))}),o=t===Ko?"the transient event":"event '".concat(t,"'");Ze(!n,"One or more transitions for ".concat(o," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")},Rc=function(){function e(t,r,n,o){var i=this;n===void 0&&(n="context"in t?t.context:void 0);var s;this.config=t,this._context=n,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(Oh(),r),this.parent=o==null?void 0:o.parent,this.key=this.config.key||(o==null?void 0:o.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:ks),this.id=this.config.id||ke([this.machine.key],te(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&xe(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(s=this.config.schema)!==null&&s!==void 0?s:{},this.description=this.config.description,_e||Ze(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?Go(this.config.states,function(l,m){var d,c=new e(l,{},void 0,{parent:i,key:m});return Object.assign(i.idMap,N((d={},d[c.id]=c,d),c.idMap)),c}):Vo;var a=0;function u(l){var m,d;l.order=a++;try{for(var c=K(to(l)),g=c.next();!g.done;g=c.next()){var v=g.value;u(v)}}catch(b){m={error:b}}finally{try{g&&!g.done&&(d=c.return)&&d.call(c)}finally{if(m)throw m.error}}}u(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(l){var m=l.event;return m===Ko}):Ko in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=ir(this.config.entry||this.config.onEntry).map(function(l){return Qo(l)}),this.onExit=ir(this.config.exit||this.config.onExit).map(function(l){return Qo(l)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=ir(this.config.invoke).map(function(l,m){var d,c;if(nn(l)){var g=hi(i.id,m);return i.machine.options.services=N((d={},d[g]=l,d),i.machine.options.services),Ei({src:g,id:g})}else if($(l.src)){var g=l.id||hi(i.id,m);return Ei(N(N({},l),{id:g,src:l.src}))}else if(nn(l.src)||le(l.src)){var g=l.id||hi(i.id,m);return i.machine.options.services=N((c={},c[g]=l.src,c),i.machine.options.services),Ei(N(N({id:g},l),{src:g}))}else{var v=l.src;return Ei(N(N({id:hi(i.id,m)},l),{src:v}))}}),this.activities=ir(this.config.activities).concat(this.invoke).map(function(l){return Ds(l)}),this.transition=this.transition.bind(this),this.tags=ir(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||Xa(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,r){var n=this.options,o=n.actions,i=n.activities,s=n.guards,a=n.services,u=n.delays;return new e(this.config,{actions:N(N({},o),t.actions),activities:N(N({},i),t.activities),guards:N(N({},s),t.guards),services:N(N({},a),t.services),delays:N(N({},u),t.delays)},r??this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return le(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Go(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(r,n){return r[n.eventType]=r[n.eventType]||[],r[n.eventType].push(n),r},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var r=t===Ko,n=this.transitions.filter(function(o){var i=o.eventType===t;return r?i:i||o.eventType===Ni});return this.__cache.candidates[t]=n,n},e.prototype.getDelayedTransitions=function(){var t=this,r=this.config.after;if(!r)return[];var n=function(i,s){var a=le(i)?"".concat(t.id,":delay[").concat(s,"]"):i,u=Jc(a,t.id);return t.onEntry.push(Ua(u,{delay:i})),t.onExit.push(_c(u)),u},o=Sn(r)?r.map(function(i,s){var a=n(i.delay,s);return N(N({},i),{event:a})}):we(xe(r).map(function(i,s){var a=r[i],u=$(a)?{target:a}:a,l=isNaN(+i)?i:+i,m=n(l,s);return ir(u).map(function(d){return N(N({},d),{event:m,delay:l})})}));return o.map(function(i){var s=i.delay;return N(N({},t.formatTransition(i)),{delay:s})})},e.prototype.getStateNodes=function(t){var r,n=this;if(!t)return[];var o=t instanceof zt?t.value:Ho(t,this.delimiter);if($(o)){var i=this.getStateNode(o).initial;return i!==void 0?this.getStateNodes((r={},r[o]=i,r)):[this,this.states[o]]}var s=xe(o),a=[this];return a.push.apply(a,ke([],te(we(s.map(function(u){return n.getStateNode(u).getStateNodes(o[u])}))),!1)),a},e.prototype.handles=function(t){var r=Es(t);return this.events.includes(r)},e.prototype.resolveState=function(t){var r=Array.from(ro([],this.getStateNodes(t.value)));return new zt(N(N({},t),{value:this.resolve(t.value),configuration:r,done:no(r,this),tags:Ha(r)}))},e.prototype.transitionLeafNode=function(t,r,n){var o=this.getStateNode(t),i=o.next(r,n);return!i||!i.transitions.length?this.next(r,n):i},e.prototype.transitionCompoundNode=function(t,r,n){var o=xe(t),i=this.getStateNode(o[0]),s=i._transition(t[o[0]],r,n);return!s||!s.transitions.length?this.next(r,n):s},e.prototype.transitionParallelNode=function(t,r,n){var o,i,s={};try{for(var a=K(xe(t)),u=a.next();!u.done;u=a.next()){var l=u.value,m=t[l];if(!!m){var d=this.getStateNode(l),c=d._transition(m,r,n);c&&(s[l]=c)}}}catch(x){o={error:x}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}var g=xe(s).map(function(x){return s[x]}),v=we(g.map(function(x){return x.transitions})),b=g.some(function(x){return x.transitions.length>0});if(!b)return this.next(r,n);var k=we(g.map(function(x){return x.entrySet})),T=we(xe(s).map(function(x){return s[x].configuration}));return{transitions:v,entrySet:k,exitSet:we(g.map(function(x){return x.exitSet})),configuration:T,source:r,actions:we(xe(s).map(function(x){return s[x].actions}))}},e.prototype._transition=function(t,r,n){return $(t)?this.transitionLeafNode(t,r,n):xe(t).length===1?this.transitionCompoundNode(t,r,n):this.transitionParallelNode(t,r,n)},e.prototype.getTransitionData=function(t,r){return this._transition(t.value,t,st(r))},e.prototype.next=function(t,r){var n,o,i=this,s=r.name,a=[],u=[],l;try{for(var m=K(this.getCandidates(s)),d=m.next();!d.done;d=m.next()){var c=d.value,g=c.cond,v=c.in,b=t.context,k=v?$(v)&&zo(v)?t.matches(Ho(this.getStateNodeById(v).path,this.delimiter)):di(Ho(v,this.delimiter),kc(this.path.slice(0,-2))(t.value)):!0,T=!1;try{T=!g||ws(this.machine,g,b,r,t)}catch(B){throw new Error("Unable to evaluate guard '".concat(g.name||g.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,`':
`).concat(B.message))}if(T&&k){c.target!==void 0&&(u=c.target),a.push.apply(a,ke([],te(c.actions),!1)),l=c;break}}}catch(B){n={error:B}}finally{try{d&&!d.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}if(!!l){if(!u.length)return{transitions:[l],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var x=we(u.map(function(B){return i.getRelativeStateNodes(B,t.historyValue)})),E=!!l.internal,_=E?[]:we(x.map(function(B){return i.nodesFromChild(B)}));return{transitions:[l],entrySet:_,exitSet:E?[]:[this],configuration:x,source:t,actions:a}}},e.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var r=[],n=t;n&&n!==this;)r.push(n),n=n.parent;return r.push(this),r},e.prototype.escapes=function(t){if(this===t)return!1;for(var r=this.parent;r;){if(r===t)return!1;r=r.parent}return!0},e.prototype.getActions=function(t,r,n,o){var i,s,a,u,l=ro([],o?this.getStateNodes(o.value):[this]),m=t.configuration.length?ro(l,t.configuration):l;try{for(var d=K(m),c=d.next();!c.done;c=d.next()){var g=c.value;xi(l,g)||t.entrySet.push(g)}}catch(D){i={error:D}}finally{try{c&&!c.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}try{for(var v=K(l),b=v.next();!b.done;b=v.next()){var g=b.value;(!xi(m,g)||xi(t.exitSet,g.parent))&&t.exitSet.push(g)}}catch(D){a={error:D}}finally{try{b&&!b.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}var k=we(t.entrySet.map(function(D){var M=[];if(D.type!=="final")return M;var X=D.parent;if(!X.parent)return M;M.push(Si(D.id,D.doneData),Si(X.id,D.doneData?Kn(D.doneData,r,n):void 0));var R=X.parent;return R.type==="parallel"&&to(R).every(function(be){return no(t.configuration,be)})&&M.push(Si(R.id)),M}));t.exitSet.sort(function(D,M){return M.order-D.order}),t.entrySet.sort(function(D,M){return D.order-M.order});var T=new Set(t.entrySet),x=new Set(t.exitSet),E=te([we(Array.from(T).map(function(D){return ke(ke([],te(D.activities.map(function(M){return Bc(M)})),!1),te(D.onEntry),!1)})).concat(k.map(qc)),we(Array.from(x).map(function(D){return ke(ke([],te(D.onExit),!1),te(D.activities.map(function(M){return Uc(M)})),!1)}))],2),_=E[0],B=E[1],U=bi(B.concat(t.actions).concat(_),this.machine.options.actions);return U},e.prototype.transition=function(t,r,n){t===void 0&&(t=this.initialState);var o=st(r),i;if(t instanceof zt)i=n===void 0?t:this.resolveState(zt.from(t,n));else{var s=$(t)?this.resolve(ci(this.getResolvedPath(t))):this.resolve(t),a=n??this.machine.context;i=this.resolveState(zt.from(s,a))}if(!_e&&o.name===Ni)throw new Error("An event cannot have the wildcard type ('".concat(Ni,"')"));if(this.strict&&!this.events.includes(o.name)&&!Nc(o.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(o.name,"'"));var u=this._transition(i.value,i,o)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:i,actions:[]},l=ro([],this.getStateNodes(i.value)),m=u.configuration.length?ro(l,u.configuration):l;return u.configuration=ke([],te(m),!1),this.resolveTransition(u,i,i.context,o)},e.prototype.resolveRaisedTransition=function(t,r,n){var o,i=t.actions;return t=this.transition(t,r),t._event=n,t.event=n.data,(o=t.actions).unshift.apply(o,ke([],te(i),!1)),t},e.prototype.resolveTransition=function(t,r,n,o){var i,s,a=this;o===void 0&&(o=Rn);var u=t.configuration,l=!r||t.transitions.length>0,m=l?Hc(this.machine,u):void 0,d=r?r.historyValue?r.historyValue:t.source?this.machine.historyValue(r.value):void 0:void 0,c=this.getActions(t,n,o,r),g=r?N({},r.activities):{};try{for(var v=K(c),b=v.next();!b.done;b=v.next()){var k=b.value;k.type===gi?g[k.activity.id||k.activity.type]=k:k.type===jo&&(g[k.activity.id||k.activity.type]=!1)}}catch($t){i={error:$t}}finally{try{b&&!b.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}var T=te(Ls(this,r,n,o,c,this.machine.config.preserveActionOrder),2),x=T[0],E=T[1],_=te(Ts(x,function($t){return $t.type===Wo||$t.type===Zn&&$t.to===On.Internal}),2),B=_[0],U=_[1],D=x.filter(function($t){var fo;return $t.type===gi&&((fo=$t.activity)===null||fo===void 0?void 0:fo.type)===vi}),M=D.reduce(function($t,fo){return $t[fo.activity.id]=zc(fo.activity,a.machine,E,o),$t},r?N({},r.children):{}),X=l?t.configuration:r?r.configuration:[],R=no(X,this),be=new zt({value:m||r.value,context:E,_event:o,_sessionid:r?r._sessionid:null,historyValue:m?d?wc(d,m):void 0:r?r.historyValue:void 0,history:!m||t.source?r:void 0,actions:m?U:[],activities:m?g:r?r.activities:{},events:[],configuration:X,transitions:t.transitions,children:M,done:R,tags:r==null?void 0:r.tags,machine:this}),We=n!==E;be.changed=o.name===yi||We;var Ce=be.history;Ce&&delete Ce.history;var mt=!R&&(this._transient||u.some(function($t){return $t._transient}));if(!l&&(!mt||o.name===Ko))return be;var $e=be;if(!R)for(mt&&($e=this.resolveRaisedTransition($e,{type:Ic},o));B.length;){var Zp=B.shift();$e=this.resolveRaisedTransition($e,Zp._event,o)}var Rp=$e.changed||(Ce?!!$e.actions.length||We||typeof Ce.value!=typeof $e.value||!Ga($e.value,Ce.value):void 0);return $e.changed=Rp,$e.history=Ce,$e.tags=Ha($e.configuration),$e},e.prototype.getStateNode=function(t){if(zo(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var r=this.states[t];if(!r)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return r},e.prototype.getStateNodeById=function(t){var r=zo(t)?t.slice(ja.length):t;if(r===this.id)return this;var n=this.machine.idMap[r];if(!n)throw new Error("Child state node '#".concat(r,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&zo(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var r=Ns(t,this.delimiter).slice(),n=this;r.length;){var o=r.shift();if(!o.length)break;n=n.getStateNode(o)}return n},e.prototype.resolve=function(t){var r,n=this;if(!t)return this.initialStateValue||Vo;switch(this.type){case"parallel":return Go(this.initialStateValue,function(i,s){return i?n.getStateNode(s).resolve(t[s]||i):Vo});case"compound":if($(t)){var o=this.getStateNode(t);return o.type==="parallel"||o.type==="compound"?(r={},r[t]=o.initialStateValue,r):t}return xe(t).length?Go(t,function(i,s){return i?n.getStateNode(s).resolve(i):Vo}):this.initialStateValue||{};default:return t||Vo}},e.prototype.getResolvedPath=function(t){if(zo(t)){var r=this.machine.idMap[t.slice(ja.length)];if(!r)throw new Error("Unable to find state node '".concat(t,"'"));return r.path}return Ns(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var r;if(this.type==="parallel")r=Ia(this.states,function(n){return n.initialStateValue||Vo},function(n){return n.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));r=ki(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else r={};return this.__cache.initialStateValue=r,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,r){var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,r??this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){this._init();var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var r=this.config;$(r.target)?t=zo(r.target)?ci(this.machine.getStateNodeById(r.target).path.slice(this.path.length-1)):r.target:t=r.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,r,n){return n===void 0&&(n=!0),n?t.type==="history"?t.resolveHistory(r):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(ki(this))return[this];if(this.type==="compound"&&!this.initial)return _e||Ze(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var r=pi(this.initialStateValue);return we(r.map(function(n){return t.getFromRelativePath(n)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var r=te(t),n=r[0],o=r.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if(i.type==="history")return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(o)},e.prototype.historyValue=function(t){if(!!xe(this.states).length)return{current:t||this.initialStateValue,states:Ia(this.states,function(r,n){if(!t)return r.historyValue();var o=$(t)?void 0:t[n];return r.historyValue(o||r.initialStateValue)},function(r){return!r.history})}},e.prototype.resolveHistory=function(t){var r=this;if(this.type!=="history")return[this];var n=this.parent;if(!t){var o=this.target;return o?we(pi(o).map(function(s){return n.getFromRelativePath(s)})):n.initialStateNodes}var i=xc(n.path,"states")(t).current;return $(i)?[n.getStateNode(i)]:we(pi(i).map(function(s){return r.history==="deep"?n.getFromRelativePath(s):[n.states[s[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,r=we(xe(this.states).map(function(n){return t.states[n].stateIds}));return[this.id].concat(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,r,n,o;if(this.__cache.events)return this.__cache.events;var i=this.states,s=new Set(this.ownEvents);if(i)try{for(var a=K(xe(i)),u=a.next();!u.done;u=a.next()){var l=u.value,m=i[l];if(m.states)try{for(var d=(n=void 0,K(m.events)),c=d.next();!c.done;c=d.next()){var g=c.value;s.add("".concat(g))}}catch(v){n={error:v}}finally{try{c&&!c.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(r){return!(!r.target&&!r.actions.length&&r.internal)}).map(function(r){return r.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var r=this;if(t!==void 0)return t.map(function(n){if(!$(n))return n;var o=n[0]===r.delimiter;if(o&&!r.parent)return r.getStateNodeByPath(n.slice(1));var i=o?r.key+n:n;if(r.parent)try{var s=r.parent.getStateNodeByPath(i);return s}catch(a){throw new Error("Invalid transition definition for state node '".concat(r.id,`':
`).concat(a.message))}else return r.getStateNodeByPath(i)})},e.prototype.formatTransition=function(t){var r=this,n=Ac(t.target),o="internal"in t?t.internal:n?n.some(function(u){return $(u)&&u[0]===r.delimiter}):!0,i=this.machine.options.guards,s=this.resolveTarget(n),a=N(N({},t),{actions:bi(ir(t.actions)),cond:Cs(t.cond,i),target:s,source:this,internal:o,eventType:t.event,toJSON:function(){return N(N({},a),{target:a.target?a.target.map(function(u){return"#".concat(u.id)}):void 0,source:"#".concat(r.id)})}});return a},e.prototype.formatTransitions=function(){var t,r,n=this,o;if(!this.config.on)o=[];else if(Array.isArray(this.config.on))o=this.config.on;else{var i=this.config.on,s=Ni,a=i[s],u=a===void 0?[]:a,l=Xo(i,[typeof s=="symbol"?s:s+""]);o=we(xe(l).map(function(x){!_e&&x===Ko&&Ze(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(n.id,'".'));var E=$n(x,l[x]);return _e||qh(n,x,E),E}).concat($n(Ni,u)))}var m=this.config.always?$n("",this.config.always):[],d=this.config.onDone?$n(String(Si(this.id)),this.config.onDone):[];_e||Ze(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var c=we(this.invoke.map(function(x){var E=[];return x.onDone&&E.push.apply(E,ke([],te($n(String(Yo(x.id)),x.onDone)),!1)),x.onError&&E.push.apply(E,ke([],te($n(String(eo(x.id)),x.onError)),!1)),E})),g=this.after,v=we(ke(ke(ke(ke([],te(d),!1),te(c),!1),te(o),!1),te(m),!1).map(function(x){return ir(x).map(function(E){return n.formatTransition(E)})}));try{for(var b=K(g),k=b.next();!k.done;k=b.next()){var T=k.value;v.push(T)}}catch(x){t={error:x}}finally{try{k&&!k.done&&(r=b.return)&&r.call(b)}finally{if(t)throw t.error}}return v},e}();function Wa(e,t,r){return r===void 0&&(r=e.context),new Rc(e,t,r)}var _h={deferEvents:!1},Qa=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=N(N({},_h),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(r){throw this.clear(),r}finally{this.processingEvent=!1}},e}();var Ya=new Map,Bh=0,Ti={bookId:function(){return"x:".concat(Bh++)},register:function(e,t){return Ya.set(e,t),e},get:function(e){return Ya.get(e)},free:function(e){Ya.delete(e)}};function Os(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}function Uh(){var e=Os();if(e&&"__xstate__"in e)return e.__xstate__}function ed(e){if(!!Os()){var t=Uh();t&&t.register(e)}}function td(e,t){t===void 0&&(t={});var r=e.initialState,n=new Set,o=[],i=!1,s=function(){if(!i){for(i=!0;o.length>0;){var l=o.shift();r=e.transition(r,l,u),n.forEach(function(m){return m.next(r)})}i=!1}},a=Zc({id:t.id,send:function(l){o.push(l),s()},getSnapshot:function(){return r},subscribe:function(l,m,d){var c=Ps(l,m,d);return n.add(c),c.next(r),{unsubscribe:function(){n.delete(c)}}}}),u={parent:t.parent,self:a,id:t.id||"anonymous",observers:n};return r=e.start?e.start(u):r,a}var Jh={sync:!1,autoForward:!1},Dt;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Dt||(Dt={}));var rd=function(){function e(t,r){var n=this;r===void 0&&(r=e.defaultOptions),this.machine=t,this.scheduler=new Qa,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Dt.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(m,d){if(Sn(m))return n.batch(m),n.state;var c=st(fi(m,d));if(n.status===Dt.Stopped)return _e||Ze(!1,'Event "'.concat(c.name,'" was sent to stopped service "').concat(n.machine.id,`". This service has already reached its final state, and will not transition.
Event: `).concat(JSON.stringify(c.data))),n.state;if(n.status!==Dt.Running&&!n.options.deferEvents)throw new Error('Event "'.concat(c.name,'" was sent to uninitialized service "').concat(n.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(c.data)));return n.scheduler.schedule(function(){n.forward(c);var g=n.nextState(c);n.update(g,c)}),n._state},this.sendTo=function(m,d){var c=n.parent&&(d===On.Parent||n.parent.id===d),g=c?n.parent:$(d)?n.children.get(d)||Ti.get(d):Pc(d)?d:void 0;if(!g){if(!c)throw new Error("Unable to send event to child '".concat(d,"' from service '").concat(n.id,"'."));_e||Ze(!1,"Service '".concat(n.id,"' has no parent: unable to send event ").concat(m.type));return}"machine"in g?g.send(N(N({},m),{name:m.name===Ba?"".concat(eo(n.id)):m.name,origin:n.sessionId})):g.send(m.data)};var o=N(N({},e.defaultOptions),r),i=o.clock,s=o.logger,a=o.parent,u=o.id,l=u!==void 0?u:t.id;this.id=l,this.logger=s,this.clock=i,this.parent=a,this.options=o,this.scheduler=new Qa({deferEvents:this.options.deferEvents}),this.sessionId=Ti.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:oo(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return _e||Ze(this.status!==Dt.NotStarted,"Attempted to read state from uninitialized service '".concat(this.id,"'. Make sure the service is started first.")),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,r){var n,o;try{for(var i=K(t.actions),s=i.next();!s.done;s=i.next()){var a=s.value;this.exec(a,t,r)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(t,r){var n,o,i,s,a,u,l,m,d=this;if(t._sessionid=this.sessionId,this._state=t,this.options.execute&&this.execute(this.state),this.children.forEach(function(X){d.state.children[X.id]=X}),this.devTools&&this.devTools.send(r.data,t),t.event)try{for(var c=K(this.eventListeners),g=c.next();!g.done;g=c.next()){var v=g.value;v(t.event)}}catch(X){n={error:X}}finally{try{g&&!g.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}try{for(var b=K(this.listeners),k=b.next();!k.done;k=b.next()){var v=k.value;v(t,t.event)}}catch(X){i={error:X}}finally{try{k&&!k.done&&(s=b.return)&&s.call(b)}finally{if(i)throw i.error}}try{for(var T=K(this.contextListeners),x=T.next();!x.done;x=T.next()){var E=x.value;E(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(X){a={error:X}}finally{try{x&&!x.done&&(u=T.return)&&u.call(T)}finally{if(a)throw a.error}}var _=no(t.configuration||[],this.machine);if(this.state.configuration&&_){var B=t.configuration.find(function(X){return X.type==="final"&&X.parent===d.machine}),U=B&&B.doneData?Kn(B.doneData,t.context,r):void 0;try{for(var D=K(this.doneListeners),M=D.next();!M.done;M=D.next()){var v=M.value;v(Yo(this.id,U))}}catch(X){l={error:X}}finally{try{M&&!M.done&&(m=D.return)&&m.call(D)}finally{if(l)throw l.error}}this.stop()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===Dt.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,r,n){var o=this;if(!t)return{unsubscribe:function(){}};var i,s=n;return typeof t=="function"?i=t:(i=t.next.bind(t),s=t.complete.bind(t)),this.listeners.add(i),this.status===Dt.Running&&i(this.state),s&&this.onDone(s),{unsubscribe:function(){i&&o.listeners.delete(i),s&&o.doneListeners.delete(s)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var r=this;if(this.status===Dt.Running)return this;Ti.register(this.sessionId,this),this.initialized=!0,this.status=Dt.Running;var n=t===void 0?this.initialState:oo(this,function(){return Wc(t)?r.machine.resolveState(t):r.machine.resolveState(zt.from(t,r.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){r.update(n,Rn)}),this},e.prototype.stop=function(){var t,r,n,o,i,s,a,u,l,m,d=this;try{for(var c=K(this.listeners),g=c.next();!g.done;g=c.next()){var v=g.value;this.listeners.delete(v)}}catch(M){t={error:M}}finally{try{g&&!g.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}try{for(var b=K(this.stopListeners),k=b.next();!k.done;k=b.next()){var v=k.value;v(),this.stopListeners.delete(v)}}catch(M){n={error:M}}finally{try{k&&!k.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}try{for(var T=K(this.contextListeners),x=T.next();!x.done;x=T.next()){var v=x.value;this.contextListeners.delete(v)}}catch(M){i={error:M}}finally{try{x&&!x.done&&(s=T.return)&&s.call(T)}finally{if(i)throw i.error}}try{for(var E=K(this.doneListeners),_=E.next();!_.done;_=E.next()){var v=_.value;this.doneListeners.delete(v)}}catch(M){a={error:M}}finally{try{_&&!_.done&&(u=E.return)&&u.call(E)}finally{if(a)throw a.error}}if(!this.initialized)return this;ke([],te(this.state.configuration),!1).sort(function(M,X){return X.order-M.order}).forEach(function(M){var X,R;try{for(var be=K(M.definition.exit),We=be.next();!We.done;We=be.next()){var Ce=We.value;d.exec(Ce,d.state)}}catch(mt){X={error:mt}}finally{try{We&&!We.done&&(R=be.return)&&R.call(be)}finally{if(X)throw X.error}}}),this.children.forEach(function(M){le(M.stop)&&M.stop()});try{for(var B=K(xe(this.delayedEventsMap)),U=B.next();!U.done;U=B.next()){var D=U.value;this.clock.clearTimeout(this.delayedEventsMap[D])}}catch(M){l={error:M}}finally{try{U&&!U.done&&(m=B.return)&&m.call(B)}finally{if(l)throw l.error}}return this.scheduler.clear(),this.initialized=!1,this.status=Dt.Stopped,Ti.free(this.sessionId),this},e.prototype.batch=function(t){var r=this;if(this.status===Dt.NotStarted&&this.options.deferEvents)_e||Ze(!1,"".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,`" and are deferred. Make sure .start() is called for this service.
Event: `).concat(JSON.stringify(event)));else if(this.status!==Dt.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule(function(){var n,o,i=r.state,s=!1,a=[],u=function(c){var g=st(c);r.forward(g),i=oo(r,function(){return r.machine.transition(i,g)}),a.push.apply(a,ke([],te(i.actions.map(function(v){return Qc(v,i)})),!1)),s=s||!!i.changed};try{for(var l=K(t),m=l.next();!m.done;m=l.next()){var d=m.value;u(d)}}catch(c){n={error:c}}finally{try{m&&!m.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}i.changed=s,i.actions=a,r.update(i,st(t[t.length-1]))})},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype.nextState=function(t){var r=this,n=st(t);if(n.name.indexOf(_a)===0&&!this.state.nextEvents.some(function(i){return i.indexOf(_a)===0}))throw n.data.data;var o=oo(this,function(){return r.machine.transition(r.state,n)});return o},e.prototype.forward=function(t){var r,n;try{for(var o=K(this.forwardTo),i=o.next();!i.done;i=o.next()){var s=i.value,a=this.children.get(s);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(s,"'."));a.send(t)}}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},e.prototype.defer=function(t){var r=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?r.sendTo(t._event,t.to):r.send(t._event)},t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,r,n){n===void 0&&(n=this.machine.options.actions);var o=r.context,i=r._event,s=t.exec||Is(t.type,n),a=le(s)?s:s?s.exec:t.exec;if(a)try{return a(o,i.data,{action:t,state:this.state,_event:i})}catch(_){throw this.parent&&this.parent.send({type:"xstate.error",data:_}),_}switch(t.type){case Zn:var u=t;if(typeof u.delay=="number"){this.defer(u);return}else u.to?this.sendTo(u._event,u.to):this.send(u._event);break;case As:this.cancel(t.sendId);break;case gi:{if(this.status!==Dt.Running)return;var l=t.activity;if(!this.state.activities[l.id||l.type])break;if(l.type===me.Invoke){var m=Ms(l.src),d=this.machine.options.services?this.machine.options.services[m.type]:void 0,c=l.id,g=l.data;_e||Ze(!("forward"in l),"`forward` property is deprecated (found in invocation of '".concat(l.src,"' in in machine '").concat(this.machine.id,"'). ")+"Please use `autoForward` instead.");var v="autoForward"in l?l.autoForward:!!l.forward;if(!d){_e||Ze(!1,"No service found for invocation '".concat(l.src,"' in machine '").concat(this.machine.id,"'."));return}var b=g?Kn(g,o,i):void 0;if(typeof d=="string")return;var k=le(d)?d(o,i.data,{data:b,src:m,meta:l.meta}):d;if(!k)return;var T=void 0;nn(k)&&(k=b?k.withContext(b):k,T={autoForward:v}),this.spawn(k,c,T)}else this.spawnActivity(l);break}case jo:{this.stopChild(t.activity.id);break}case Fs:var x=t.label,E=t.value;x?this.logger(x,E):this.logger(E);break;default:_e||Ze(!1,"No implementation found for action type '".concat(t.type,"'"));break}},e.prototype.removeChild=function(t){var r;this.children.delete(t),this.forwardTo.delete(t),(r=this.state)===null||r===void 0||delete r.children[t]},e.prototype.stopChild=function(t){var r=this.children.get(t);!r||(this.removeChild(t),le(r.stop)&&r.stop())},e.prototype.spawn=function(t,r,n){if(La(t))return this.spawnPromise(Promise.resolve(t),r);if(le(t))return this.spawnCallback(t,r);if($c(t))return this.spawnActor(t,r);if(Mc(t))return this.spawnObservable(t,r);if(nn(t))return this.spawnMachine(t,N(N({},n),{id:r}));if(Tc(t))return this.spawnBehavior(t,r);throw new Error('Unable to spawn entity "'.concat(r,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,r){var n=this;r===void 0&&(r={});var o=new e(t,N(N({},this.options),{parent:this,id:r.id||t.id})),i=N(N({},Jh),r);i.sync&&o.onTransition(function(a){n.send(yi,{state:a,id:o.id})});var s=o;return this.children.set(o.id,s),i.autoForward&&this.forwardTo.add(o.id),o.onDone(function(a){n.removeChild(o.id),n.send(st(a,{origin:o.id}))}).start(),s},e.prototype.spawnBehavior=function(t,r){var n=td(t,{id:r,parent:this});return this.children.set(r,n),n},e.prototype.spawnPromise=function(t,r){var n=this,o=!1,i;t.then(function(a){o||(i=a,n.removeChild(r),n.send(st(Yo(r,a),{origin:r})))},function(a){if(!o){n.removeChild(r);var u=eo(r,a);try{n.send(st(u,{origin:r}))}catch(l){Fc(a,l,r),n.devTools&&n.devTools.send(u,n.state),n.machine.strict&&n.stop()}}});var s=N({id:r,send:function(){},subscribe:function(a,u,l){var m=Ps(a,u,l),d=!1;return t.then(function(c){d||(m.next(c),!d&&m.complete())},function(c){d||m.error(c)}),{unsubscribe:function(){return d=!0}}},stop:function(){o=!0},toJSON:function(){return{id:r}},getSnapshot:function(){return i}},Dn);return this.children.set(r,s),s},e.prototype.spawnCallback=function(t,r){var n=this,o=!1,i=new Set,s=new Set,a,u=function(d){a=d,s.forEach(function(c){return c(d)}),!o&&n.send(st(d,{origin:r}))},l;try{l=t(u,function(d){i.add(d)})}catch(d){this.send(eo(r,d))}if(La(l))return this.spawnPromise(l,r);var m=N({id:r,send:function(d){return i.forEach(function(c){return c(d)})},subscribe:function(d){return s.add(d),{unsubscribe:function(){s.delete(d)}}},stop:function(){o=!0,le(l)&&l()},toJSON:function(){return{id:r}},getSnapshot:function(){return a}},Dn);return this.children.set(r,m),m},e.prototype.spawnObservable=function(t,r){var n=this,o,i=t.subscribe(function(a){o=a,n.send(st(a,{origin:r}))},function(a){n.removeChild(r),n.send(st(eo(r,a),{origin:r}))},function(){n.removeChild(r),n.send(st(Yo(r),{origin:r}))}),s=N({id:r,send:function(){},subscribe:function(a,u,l){return t.subscribe(a,u,l)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return o},toJSON:function(){return{id:r}}},Dn);return this.children.set(r,s),s},e.prototype.spawnActor=function(t,r){return this.children.set(r,t),t},e.prototype.spawnActivity=function(t){var r=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(!r){_e||Ze(!1,"No implementation found for activity '".concat(t.type,"'"));return}var n=r(this.state.context,t);this.spawnEffect(t.id,n)},e.prototype.spawnEffect=function(t,r){this.children.set(t,N({id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:r||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},Dn))},e.prototype.attachDev=function(){var t=Os();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var r=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(N(N({name:this.id,autoPause:!0,stateSanitizer:function(n){return{value:n.value,context:n.context,actions:n.actions}}},r),{features:N({jump:!1,skip:!1},r?r.features:void 0)}),this.machine),this.devTools.init(this.state)}ed(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Oa]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Dt.NotStarted?this.initialState:this._state},e.defaultOptions=function(t){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(r,n){return setTimeout(r,n)},clearTimeout:function(r){return clearTimeout(r)}},logger:t.console.log.bind(console),devTools:!1}}(typeof self!="undefined"?self:global),e.interpret=qs,e}();function qs(e,t){var r=new rd(e,t);return r}var _s;(function(e){e[e.Effect=1]="Effect",e[e.LayoutEffect=2]="LayoutEffect"})(_s||(_s={}));var UA=p(f());var nd=p(f()),Xh=nd.useLayoutEffect,io=Xh;var od=p(f());function Bs(e){var t=od.useRef();return t.current||(t.current={v:e()}),t.current.v}var wi=p(f());var Hh=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Gh=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function id(e,t){var r,n,o=Hh([[],[]],2),i=o[0],s=o[1];try{for(var a=Gh(e),u=a.next();!u.done;u=a.next()){var l=u.value;t(l)?i.push(l):s.push(l)}}catch(m){r={error:m}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return[i,s]}var Ci=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},sd=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};function ad(e,t){var r=e.exec,n=r(t.context,t._event.data,{action:e,state:t,_event:t._event});n()}function ud(e){var t=(0,wi.useRef)([]),r=(0,wi.useRef)([]);io(function(){var n=e.subscribe(function(o){var i,s;if(o.actions.length){var a=o.actions.filter(function(d){return typeof d.exec=="function"&&"__effect"in d.exec}),u=Ci(id(a,function(d){return d.exec.__effect===_s.Effect}),2),l=u[0],m=u[1];(i=t.current).push.apply(i,sd([],Ci(l.map(function(d){return[d,o]})),!1)),(s=r.current).push.apply(s,sd([],Ci(m.map(function(d){return[d,o]})),!1))}});return function(){n.unsubscribe()}},[]),io(function(){for(;r.current.length;){var n=Ci(r.current.shift(),2),o=n[0],i=n[1];ad(o,i)}}),(0,wi.useEffect)(function(){for(;t.current.length;){var n=Ci(t.current.shift(),2),o=n[0],i=n[1];ad(o,i)}})}var Mi=function(){return Mi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Mi.apply(this,arguments)},jh=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function Wh(e,t,r){if(typeof e=="object")return e;var n=function(){};return{next:e,error:t||n,complete:r||n}}function ld(e,t,r){t===void 0&&(t={});var n=Bs(function(){return typeof e=="function"?e():e});if(!1)var o,i;var s=t.context,a=t.guards,u=t.actions,l=t.activities,m=t.services,d=t.delays,c=t.state,g=jh(t,["context","guards","actions","activities","services","delays","state"]),v=Bs(function(){var b={context:s,guards:a,actions:u,activities:l,services:m,delays:d},k=n.withConfig(b,function(){return Mi(Mi({},n.context),s)});return qs(k,Mi({deferEvents:!0},g))});return io(function(){var b;return r&&(b=v.subscribe(Wh(r))),function(){b==null||b.unsubscribe()}},[r]),io(function(){return v.start(c?zt.create(c):void 0),function(){v.stop()}},[]),io(function(){Object.assign(v.machine.options.actions,u),Object.assign(v.machine.options.guards,a),Object.assign(v.machine.options.activities,l),Object.assign(v.machine.options.services,m),Object.assign(v.machine.options.delays,d)},[u,a,l,m,d]),ud(v),v}var Qh=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i};function Va(e,t){t===void 0&&(t={});var r=(0,Us.useCallback)(function(a){var u=a.changed===void 0&&Object.keys(a.children).length;(a.changed||u)&&s(a)},[]),n=ld(e,t,r),o=Qh((0,Us.useState)(function(){var a=n.machine.initialState;return t.state?zt.create(t.state):a}),2),i=o[0],s=o[1];return[i,n.send,n]}var Yh=Wa({id:"modalStep",initial:"rateMentor",states:{rateMentor:{on:{HAPPY:"addTestimonial",SATISFIED:"satisfied",UNHAPPY:"report"}},satisfied:{on:{REQUEUED:"requeued",BACK:"rateMentor"}},addTestimonial:{on:{SUBMIT:"celebration",BACK:"rateMentor"}},celebration:{},requeued:{},report:{on:{SUBMIT:"unhappy",BACK:"rateMentor"}},unhappy:{}}}),Vh=({discussion:e,links:t})=>{let[r,n]=Va(Yh),[o,i]=(0,br.useState)(null);switch(r.value){case"rateMentor":return br.default.createElement(mc,{discussion:e,onHappy:()=>n("HAPPY"),onSatisfied:()=>n("SATISFIED"),onUnhappy:()=>n("UNHAPPY")});case"addTestimonial":return br.default.createElement(dc,{onSubmit:()=>n("SUBMIT"),onSkip:()=>Ue(t.exercise),onBack:()=>n("BACK"),discussion:e});case"celebration":return br.default.createElement(pc,{mentorHandle:e.mentor.handle,links:t});case"satisfied":return br.default.createElement(gc,{discussion:e,onRequeued:()=>n("REQUEUED"),onBack:()=>n("BACK"),onNotRequeued:()=>{Ue(t.exercise)}});case"requeued":return br.default.createElement(hc,{links:t});case"report":return br.default.createElement(bc,{discussion:e,onSubmit:s=>{i(s),n("SUBMIT")},onBack:()=>n("BACK")});case"unhappy":{if(!o)throw new Error("Report should not be null");return br.default.createElement(fc,{report:o,links:t})}default:throw new Error("Unknown modal step")}},md=n=>{var o=n,{links:e,discussion:t}=o,r=L(o,["links","discussion"]);return br.default.createElement(G,h({cover:!0,className:"m-finish-student-mentor-discussion"},r),br.default.createElement(Vh,{links:e,discussion:t}))};var so=p(f());var cd=({open:e,onConfirm:t,onCancel:r})=>so.default.createElement(G,{open:e,onClose:r,className:"m-confirm-finish-student-mentor-discussion"},so.default.createElement("h3",null,"Are you sure you want to end this discussion?"),so.default.createElement("p",null,"When you feel like the mentoring has reached its natural conclusion, or you simply don\u2019t wish to proceed further, it's time to end the discussion."),so.default.createElement("div",{className:"buttons"},so.default.createElement("button",{type:"button",className:"btn-small-discourage",onClick:()=>r()},"Cancel"),so.default.createElement("button",{type:"button",className:"btn-primary btn-s",onClick:()=>t()},"Review and end discussion...")));var Js=({discussion:e,className:t,children:r,links:n})=>{let[o,i]=(0,qn.useState)("initialized");return qn.default.createElement(qn.default.Fragment,null,qn.default.createElement("button",{type:"button",className:t,onClick:()=>{i("confirming")}},r),qn.default.createElement(cd,{open:o==="confirming",onConfirm:()=>{i("finishing")},onCancel:()=>{i("initialized")}}),qn.default.createElement(md,{discussion:e,links:n,open:o==="finishing",onClose:()=>{i("initialized")},onCancel:()=>{i("initialized")}}))};var dd=({discussion:e,mentor:t,userHandle:r,iterations:n,onIterationScroll:o,links:i,status:s})=>Ot.default.createElement(ns,{discussion:e},Ot.default.createElement("div",{id:"panel-discussion"},Ot.default.createElement(lc,{mentor:t}),Ot.default.createElement("div",{className:"discussion"},Ot.default.createElement(ss,{iterations:n,userIsStudent:!0,discussionUuid:e.uuid,userHandle:r,onIterationScroll:o,status:s}),e.status==="mentor_finished"?Ot.default.createElement("div",{className:"student-review timeline-entry"},Ot.default.createElement(y,{icon:"completed-check-circle",className:"timeline-marker"}),Ot.default.createElement("div",{className:"--details timeline-content"},Ot.default.createElement("h3",null,t.handle," ended this discussion."),Ot.default.createElement("p",null,Ot.default.createElement("strong",null,"It's time to review ",t.handle,"'s mentoring"),"You\u2019ll be able to leave feedback and share what you thought of your experience."),Ot.default.createElement(Js,{discussion:e,links:i,className:"btn-primary btn-s"},"Review & finish discussion"))):null)),Ot.default.createElement("section",{className:"comment-section --comment"},Ot.default.createElement(us,null),Ot.default.createElement(as,{discussion:e})));var Pi=p(f());var pd=({discussion:e,links:t})=>e.isFinished||e.status==="mentor_finished"?Pi.default.createElement("div",{className:"finished"},Pi.default.createElement(y,{icon:"completed-check-circle"}),"Ended"):Pi.default.createElement(Js,{discussion:e,links:t,className:"btn-keyboard-shortcut finish-button"},Pi.default.createElement("div",{className:"--hint"},"End discussion"));var za=p(f());var fe=p(f());var zh=new Error("Unable to create mentor request"),fd=({trackObjectives:e,track:t,exercise:r,links:n,onSuccess:o})=>{let[i,{status:s,error:a}]=A(()=>{let{fetch:d}=P({endpoint:n.createMentorRequest,method:"POST",body:JSON.stringify({comment:m.current?.value,track_objectives:l.current?.value})});return d.then(c=>re(c,"mentorRequest"))},{onSuccess:o}),u=(0,fe.useCallback)(d=>{d.preventDefault(),i()},[i]),l=(0,fe.useRef)(null),m=(0,fe.useRef)(null);return fe.default.createElement("div",{className:"mentoring-request-section"},fe.default.createElement("div",{className:"direct"},fe.default.createElement("h3",null,"Send this link to a friend for private mentoring."," ",fe.default.createElement("a",{href:n.learnMoreAboutPrivateMentoring},"Learn more"),"."),fe.default.createElement(Nn,{textToCopy:n.privateMentoring})),fe.default.createElement("form",{"data-turbo":"false",className:"community",onSubmit:u},fe.default.createElement("div",{className:"heading"},fe.default.createElement("div",{className:"info"},fe.default.createElement("h2",null,"It\u2019s time to deepen your knowledge."),fe.default.createElement("p",null,"Start a mentoring discussion on ",fe.default.createElement("strong",null,r.title)," ","to discover new and exciting ways to approach it. Expand and deepen your knowledge.")),fe.default.createElement(y,{icon:"mentoring",category:"graphics"})),fe.default.createElement("div",{className:"question"},fe.default.createElement("label",{htmlFor:"request-mentoring-form-track-objectives"},"What are you hoping to learn from this track?"),fe.default.createElement("p",{id:"request-mentoring-form-track-description"},"Tell our mentors a little about your programming background and what you\u2019re aiming to learn from ",t.title,"."),fe.default.createElement("textarea",{ref:l,id:"request-mentoring-form-track-objectives",required:!0,"aria-describedby":"request-mentoring-form-track-description",defaultValue:e})),fe.default.createElement("div",{className:"question"},fe.default.createElement("label",{htmlFor:"request-mentoring-form-solution-comment"},"How can a mentor help you with this solution?"),fe.default.createElement("p",{id:"request-mentoring-form-solution-description"},"Give your mentor a starting point for the conversation. This will be your first comment during the session. Markdown is permitted."),fe.default.createElement("textarea",{ref:m,id:"request-mentoring-form-solution-comment",required:!0,"aria-describedby":"request-mentoring-form-solution-description"})),fe.default.createElement(w,{status:s,className:"btn-primary btn-m"},"Submit mentoring request"),fe.default.createElement(j,{status:s,error:a,defaultError:zh}),fe.default.createElement("p",{className:"flow-explanation"},"Once you submit, your request will be open for a mentor to join and start providing feedback.",fe.default.createElement(ko,{seconds:t.medianWaitTime}))))};var Q=p(f());var on=p(f());var Sr=p(f());var Kh=new Error("Unable to cancel request"),hd=o=>{var i=o,{open:e,onClose:t,request:r}=i,n=L(i,["open","onClose","request"]);let[s,{status:a,error:u}]=A(()=>{let{fetch:d}=P({endpoint:r.links.cancel,method:"PATCH",body:null});return d},{onSuccess:d=>{Ue(d.links.home)}}),l=(0,Sr.useCallback)(d=>{d.preventDefault(),s()},[s]),m=(0,Sr.useCallback)(()=>{a!=="loading"&&t()},[a,t]);return Sr.default.createElement(G,h({open:e,onClose:m,className:"m-generic-confirmation"},n),Sr.default.createElement("h3",null,"Cancel mentoring request?"),Sr.default.createElement("p",null,"Are you sure you want to cancel this mentoring request? Please note that if someone has started giving feedback in the last few minutes, the session may continue regardless of this cancellation."),Sr.default.createElement("form",{"data-turbo":"false",onSubmit:l,className:"buttons"},Sr.default.createElement(w,{status:a,type:"submit",className:"btn-primary btn-s"},"Cancel mentoring request"),Sr.default.createElement(w,{status:a,type:"button",className:"btn-enhanced btn-s",onClick:m},"Close")),Sr.default.createElement(q,{resetKeys:[a]},Sr.default.createElement(de,{error:u,defaultError:Kh})))};var gd=({request:e})=>{let[t,r]=(0,on.useState)(!1),n=(0,on.useCallback)(()=>{r(!0)},[]),o=(0,on.useCallback)(()=>{r(!1)},[]);return on.default.createElement(on.default.Fragment,null,on.default.createElement("button",{type:"button",onClick:n},"Cancel Request"),on.default.createElement(hd,{open:t,request:e,onClose:o}))};var $h={contentMarkdown:"",contentHtml:"<p>Please update this comment to tell a mentor what you'd like to learn in this exercise</p>"},vd=({track:e,links:t,videos:r,request:n,iteration:o})=>{if(!n.comment)throw"Request comment expected";let[i,s]=(0,Q.useState)("viewing"),[a,u]=(0,Q.useState)(n.comment),l=a.contentHtml.length===0,m={action:i,post:l?h(h({},a),$h):a,onEdit:()=>s("editing"),onEditCancel:()=>s("viewing"),onUpdate:d=>u(d)};return Q.default.createElement("div",{className:"mentoring-requested-section",id:"panel-discussion"},Q.default.createElement("div",{className:"content"},Q.default.createElement("div",{className:"status"},Q.default.createElement("div",{className:"info"},Q.default.createElement("h3",null,"Waiting on a mentor..."),Q.default.createElement(ko,{seconds:e.medianWaitTime})),Q.default.createElement(gd,{request:n})),Q.default.createElement("div",{className:"placeholder"},Q.default.createElement("div",{className:"info"},Q.default.createElement("div",{className:"title"},Q.default.createElement("div",{className:"name"}),Q.default.createElement("div",{className:"rep"})),Q.default.createElement("div",{className:"desc"})),Q.default.createElement("div",{className:"avatar"},Q.default.createElement(y,{icon:"avatar-placeholder"}))),Q.default.createElement("div",{className:"discussion"},Q.default.createElement(Gn,{iteration:o,userIsStudent:!1}),Q.default.createElement(Ao,h({},m))),Q.default.createElement("div",{className:"waiting-box"},Q.default.createElement("h3",null,"Waiting on a mentor?"),Q.default.createElement("h4",null,"Learn how to get the most out of mentoring"),Q.default.createElement("p",null,"Mentoring relies on mentors and students having a shared understanding of how it works."," ",Q.default.createElement("a",{href:t.mentoringGuide,target:"_blank",rel:"noreferrer"},"Read our guide",Q.default.createElement(C,{icon:"external-link",alt:"The link opens in a new window or tab"}))," ","or watch the videos below to get that understanding."),Q.default.createElement("div",{className:"videos"},r.map((d,c)=>Q.default.createElement(Zh,h({key:c},d)))))),Q.default.createElement("div",{className:"direct"},Q.default.createElement("h3",null,"Want a friend to mentor your solution?"),Q.default.createElement("p",null,"Send this link to a friend for private mentoring."),Q.default.createElement(Nn,{textToCopy:t.privateMentoring})))},Zh=({title:e,date:t,thumb:r,url:n})=>Q.default.createElement("a",{href:n,target:"_blank",rel:"noreferrer",className:"video"},Q.default.createElement("div",{className:"img",style:{backgroundImage:`url('${r}')`}}),Q.default.createElement("div",{className:"info"},Q.default.createElement("div",{className:"title"},e),Q.default.createElement("time",{dateTime:t,className:"date"},vo(t,"DD MMM YYYY"))),Q.default.createElement(C,{icon:"external-link",alt:"The link opens in a new window or tab"}));var yd=({trackObjectives:e,track:t,exercise:r,request:n,latestIteration:o,videos:i,links:s,onCreate:a})=>n?za.default.createElement(vd,{request:n,links:s,track:t,videos:i,iteration:o}):za.default.createElement(fd,{trackObjectives:e,track:t,exercise:r,onSuccess:a,links:s});var bd=({userHandle:e,discussion:t,mentor:r,iterations:n,exercise:o,trackObjectives:i,videos:s,track:a,request:u,links:l,outOfDate:m})=>{let[d,c]=(0,at.useState)(u),g=(0,at.useCallback)(B=>{c(B)},[]),{iterations:v,status:b}=ms({discussion:t,iterations:n}),[k,T]=(0,at.useState)(!1),{currentIteration:x,handleIterationClick:E,handleIterationScroll:_}=os({iterations:v,on:k});return at.default.createElement("div",{className:"c-mentor-discussion"},at.default.createElement(Tn,{id:"mentoring-session",defaultLeftWidth:"90%",leftMinWidth:550,rightMinWidth:625,left:at.default.createElement(at.default.Fragment,null,at.default.createElement("header",{className:"discussion-header"},at.default.createElement(wo,{url:l.exercise}),at.default.createElement(uc,{track:a,exercise:o,mentor:r}),t?at.default.createElement(pd,{discussion:t,links:{exercise:o.links.self}}):null),at.default.createElement(ac,{iterations:v,currentIteration:x,onClick:E,language:a.highlightjsLanguage,indentSize:a.indentSize,isOutOfDate:m,isLinked:k,setIsLinked:T,discussion:t})),right:at.default.createElement(at.default.Fragment,null,t&&r?at.default.createElement(dd,{discussion:t,mentor:r,userHandle:e,iterations:v,onIterationScroll:_,links:{exercise:o.links.self},status:b}):at.default.createElement(yd,{trackObjectives:i,track:a,exercise:o,request:d,latestIteration:v[v.length-1],videos:s,links:l,onCreate:g}))}))};var ot=p(f());var gt=p(f());var Kt=p(f());var sr=p(f());var Sd=({value:e,text:t,iconUrl:r,internalUrl:n,externalUrl:o,createdAt:i,track:s})=>{let a=n||o,u=a===n?"chevron-right":"external-link";return sr.default.createElement("a",{href:a,className:"reputation-token"},sr.default.createElement("img",{alt:"",role:"presentation",src:r,className:"c-icon primary-icon",onError:_i}),sr.default.createElement("div",{className:"info"},sr.default.createElement("div",{className:"title",dangerouslySetInnerHTML:{__html:t}}),sr.default.createElement("div",{className:"extra"},s?sr.default.createElement("div",{className:"exercise"},"in",sr.default.createElement(ee,{iconUrl:s.iconUrl,title:s.title,className:"primary-icon"}),sr.default.createElement("div",{className:"name"},s.title)):sr.default.createElement("div",{className:"generic"},"Generic"),sr.default.createElement("time",{dateTime:i},Hi(i)))),sr.default.createElement(Xr,{value:`+ ${e}`,type:"primary"}),sr.default.createElement(y,{icon:u,className:"action-button"}))};var Nd=p(ct());var kr=p(f());var Rh=new Error("Unable to mark all as seen"),kd=i=>{var s=i,{endpoint:e,onClose:t,onSuccess:r,unseenTotal:n}=s,o=L(s,["endpoint","onClose","onSuccess","unseenTotal"]);let[a,{status:u,error:l}]=A(()=>{let{fetch:c}=P({endpoint:e,method:"PATCH",body:null});return c},{onSuccess:c=>{r(c),t()}}),m=(0,kr.useCallback)(c=>{c.preventDefault(),a()},[a]),d=(0,kr.useCallback)(()=>{u!=="loading"&&t()},[t,u]);return kr.default.createElement(G,h({theme:"dark",className:"m-generic-confirmation",onClose:d},o),kr.default.createElement("h3",null,"Mark all as seen?"),kr.default.createElement("p",null,"Are you sure you want to mark all ",n," contributions as seen? Note that these contributions may span multiple pages."),kr.default.createElement("form",{"data-turbo":"false",onSubmit:m,className:"buttons"},kr.default.createElement(w,{type:"submit",status:u,className:"btn-primary btn-s"},"Continue"),kr.default.createElement(w,{type:"button",status:u,onClick:d,className:"btn-enhanced btn-s"},"Cancel")),kr.default.createElement(q,{resetKeys:[u]},kr.default.createElement(de,{error:l,defaultError:Rh})))};var xd=p(f()),Ed=({unseenTotal:e,onClick:t})=>xd.default.createElement("button",{type:"button",onClick:t,className:"btn-m btn-default",disabled:e===0},"Mark all as seen");var Td=({cacheKey:e,data:t})=>{let r=Qe(),[n,o]=(0,Kt.useState)(!1),i=(0,Kt.useCallback)(()=>{o(!0)},[]),s=(0,Kt.useCallback)(()=>{o(!1)},[]),a=(0,Kt.useCallback)(u=>{let l=r.getQueryData(e);r.setQueryData(e,S(h({},l),{meta:S(h({},l?.meta),{unseenTotal:u.meta.unseenTotal})}))},[e,r]);return Kt.default.createElement("div",null,Kt.default.createElement("div",{className:"results-title-bar"},Kt.default.createElement("h3",null,"Showing ",t.meta.totalCount," ",(0,Nd.default)("contribution",t.meta.totalCount)),Kt.default.createElement(Ed,{onClick:i,unseenTotal:t.meta.unseenTotal})),Kt.default.createElement("div",{className:"reputation-tokens"},t.results.map(u=>Kt.default.createElement(Sd,S(h({},u),{key:u.uuid})))),Kt.default.createElement(kd,{endpoint:t.meta.links.markAllAsSeen,open:n,onSuccess:a,onClose:s,unseenTotal:t.meta.unseenTotal}))};var ht=p(f());var eg=({option:e})=>{switch(e){case"authoring":return ht.default.createElement("div",{className:"info"},ht.default.createElement("div",{className:"title"},"Contributing to Exercises"));case"building":return ht.default.createElement("div",{className:"info"},ht.default.createElement("div",{className:"title"},"Building Exercism"));case"maintaining":return ht.default.createElement("div",{className:"info"},ht.default.createElement("div",{className:"title"},"Maintaining"));case"mentoring":return ht.default.createElement("div",{className:"info"},ht.default.createElement("div",{className:"title"},"Mentoring"));case"publishing":return ht.default.createElement("div",{className:"info"},ht.default.createElement("div",{className:"title"},"Publishing"));case"other":return ht.default.createElement("div",{className:"info"},ht.default.createElement("div",{className:"title"},"Other"));case void 0:return ht.default.createElement("div",{className:"info"},ht.default.createElement("div",{className:"title"},"Any category"))}},tg=()=>ht.default.createElement(ht.default.Fragment,null,"Category"),Cd=({value:e,setValue:t})=>ht.default.createElement(Ye,{options:[void 0,"building","authoring","maintaining","mentoring","publishing","other"],value:e,setValue:t,SelectedComponent:tg,OptionComponent:eg});var rg=new Error("Unable to load contributions list"),wd=({request:e,isEnabled:t})=>{let{request:r,setPage:n,setCriteria:o,setQuery:i}=rt(e),[s,a]=(0,gt.useState)(r.query?.criteria||""),u=["contributions-list",r.endpoint,Je(r.query)],{status:l,resolvedData:m,latestData:d,isFetching:c,error:g}=z(u,S(h({},r),{query:Je(r.query),options:S(h({},r.options),{enabled:t})})),v=(0,gt.useCallback)(b=>{i(S(h({},r.query),{category:b,page:void 0}))},[JSON.stringify(r.query),i]);return(0,gt.useEffect)(()=>{let b=setTimeout(()=>{o(s)},200);return()=>{clearTimeout(b)}},[o,s]),wt({pushOn:Je(r.query)}),gt.default.createElement("article",{className:"reputation-tab theme-dark"},gt.default.createElement("div",{className:"md-container container"},gt.default.createElement("div",{className:"c-search-bar"},gt.default.createElement("input",{className:"--search",onChange:b=>{a(b.target.value)},value:s,placeholder:"Search by contribution name"}),gt.default.createElement(Cd,{value:r.query.category,setValue:v})),gt.default.createElement(ae,{isFetching:c},gt.default.createElement(j,{status:l,error:g,defaultError:rg},m?gt.default.createElement(gt.default.Fragment,null,gt.default.createElement(Td,{data:m,cacheKey:u}),gt.default.createElement(dt,{disabled:d===void 0,current:r.query.page,total:m.meta.totalPages,setPage:n})):null))))};var Ee=p(f());var Y=p(f());var Ka=p(ct()),Md=({privateUrl:e,status:t,publishedIterationHeadTestsStatus:r,numViews:n,numStars:o,numComments:i,numIterations:s,numLoc:a,lastIteratedAt:u,exercise:l,track:m,isOutOfDate:d})=>Y.default.createElement("a",{href:e,className:"solution"},Y.default.createElement("div",{className:"main"},Y.default.createElement("div",{className:"exercise"},Y.default.createElement(Ct,{iconUrl:l.iconUrl}),Y.default.createElement("div",{className:"info"},Y.default.createElement("div",{className:"flex items-center mb-8"},Y.default.createElement("div",{className:"exercise-title"},l.title),d?Y.default.createElement(an,{content:"There is a newer version of this exercise. Visit the exercise page to upgrade to the latest version."},Y.default.createElement("div",null,Y.default.createElement(C,{icon:"warning",alt:"There is a newer version of this exercise. Visit the exercise page to upgrade.",className:"--out-of-date"}))):null,r==="passed"?Y.default.createElement(C,{icon:"golden-check",alt:"Passes tests of the latest version of the exercise",className:"head-tests-status --passed"}):r==="failed"||r==="errored"?Y.default.createElement(an,{content:"This solution fails the tests of the latest version of this exercise. Try updating the exercise and checking it locally or in the online editor."},Y.default.createElement("div",null,Y.default.createElement(C,{icon:"cross-circle",alt:"Failed tests of the latest version of the exercise",className:"head-tests-status --failed"}))):null),Y.default.createElement("div",{className:"extra"},Y.default.createElement("div",{className:"track"},"in",Y.default.createElement(ee,{iconUrl:m.iconUrl,title:m.title}),Y.default.createElement("div",{className:"track-title"},m.title)),t==="completed"?Y.default.createElement("div",{className:"status"},Y.default.createElement(y,{icon:"completed-check-circle"}),"Completed"):t==="published"?Y.default.createElement("div",{className:"status"},Y.default.createElement(y,{icon:"completed-check-circle"}),"Published"):Y.default.createElement(Y.default.Fragment,null)))),Y.default.createElement("div",{className:"stats"},Y.default.createElement("div",{className:"stat"},Y.default.createElement(y,{icon:"iteration"}),s," ",(0,Ka.default)("iteration",s)),a?Y.default.createElement("div",{className:"stat"},Y.default.createElement(y,{icon:"loc"}),a," lines"):null,n?Y.default.createElement("div",{className:"stat"},Y.default.createElement(y,{icon:"views"}),n," ",(0,Ka.default)("view",n)):null),u?Y.default.createElement("time",{className:"iterated-at",dateTime:u},"Last submitted ",Le(u)):null),Y.default.createElement("div",{className:"counts"},Y.default.createElement("div",{className:"count"},Y.default.createElement(y,{icon:"star"}),Y.default.createElement("div",{className:"num"},o)),Y.default.createElement("div",{className:"count"},Y.default.createElement(y,{icon:"comment"}),Y.default.createElement("div",{className:"num"},i))));var $o=p(f());var Pd=({option:e})=>{switch(e){case"oldest_first":return $o.default.createElement($o.default.Fragment,null,"Oldest First");case"newest_first":return $o.default.createElement($o.default.Fragment,null,"Newest First")}},Ad=({value:e,setValue:t})=>$o.default.createElement(Ye,{options:["newest_first","oldest_first"],value:e,setValue:t,SelectedComponent:Pd,OptionComponent:Pd});var Hd=p(ct());var ie=p(f());var Jt=p(f());var Fd=({option:e})=>{switch(e){case"started":return Jt.default.createElement(Jt.default.Fragment,null,"Started");case"iterated":return Jt.default.createElement(Jt.default.Fragment,null,"Iterated");case"completed":return Jt.default.createElement(Jt.default.Fragment,null,"Completed");case"published":return Jt.default.createElement(Jt.default.Fragment,null,"Published");case void 0:return Jt.default.createElement(Jt.default.Fragment,null,"All")}},ng=({option:e})=>{switch(e){case void 0:return Jt.default.createElement(Jt.default.Fragment,null,"Exercise status");default:return Jt.default.createElement(Fd,{option:e})}},Id=({value:e,setValue:t})=>Jt.default.createElement(Ye,{options:[void 0,"started","iterated","completed","published"],value:e,setValue:t,SelectedComponent:ng,OptionComponent:Fd});var Xt=p(f());var Ld=({option:e})=>{switch(e){case"passed":return Xt.default.createElement(Xt.default.Fragment,null,"Passed");case"failed":return Xt.default.createElement(Xt.default.Fragment,null,"Failed");case"errored":return Xt.default.createElement(Xt.default.Fragment,null,"Errored");case"exceptioned":return Xt.default.createElement(Xt.default.Fragment,null,"Exceptioned");case void 0:return Xt.default.createElement(Xt.default.Fragment,null,"All")}},og=({option:e})=>{switch(e){case void 0:return Xt.default.createElement(Xt.default.Fragment,null,"Latest Tests status");default:return Xt.default.createElement(Ld,{option:e})}},Dd=({value:e,setValue:t})=>Xt.default.createElement(Ye,{options:[void 0,"passed","failed","errored","exceptioned"],value:e,setValue:t,SelectedComponent:og,OptionComponent:Ld});var Ht=p(f());var Od=({option:e})=>{switch(e){case"none":return Ht.default.createElement(Ht.default.Fragment,null,"No mentoring");case"requested":return Ht.default.createElement(Ht.default.Fragment,null,"Mentoring Requested");case"in_progress":return Ht.default.createElement(Ht.default.Fragment,null,"Mentoring in progress");case"finished":return Ht.default.createElement(Ht.default.Fragment,null,"Mentoring Completed");case void 0:return Ht.default.createElement(Ht.default.Fragment,null,"Any")}},ig=({option:e})=>{switch(e){case void 0:return Ht.default.createElement(Ht.default.Fragment,null,"Mentoring status");default:return Ht.default.createElement(Od,{option:e})}},qd=({value:e,setValue:t})=>Ht.default.createElement(Ye,{options:[void 0,"none","requested","in_progress","finished"],value:e,setValue:t,SelectedComponent:ig,OptionComponent:Od});var Br=p(f());var _d=({option:e})=>{switch(e){case"up_to_date":return Br.default.createElement(Br.default.Fragment,null,"Up-to-date");case"out_of_date":return Br.default.createElement(Br.default.Fragment,null,"Out-of-date");case void 0:return Br.default.createElement(Br.default.Fragment,null,"All")}},sg=({option:e})=>{switch(e){case void 0:return Br.default.createElement(Br.default.Fragment,null,"Sync status");default:return Br.default.createElement(_d,{option:e})}},Bd=({value:e,setValue:t})=>Br.default.createElement(Ye,{options:[void 0,"up_to_date","out_of_date"],value:e,setValue:t,SelectedComponent:sg,OptionComponent:_d});var Gt=p(f());var Ud=({option:e})=>{switch(e){case"passed":return Gt.default.createElement(Gt.default.Fragment,null,"Passed");case"failed":return Gt.default.createElement(Gt.default.Fragment,null,"Failed");case"errored":return Gt.default.createElement(Gt.default.Fragment,null,"Errored");case"exceptioned":return Gt.default.createElement(Gt.default.Fragment,null,"Exceptioned");case void 0:return Gt.default.createElement(Gt.default.Fragment,null,"All")}},ag=({option:e})=>{switch(e){case void 0:return Gt.default.createElement(Gt.default.Fragment,null,"Tests status");default:return Gt.default.createElement(Ud,{option:e})}},Jd=({value:e,setValue:t})=>Gt.default.createElement(Ye,{options:[void 0,"passed","failed","errored","exceptioned"],value:e,setValue:t,SelectedComponent:ag,OptionComponent:Ud});var Xd=({request:e,onApply:t})=>{let[r,n]=(0,ie.useState)(e.query.status),[o,i]=(0,ie.useState)(e.query.mentoringStatus),[s,a]=(0,ie.useState)(e.query.syncStatus),[u,l]=(0,ie.useState)(e.query.testsStatus),[m,d]=(0,ie.useState)(e.query.headTestsStatus),[c,g]=(0,ie.useState)(!1),[v,b]=(0,ie.useState)(!1),k=(0,ie.useRef)(null),T=(0,ie.useRef)(null);(0,ie.useEffect)(()=>{if(c){if(!k.current)return;k.current.focus(),b(!0)}else if(v){if(!T.current)return;T.current.focus()}},[c,v]),(0,ie.useEffect)(()=>{if(!c)return;let _=B=>{B.key==="Escape"&&(B.stopPropagation(),g(!1))};return document.addEventListener("keyup",_),()=>{document.removeEventListener("keyup",_)}},[c]);let x=(0,ie.useCallback)(_=>{_.preventDefault(),t(r,o,s,u,m),g(!1)},[g,r,o,s,u,m]),E=(0,ie.useCallback)(_=>{_.preventDefault(),g(!1)},[g]);return ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("button",{ref:T,onClick:()=>g(!c),className:"--filter-btn","aria-haspopup":"true","aria-expanded":c},ie.default.createElement("span",{className:"hidden sm:block sm:mr-12"},"Filter by"),ie.default.createElement(y,{icon:"chevron-down"})),ie.default.createElement("div",h({className:"filter-options",ref:k,tabIndex:-1,role:"dialog","aria-label":"A series of options to filter Exercism tracks"},c?{}:{hidden:!0}),ie.default.createElement("div",{className:"md-container container"},ie.default.createElement("div",{className:"options"},ie.default.createElement(Id,{value:r,setValue:n}),ie.default.createElement(qd,{value:o,setValue:i}),ie.default.createElement(Bd,{value:s,setValue:a}),ie.default.createElement(Jd,{value:u,setValue:l}),ie.default.createElement(Dd,{value:m,setValue:d})),ie.default.createElement("footer",{className:"buttons"},ie.default.createElement("button",{className:"btn-primary btn-m",onClick:x},"Apply filters"),ie.default.createElement("button",{className:"btn-default btn-m",onClick:E},"Close")))))};var ug="newest_first",lg=new Error("Unable to load solutions"),Gd=({request:e,isEnabled:t})=>{let{request:r,setPage:n,setCriteria:o,setQuery:i,setOrder:s}=rt(e),[a,u]=(0,Ee.useState)(r.query?.criteria||""),l=["contributions-list",r.endpoint,Je(r.query)],{status:m,resolvedData:d,latestData:c,isFetching:g,error:v}=z(l,S(h({},r),{query:Je(r.query),options:S(h({},r.options),{enabled:t})}));(0,Ee.useEffect)(()=>{let T=setTimeout(()=>{o(a)},200);return()=>{clearTimeout(T)}},[o,a]),wt({pushOn:Je(r.query)});let b=(0,Ee.useCallback)((T,x,E,_,B)=>{i(S(h({},r.query),{page:void 0,status:T,mentoringStatus:x,syncStatus:E,testsStatus:_,headTestsStatus:B}))},[r.query,i]),k=(0,Ee.useCallback)(()=>{i(S(h({},r.query),{page:void 0,status:void 0,mentoringStatus:void 0,syncStatus:void 0,testsStatus:void 0,headTestsStatus:void 0}))},[r.query,i]);return Ee.default.createElement("article",{className:"solutions-tab theme-dark"},Ee.default.createElement("div",{className:"c-search-bar"},Ee.default.createElement("div",{className:"md-container container"},Ee.default.createElement("input",{className:"--search",onChange:T=>{u(T.target.value)},value:a,placeholder:"Search by exercise or track name"}),Ee.default.createElement(Xd,{request:r,onApply:b}),Ee.default.createElement(Ad,{value:r.query.order||ug,setValue:s}))),Ee.default.createElement("div",{className:"md-container container"},Ee.default.createElement(ae,{isFetching:g},Ee.default.createElement(j,{status:m,error:v,defaultError:lg},d?Ee.default.createElement(Ee.default.Fragment,null,Ee.default.createElement("div",null,Ee.default.createElement("div",{className:"results-title-bar"},Ee.default.createElement("h3",null,"Showing ",d.meta.totalCount," ",(0,Hd.default)("solution",d.meta.totalCount)),Ee.default.createElement("button",{type:"button",onClick:k,className:"btn-link"},Ee.default.createElement(y,{icon:"reset"}),Ee.default.createElement("span",null,"Reset filters"))),Ee.default.createElement("div",{className:"solutions"},d.results.map(T=>Ee.default.createElement(Md,S(h({},T),{key:T.uuid}))))),Ee.default.createElement(dt,{disabled:c===void 0,current:r.query.page,total:d.meta.totalPages,setPage:n})):null))))};var qt=p(f());var ao=p(f());var Ur=p(f());var jt=p(f());var $a=p(ct()),Xs=n=>{var o=n,{badge:e,wasUnrevealed:t}=o,r=L(o,["badge","wasUnrevealed"]);let i=["m-badge",`--${e.rarity}`,"theme-dark"];return jt.default.createElement(G,S(h({},r),{closeButton:!0,className:i.join(" "),cover:!0}),jt.default.createElement(No,{badge:e}),t?jt.default.createElement("h2",null,"New Badge Earned"):null,jt.default.createElement("div",{className:"name"},e.name),jt.default.createElement("div",{className:"rarity"},e.rarity),jt.default.createElement("hr",{className:"c-divider --small"}),jt.default.createElement("div",{className:"reason"},e.description),jt.default.createElement("div",{className:"earned-at"},"Earned on"," ",jt.default.createElement("time",{dateTime:e.unlockedAt},vo(e.unlockedAt,"Do MMM YYYY"))),jt.default.createElement("div",{className:"num-awardees text-p-base"},jt.default.createElement(y,{icon:"students"}),jt.default.createElement("strong",null,e.numAwardees)," ",(0,$a.default)("member",e.numAwardees)," ",(0,$a.default)("has",e.numAwardees)," earned this badge."),jt.default.createElement("div",{className:"percentage-awardees"},"That's ",jt.default.createElement("strong",null,e.percentageAwardees,"%")," of all Exercism users"))};var jd=({badge:e})=>{let[t,r]=(0,Ur.useState)(!1);return Ur.default.createElement(Ur.default.Fragment,null,Ur.default.createElement("button",{className:"c-badge",onClick:()=>r(!t)},Ur.default.createElement(No,{badge:e}),Ur.default.createElement("div",{className:"--info"},Ur.default.createElement("div",{className:"--name"},e.name),Ur.default.createElement("div",{className:"--desc"},e.description))),Ur.default.createElement(Xs,{badge:e,open:t,onClose:()=>{r(!1)}}))};var Et=p(f());var mg=new Error("Unable to reveal badge"),Wd=({badge:e,cacheKey:t})=>{let r=Qe(),[n,o]=(0,Et.useState)(!1),[i,s]=(0,Et.useState)(null),[a,{status:u,error:l}]=A(()=>{let{fetch:d}=P({endpoint:e.links.reveal,method:"PATCH",body:null});return d.then(c=>re(c,"badge"))},{onSuccess:d=>{s(d),o(!0)}}),m=(0,Et.useCallback)(()=>{let d=r.getQueryData(t);!d||!i||r.setQueryData(t,S(h({},d),{results:d.results.map(c=>c.uuid===i.uuid?i:c)}))},[t,i,r]);return Et.default.createElement(Et.default.Fragment,null,Et.default.createElement(w,{status:u,className:"c-badge",onClick:()=>a()},Et.default.createElement("div",{className:`c-badge-medallion --${e.rarity} --unrevealed`},Et.default.createElement("div",{className:"--unknown"},"?")),Et.default.createElement("div",{className:"--info"},Et.default.createElement("div",{className:"--name"},"Unrevealed"),Et.default.createElement("div",{className:"--desc"},"Click/tap to reveal"))),Et.default.createElement(q,{resetKeys:[u]},Et.default.createElement(de,{error:l,defaultError:mg})),i?Et.default.createElement(Xs,{badge:i,open:n,onClose:()=>{o(!1),m()},wasUnrevealed:!0}):null)};var Qd=p(ct()),Yd=({data:e,cacheKey:t})=>ao.default.createElement("div",null,ao.default.createElement("div",{className:"results-title-bar"},ao.default.createElement("h3",null,"Showing ",e.meta.totalCount," ",(0,Qd.default)("badge",e.meta.totalCount))),ao.default.createElement("div",{className:"badges"},e.results.map(r=>r.isRevealed?ao.default.createElement(jd,{badge:r,key:r.uuid}):ao.default.createElement(Wd,{badge:r,cacheKey:t,key:r.uuid}))));var _n=p(f());var Vd=({option:e})=>{switch(e){case"unrevealed_first":return _n.default.createElement(_n.default.Fragment,null,"Sort by Unrevealed First");case"newest_first":return _n.default.createElement(_n.default.Fragment,null,"Sort by Newest First");case"oldest_first":return _n.default.createElement(_n.default.Fragment,null,"Sort by Oldest First")}},zd=({value:e,setValue:t})=>_n.default.createElement(Ye,{options:["unrevealed_first","newest_first","oldest_first"],value:e,setValue:t,SelectedComponent:Vd,OptionComponent:Vd});var cg="unrevealed_first",dg=new Error("Unable to load badge list"),Kd=({request:e,isEnabled:t})=>{let{request:r,setPage:n,setCriteria:o,setOrder:i}=rt(e),[s,a]=(0,qt.useState)(r.query?.criteria||""),u=["badges-list",r.endpoint,Je(r.query)],{status:l,resolvedData:m,latestData:d,isFetching:c,error:g}=z(u,S(h({},r),{query:Je(r.query),options:S(h({},r.options),{enabled:t})}));return(0,qt.useEffect)(()=>{let v=setTimeout(()=>{o(s)},200);return()=>{clearTimeout(v)}},[o,s]),wt({pushOn:Je(r.query)}),qt.default.createElement("article",{className:"badges-tab theme-dark"},qt.default.createElement("div",{className:"md-container container"},qt.default.createElement("div",{className:"c-search-bar"},qt.default.createElement("input",{className:"--search",onChange:v=>{a(v.target.value)},value:s,placeholder:"Search by badge name or description"}),qt.default.createElement(zd,{value:r.query.order||cg,setValue:i})),qt.default.createElement(ae,{isFetching:c},qt.default.createElement(j,{status:l,error:g,defaultError:dg},m?qt.default.createElement(qt.default.Fragment,null,qt.default.createElement(Yd,{data:m,cacheKey:u}),qt.default.createElement(dt,{disabled:d===void 0,current:r.query.page,total:m.meta.totalPages,setPage:n})):null))))};var ur=p(f());var Nt=p(f());var Hs=p(f());var $d=p(f()),Zo=({slug:e,children:t})=>{let r=["track",`t-b-${e}`];return $d.default.createElement("span",{className:r.join(" ")},t)};var ut=p(f()),Ro=({tracks:e,SpanComponent:t})=>{switch(e.length){case 4:return ut.default.createElement(ut.default.Fragment,null,ut.default.createElement(t,{track:e[0]}),", "," followed by ",ut.default.createElement(t,{track:e[1]}),", ",ut.default.createElement(t,{track:e[2]})," and ",ut.default.createElement(t,{track:e[3]}),".");case 3:return ut.default.createElement(ut.default.Fragment,null,ut.default.createElement(t,{track:e[0]}),", "," followed by ",ut.default.createElement(t,{track:e[1]})," and ",ut.default.createElement(t,{track:e[2]}),".");case 2:return ut.default.createElement(ut.default.Fragment,null,ut.default.createElement(t,{track:e[0]})," followed by"," ",ut.default.createElement(t,{track:e[1]}),".");case 1:return ut.default.createElement(ut.default.Fragment,null,ut.default.createElement(t,{track:e[0]}),".");default:return null}};var pg=4,Zd=({tracks:e})=>{let t=e.sort().items.slice(0,pg);return Hs.default.createElement("p",null,"You've progressed the furthest in"," ",Hs.default.createElement(Ro,{tracks:t,SpanComponent:fg}))},fg=({track:e})=>Hs.default.createElement(Zo,{slug:e.slug},e.title," (",e.completion.toFixed(2),"%)");var Gs=p(f()),Rd=p(ct()),ep=({tracks:e})=>Gs.default.createElement("div",{className:"box"},Gs.default.createElement("div",{className:"journey-h3"},e.length),Gs.default.createElement("div",{className:"journey-label"},(0,Rd.default)("Track",e.length)," enrolled"));var js=p(f()),tp=p(ct()),rp=({tracks:e})=>js.default.createElement("div",{className:"box"},js.default.createElement("div",{className:"journey-h3"},e.numCompletedExercises),js.default.createElement("div",{className:"journey-label"},(0,tp.default)("Exercise",e.numCompletedExercises)," completed"));var Ws=p(f()),np=p(ct()),op=({tracks:e})=>Ws.default.createElement("div",{className:"box"},Ws.default.createElement("div",{className:"journey-h3"},e.numConceptsLearnt),Ws.default.createElement("div",{className:"journey-label"},(0,np.default)("Concept",e.numConceptsLearnt)," learnt"));var ip=p(ct()),Bn=p(f()),sp=({tracks:e})=>Bn.default.createElement("div",{className:"overview"},Bn.default.createElement("h3",null,"You're"," ",Bn.default.createElement("em",{className:"text-gradient"},e.completion.toFixed(2),"%")," ","through your enrolled ",(0,ip.default)("Track",e.length),"."," ",e.completion>1?Bn.default.createElement("strong",null,"Keep it up! \u{1F680}"):null),Bn.default.createElement("div",{className:"c-progress --large"},Bn.default.createElement("div",{className:"bar",style:{width:`${e.completion}%`}})),Bn.default.createElement("div",{className:"count"},e.numCompletedExercises," / ",e.numExercises," exercises completed"));var he=p(f());var Un=p(f());var Ai=p(f());var ap=({completion:e})=>{let t=e===100,r=["c-progress","--small",t?"--completed":""].filter(n=>n.length>0);return Ai.default.createElement("div",{className:r.join(" ")},Ai.default.createElement("div",{className:"bar",style:{width:`${e}%`}}),t?Ai.default.createElement("div",{className:"completed-icon"},Ai.default.createElement(C,{icon:"completed-check-circle",alt:"Completed",className:"completed"})):null)};var up=({track:e})=>Un.default.createElement("div",{className:"--summary-inner"},Un.default.createElement(ee,{iconUrl:e.iconUrl,title:e.title}),Un.default.createElement("h3",null,e.title),Un.default.createElement(ap,{completion:e.completion}),Un.default.createElement("div",{className:"percentage"},e.completion.toFixed(2),"%"),Un.default.createElement(y,{icon:"chevron-right",className:"--closed-icon"}),Un.default.createElement(y,{icon:"chevron-down",className:"--open-icon"}));var Qs=p(ct()),lp=({track:e,expanded:t,avgVelocity:r})=>he.default.createElement("details",{className:"c-details track",open:t},he.default.createElement("summary",{className:"--summary"},he.default.createElement(up,{track:e})),he.default.createElement("div",{className:"track-details"},he.default.createElement("div",{className:"time-area"},he.default.createElement(Hu,{data:e.progressChart.data,height:120,width:300}),he.default.createElement("div",{className:"info"},he.default.createElement("h4",null,e.progressChart.period),he.default.createElement("p",null,e.numCompletedExercises," / ",e.numExercises," (",e.completion.toFixed(2),"%) exercises completed"))),he.default.createElement("div",{className:"date-area"},he.default.createElement(y,{icon:"entry"}),he.default.createElement("h4",{className:"journey-h3"},vo(e.startedAt,"DD MMM YYYY")),he.default.createElement("h5",{className:"text-h6"},"When you joined the ",e.title," Track"),he.default.createElement("p",null,"You started working through the ",e.title," Track"," ",he.default.createElement("strong",null,Le(e.startedAt)),".")),he.default.createElement("div",{className:"mentor-history-area"},he.default.createElement(y,{icon:"mentoring"}),he.default.createElement("h4",{className:"journey-h3"},e.numCompletedMentoringDiscussions),he.default.createElement("h5",{className:"text-h6"},"Mentoring"," ",(0,Qs.default)("session",e.numCompletedMentoringDiscussions)," ","completed"),he.default.createElement("p",null,"You have"," ",he.default.createElement("strong",null,e.numInProgressMentoringDiscussions===0?"none":`${e.numInProgressMentoringDiscussions} ${(0,Qs.default)("discussion",e.numInProgressMentoringDiscussions)}`)," ","in progress and"," ",he.default.createElement("strong",null,e.numInProgressMentoringDiscussions===0?"none":`${e.numQueuedMentoringRequests} ${(0,Qs.default)("solution",e.numQueuedMentoringRequests)}`)," ","in the queue.")),e.velocity?he.default.createElement("div",{className:"velocity-area"},he.default.createElement(y,{icon:"velocity"}),he.default.createElement("div",{className:"journey-h3"},e.velocity),he.default.createElement("h4",null,"Progression Velocity"),r?he.default.createElement("div",{className:"note"},"Avg. on Exercism = ",r):null,he.default.createElement("div",{className:"info"},"This is a measure of how quickly you\u2019ve progressed through the track in the last 6 months")):null));var Za=({tracks:e,links:t})=>e.length===0?Nt.default.createElement("section",{className:"empty-section"},Nt.default.createElement(y,{icon:"exercises",hex:!0}),Nt.default.createElement("h3",{className:"journey-h3 mb-24"},"You haven't joined any tracks yet"),Nt.default.createElement("a",{href:"/tracks",className:"btn-l btn-primary"},"Choose a track to get started.")):Nt.default.createElement("section",{className:"learning-section"},Nt.default.createElement("header",{className:"section-header"},Nt.default.createElement(y,{icon:"exercises",hex:!0}),Nt.default.createElement("h2",{className:"journey-h2"},"Your learning"),Nt.default.createElement(Zd,{tracks:e})),Nt.default.createElement("div",{className:"summary-boxes"},Nt.default.createElement(ep,{tracks:e}),Nt.default.createElement(rp,{tracks:e}),Nt.default.createElement(op,{tracks:e})),Nt.default.createElement(sp,{tracks:e}),Nt.default.createElement("div",{className:"tracks"},e.sort().items.map((r,n)=>Nt.default.createElement(lp,{key:r.slug,track:r,avgVelocity:null,expanded:n==0}))));var lt=p(f());var Ys=p(f());var mp=class{get percentage(){return 100*this.track.numDiscussions/this.numTotalSessions}get slug(){return this.track.slug}get title(){return this.track.title}constructor(t,r){this.track=t,this.numTotalSessions=r}},hg=4,cp=({tracks:e})=>{let t=e.sort().items.slice(0,hg).map(r=>new mp(r,e.totals.discussions));return Ys.default.createElement("p",null,"You've mostly mentored in"," ",Ys.default.createElement(Ro,{tracks:t,SpanComponent:gg}))},gg=({track:e})=>Ys.default.createElement(Zo,{slug:e.slug},e.title," (",e.percentage.toFixed(2),"%)");var kn=p(f());var vg={type:"doughnut",data:{labels:[],datasets:[]},options:{cutout:150,plugins:{legend:{display:!1}}}},dp=({tracks:e})=>{let[t,r]=(0,kn.useState)(null),[n,o]=(0,kn.useState)(null);return(0,kn.useEffect)(()=>{if(!t)return;let i=new Ku(t,vg);return o(i),()=>i.destroy()},[t]),(0,kn.useEffect)(()=>{if(!n)return;let i={label:"Sessions mentored per track",data:e.items.map(s=>s.numDiscussions),backgroundColor:e.items.map(s=>`rgb(${getComputedStyle(document.documentElement).getPropertyValue(`--track-color-${s.slug}`)})`),borderWidth:0,hoverOffset:4};n.data.labels=e.items.map(s=>s.title),n.data.datasets=[i],n.update()},[n,e.items]),kn.default.createElement("div",{className:"chart"},kn.default.createElement("canvas",{id:"mentoring-chart",width:"350",height:"350",ref:r}))};var Fi=p(f());var pp=p(f()),Vs=({rank:e})=>{let t=["c-community-rank-tag",`--top-${e}`];return pp.default.createElement("div",{className:t.join(" ")},"Top ",e,"%")};var fp=({tracks:e,rank:t})=>Fi.default.createElement("div",{className:"box"},Fi.default.createElement("div",{className:"journey-h3"},e.totals.discussions),Fi.default.createElement("div",{className:"journey-label"},"Total sessions mentored"),t?Fi.default.createElement(Vs,{rank:t}):null);var Ii=p(f());var hp=({tracks:e,rank:t})=>Ii.default.createElement("div",{className:"box"},Ii.default.createElement("div",{className:"journey-h3"},e.totals.students),Ii.default.createElement("div",{className:"journey-label"},"Total students mentored"),t?Ii.default.createElement(Vs,{rank:t}):null);var zs=p(f()),gp=({tracks:e})=>zs.default.createElement("div",{className:"box"},zs.default.createElement("div",{className:"journey-h3"},e.sessionRatio.toFixed(2)),zs.default.createElement("div",{className:"journey-label"},"Sessions per student"));var uo=p(f());var vp=p(ct()),yp=({track:e})=>uo.default.createElement("div",{className:"track"},uo.default.createElement("div",{className:"dot t-b-csharp"}),uo.default.createElement(ee,{iconUrl:e.iconUrl,title:e.title}),uo.default.createElement("div",{className:"details"},uo.default.createElement("div",{className:"journey-label"},e.title),uo.default.createElement("div",{className:"journey-h4"},e.numDiscussions," ",(0,vp.default)("session",e.numDiscussions))));var bp=({tracks:e,ranks:t})=>e.length===0?lt.default.createElement("section",{className:"empty-section"},lt.default.createElement(y,{icon:"mentoring",hex:!0}),lt.default.createElement("h3",{className:"journey-h3 mb-24"},"You haven't mentored anyone yet"),lt.default.createElement("a",{href:"/mentoring",className:"btn-l btn-primary"},"Try mentoring")):lt.default.createElement("section",{className:"mentoring-section"},lt.default.createElement("header",{className:"section-header"},lt.default.createElement(y,{icon:"mentoring",hex:!0}),lt.default.createElement("h2",{className:"journey-h2"},"Your mentoring"),lt.default.createElement(cp,{tracks:e})),lt.default.createElement("div",{className:"content"},lt.default.createElement("div",{className:"info"},lt.default.createElement("div",{className:"summary-boxes"},lt.default.createElement(fp,{tracks:e,rank:t.discussions}),lt.default.createElement(hp,{tracks:e,rank:t.students}),lt.default.createElement(gp,{tracks:e})),lt.default.createElement("div",{className:"track-metrics"},e.sort().items.map(r=>lt.default.createElement(yp,{key:r.slug,track:r})))),lt.default.createElement(dp,{tracks:e})));var ar=p(f());var Ks=p(f());var yg=4,Sp=class{get percentage(){return 100*this.track.totalReputation/this.totalReputation}get slug(){return this.track.slug}get title(){return this.track.title}constructor(t,r){this.track=t,this.totalReputation=r}},kp=({tracks:e})=>{let t=e.find(n=>n.slug===null);if(!t)throw new Error("Incomplete track data");let r=e.filter(n=>n!==t).sort((n,o)=>n.totalReputation<o.totalReputation?1:-1).slice(0,yg).map(n=>new Sp(n,t.totalReputation));return Ks.default.createElement("p",null,"You've contributed most to"," ",Ks.default.createElement(Ro,{tracks:r,SpanComponent:bg}))},bg=({track:e})=>{if(!e.slug)throw new Error("No summary for track");return Ks.default.createElement(Zo,{slug:e.slug},e.title," (",e.percentage.toFixed(2),"%)")};var xp=({tracks:e,handle:t,links:r})=>{let n=e.find(o=>o.slug===null);if(!n)throw new Error("No data found for all track");return n.totalReputation===0?ar.default.createElement("section",{className:"empty-section"},ar.default.createElement(y,{icon:"mentoring",hex:!0}),ar.default.createElement("h3",{className:"journey-h3 mb-24"},"You haven't contributed to Exercism yet"),ar.default.createElement("a",{href:"/contributing",className:"btn-l btn-primary"},"See how you can contribute")):ar.default.createElement("section",{className:"contributing-section"},ar.default.createElement("header",{className:"section-header"},ar.default.createElement(y,{icon:"contribute",hex:!0}),ar.default.createElement("h2",{className:"journey-h2"},"Your contributions"),ar.default.createElement(kp,{tracks:e}),ar.default.createElement("hr",{className:"c-divider"})),ar.default.createElement("div",{className:"content"},ar.default.createElement($u,{tracks:e,handle:t,links:r,showHeader:!1})))};var Jn=p(f());var Ep=p(ct()),Np=p(f());var Sg=["legendary","ultimate","rare","common"],Tp=({badges:e})=>{let t=Sg.map(r=>{let n=e.filter(r);return n.length>0?`${n.length} ${r} ${(0,Ep.default)("badge",n.length)}`:""}).filter(r=>r.length>0);return Np.default.createElement("p",{className:"text-p-large"},"You have ",t.length==0?"no badges":Uo(t),".")};var kg=4,Cp=({badges:e,links:t})=>{let r=e.sort().items.slice(0,kg);return Jn.default.createElement("section",{className:"badges-section"},Jn.default.createElement("div",{className:"info"},Jn.default.createElement("div",{className:"journey-h3"},"A glimpse of your badges collection"),Jn.default.createElement(Tp,{badges:e}),Jn.default.createElement(go,{link:t.badges,text:"See your entire badge collection",withBg:!0})),Jn.default.createElement("div",{className:"badges"},r.map(n=>Jn.default.createElement(No,{key:n.uuid,badge:n}))))};var wp=class{get completion(){return 100*this.numCompletedExercises/this.numExercises}get velocity(){return null}constructor({title:t,slug:r,numExercises:n,numCompletedExercises:o,numCompletedMentoringDiscussions:i,numInProgressMentoringDiscussions:s,numQueuedMentoringRequests:a,numConceptsLearnt:u,numSolutions:l,numLines:m,iconUrl:d,startedAt:c,progressChart:g}){this.title=t,this.slug=r,this.numExercises=n,this.numCompletedExercises=o,this.numCompletedMentoringDiscussions=i,this.numInProgressMentoringDiscussions=s,this.numQueuedMentoringRequests=a,this.numConceptsLearnt=u,this.numSolutions=l,this.numLines=m,this.iconUrl=d,this.startedAt=c,this.progressChart=g}},Li=class{get numConceptsLearnt(){return this.items.reduce((t,r)=>t+=r.numConceptsLearnt,0)}get completion(){return 100*this.numCompletedExercises/this.numExercises}get numCompletedExercises(){return this.items.reduce((t,r)=>t+=r.numCompletedExercises,0)}get numExercises(){return this.items.reduce((t,r)=>t+=r.numExercises,0)}get numSolutions(){return this.items.reduce((t,r)=>t+=r.numSolutions,0)}get numLines(){return this.items.reduce((t,r)=>t+=r.numLines,0)}get length(){return this.items.length}sort(){return new Li({items:[...this.items].sort((t,r)=>t.completion<r.completion?-1:1).reverse()})}constructor({items:t}){this.items=t.map(r=>new wp(r))}},Mp=class{constructor({title:t,slug:r,iconUrl:n,numDiscussions:o,numStudents:i}){this.title=t,this.slug=r,this.iconUrl=n,this.numDiscussions=o,this.numStudents=i}},Di=class{constructor({items:t,totals:r,ranks:n}){this.items=t.map(o=>new Mp(o)),this.totals=r,this.ranks=n}sort(){return new Di({totals:this.totals,ranks:this.ranks,items:[...this.items].sort((t,r)=>t.numDiscussions<r.numDiscussions?-1:1).reverse()})}get length(){return this.items.length}get sessionRatio(){return this.totals.discussions/this.totals.students}};var xg=new Error("Unable to load journey overview"),Eg=({overview:e})=>({overview:{learning:S(h({},e.learning),{tracks:new Li({items:e.learning.tracks})}),mentoring:S(h({},e.mentoring),{tracks:new Di({items:e.mentoring.tracks,totals:e.mentoring.totals,ranks:e.mentoring.ranks})}),contributing:S(h({},e.contributing),{tracks:e.contributing.tracks.map(t=>new Tu(t))}),badges:S(h({},e.badges),{badges:new Cu({items:e.badges.badges})})}}),Pp=({request:e,isEnabled:t})=>{let{status:r,resolvedData:n,isFetching:o,error:i}=z("journey-overview",S(h({},e),{options:S(h({},e.options),{enabled:t})})),s=n?Eg(n):null;return ur.default.createElement("article",{className:"overview-tab theme-dark"},ur.default.createElement(ae,{isFetching:o},ur.default.createElement(j,{status:r,error:i,defaultError:xg},s?ur.default.createElement(ur.default.Fragment,null,ur.default.createElement("div",{className:"md-container"},ur.default.createElement(Za,h({},s.overview.learning)),ur.default.createElement(bp,h({},s.overview.mentoring))),ur.default.createElement("div",{className:"lg-container"},ur.default.createElement(xp,h({},s.overview.contributing))),ur.default.createElement("div",{className:"md-container"},ur.default.createElement(Cp,h({},s.overview.badges)))):null)))};var Ra=(0,ot.createContext)({current:"",switchToTab:()=>{}}),eu=({defaultCategory:e,categories:t})=>{let r=(0,ot.useRef)(!1),[n,o]=(0,ot.useState)(()=>{let s=t.find(a=>a.id===e);if(!s)throw new Error("Category not found");return s}),i=(0,ot.useCallback)(s=>{let a=t.find(u=>u.id===s);if(!a)throw new Error("Category not found");o(a)},[t]);return(0,ot.useEffect)(()=>{if(!r.current){r.current=!0;return}history.pushState(history.state,"",n.path)},[n]),ot.default.createElement(Ra.Provider,{value:{current:n.id,switchToTab:i}},ot.default.createElement("div",{className:"tabs theme-dark"},t.map(s=>ot.default.createElement(Se,{key:s.id,context:Ra,id:s.id},ot.default.createElement(y,{icon:s.icon}),s.title))),t.map(s=>ot.default.createElement(Se.Panel,{id:s.id,context:Ra,key:s.id},s.id==="overview"?ot.default.createElement(Pp,{isEnabled:n.id==="overview",request:s.request}):null,s.id==="solutions"?ot.default.createElement(Gd,{isEnabled:n.id==="solutions",request:s.request}):null,s.id==="reputation"?ot.default.createElement(wd,{isEnabled:n.id==="reputation",request:s.request}):null,s.id==="badges"?ot.default.createElement(Kd,{isEnabled:n.id==="badges",request:s.request}):null)))};var Z=p(f());var $s=p(f());var vt=({endpoint:e,method:t,body:r,timeout:n=4e3,onSuccess:o=()=>null})=>{let[i,{status:s,error:a,reset:u}]=A(()=>{let{fetch:m}=P({endpoint:e,method:t,body:JSON.stringify(r)});return m},{onSuccess:o}),l=(0,$s.useCallback)(()=>{u(),i()},[i,u]);return(0,$s.useEffect)(()=>{if(s!=="success"&&s!=="error")return;let m=setTimeout(u,n);return()=>clearTimeout(m)},[u,s,n]),{status:s,mutation:l,error:a}};var ei=p(f());var Tg=({error:e})=>ei.default.createElement("div",{className:"status error"},ei.default.createElement(C,{icon:"failed-cross-circle",alt:"Error"}),e.message),_t=({status:e,error:t,defaultError:r,SuccessMessage:n})=>ei.default.createElement(q,{FallbackComponent:Tg,resetKeys:[e]},ei.default.createElement(Cg,{status:e,error:t,SuccessMessage:n,defaultError:r})),Cg=({status:e,SuccessMessage:t,defaultError:r,error:n})=>{switch(tt(n,{defaultError:r}),e){case"success":return ei.default.createElement(t,null);default:return null}};var wg=new Error("Unable to save profile"),tu=({defaultUser:e,defaultProfile:t,links:r})=>{let[n,o]=(0,Z.useState)(e),[i,s]=(0,Z.useState)(t),{mutation:a,status:u,error:l}=vt({endpoint:r.update,method:"PATCH",body:{user:n,profile:i}}),m=(0,Z.useCallback)(d=>{d.preventDefault(),a()},[a]);return Z.default.createElement("form",{"data-turbo":"false",onSubmit:m},Z.default.createElement("h2",null,"Profile"),Z.default.createElement("div",{className:"details"},Z.default.createElement("div",{className:"name field"},Z.default.createElement("label",{htmlFor:"user_name",className:"label"},"Name"),Z.default.createElement("input",{id:"user_name",type:"text",value:n.name||"",onChange:d=>o(S(h({},n),{name:d.target.value})),required:!0})),Z.default.createElement("div",{className:"location field"},Z.default.createElement("label",{htmlFor:"user_location",className:"label"},"Location"),Z.default.createElement("label",{className:"c-faux-input"},Z.default.createElement(y,{icon:"location"}),Z.default.createElement("input",{id:"user_location",type:"text",value:n.location||"",onChange:d=>o(S(h({},n),{location:d.target.value}))})))),Z.default.createElement("div",{className:"bio field"},Z.default.createElement("label",{htmlFor:"user_bio",className:"label"},"Bio"),Z.default.createElement("textarea",{id:"user_bio",value:n.bio||"",onChange:d=>o(S(h({},n),{bio:d.target.value}))}),Z.default.createElement("div",{className:"instructions"},"Tell the world about you \u{1F30E}. Emojis encouraged!")),i?Z.default.createElement("div",{className:"pt-20 mt-24 border-t-1 border-borderColor6"},Z.default.createElement("h2",null,"Your social accounts"),Z.default.createElement("div",{className:"field"},Z.default.createElement("label",{htmlFor:"profile_github",className:"label"},"Github (Handle)"),Z.default.createElement("input",{type:"text",id:"profile_github",placeholder:"Your GitHub handle",value:i.github||"",onChange:d=>s(S(h({},i),{github:d.target.value}))})),Z.default.createElement("div",{className:"field"},Z.default.createElement("label",{htmlFor:"profile_twitter",className:"label"},"Twitter (Handle)"),Z.default.createElement("input",{type:"text",id:"profile_twitter",placeholder:"Your Twitter handle",value:i.twitter||"",onChange:d=>s(S(h({},i),{twitter:d.target.value}))})),Z.default.createElement("div",{className:"field"},Z.default.createElement("label",{htmlFor:"profile_linkedin",className:"label"},"LinkedIn (Full URL)"),Z.default.createElement("input",{type:"text",id:"profile_linkedin",placeholder:"Your LinkedIn profile url",value:i.linkedin||"",onChange:d=>s(S(h({},i),{linkedin:d.target.value}))}))):null,Z.default.createElement("div",{className:"form-footer"},Z.default.createElement(w,{status:u,className:"btn-primary btn-m"},"Save profile data"),Z.default.createElement(_t,{status:u,defaultError:wg,error:l,SuccessMessage:Mg})))},Mg=()=>Z.default.createElement("div",{className:"status success"},Z.default.createElement(C,{icon:"completed-check-circle",alt:"Success"}),"Your profile has been saved");var ge=p(f());var Pg=new Error("Unable to update pronouns"),ru=({handle:e,defaultPronounParts:t,links:r})=>{let[n,o]=(0,ge.useState)(t||["","",""]),i=(0,ge.useCallback)((m,d)=>{let c=[...n];c[d]=m,o(c)},[n]),{mutation:s,status:a,error:u}=vt({endpoint:r.update,method:"PATCH",body:{user:{pronoun_parts:n}}}),l=(0,ge.useCallback)(m=>{m.preventDefault(),s()},[s]);return ge.default.createElement("form",{"data-turbo":"false",onSubmit:l},ge.default.createElement("h2",null,"How would you like to be addressed? (optional)"),ge.default.createElement("hr",{className:"c-divider --small"}),ge.default.createElement("div",{className:"instructions"},"We recommend listing the pronouns you'd like people to use when referring to you."," ",ge.default.createElement("strong",null,"In the example testimonial below, enter the pronouns you'd like us to show to your mentors and students.")," ","You can leave this blank, in which case we will not suggest any pronouns."," ",ge.default.createElement("a",{href:r.info,target:"_blank",rel:"noreferrer"},"Learn more about how we use pronouns.")),ge.default.createElement("div",{className:"testimonial"},ge.default.createElement("div",{className:"text"},e," was really great.",ge.default.createElement("input",{type:"text",value:n[0]||"",placeholder:"e.g. They",maxLength:100,onChange:m=>i(m.target.value,0)}),"answered all my questions. I'll recommend",ge.default.createElement("input",{type:"text",value:n[1]||"",placeholder:"e.g. them",maxLength:100,onChange:m=>i(m.target.value,1)}),"to others because",ge.default.createElement("input",{type:"text",value:n[2]||"",placeholder:"e.g. their",maxLength:100,onChange:m=>i(m.target.value,2)}),"advice was very helpful."),ge.default.createElement("div",{className:"commonly-used"},ge.default.createElement("div",{className:"info"},"Frequently used:"),ge.default.createElement("button",{type:"button",onClick:()=>o(["She","her","her"])},"she / her / her"),ge.default.createElement("button",{type:"button",onClick:()=>o(["He","him","his"])},"he / him / his"),ge.default.createElement("button",{type:"button",onClick:()=>o(["They","them","their"])},"they / them / their"),ge.default.createElement("button",{type:"button",onClick:()=>o([e,e,e])},"Use handle"),ge.default.createElement("button",{type:"button",onClick:()=>o(["","",""])},"Leave blank"))),ge.default.createElement("div",{className:"form-footer"},ge.default.createElement(w,{status:a,className:"btn-primary btn-m"},"Save pronouns"),ge.default.createElement(_t,{status:a,error:u,defaultError:Pg,SuccessMessage:Ag})))},Ag=()=>ge.default.createElement("div",{className:"status success"},ge.default.createElement(C,{icon:"completed-check-circle",alt:"Success"}),"Your pronouns have been updated");var ze=p(f());var Fg=new Error("Unable to change handle"),nu=({defaultHandle:e,links:t})=>{let[r,n]=(0,ze.useState)({handle:e,password:""}),{mutation:o,status:i,error:s}=vt({endpoint:t.update,method:"PATCH",body:{user:{handle:r.handle,sudo_password:r.password}}}),a=(0,ze.useCallback)(u=>{u.preventDefault(),o()},[o]);return ze.default.createElement("form",{"data-turbo":"false",onSubmit:a},ze.default.createElement("h2",null,"Change your handle"),ze.default.createElement("hr",{className:"c-divider --small"}),ze.default.createElement("div",{className:"field"},ze.default.createElement("label",{htmlFor:"user_handle",className:"label"},"Your handle"),ze.default.createElement("label",{className:"c-faux-input"},ze.default.createElement(y,{icon:"at-symbol"}),ze.default.createElement("input",{type:"text",id:"user_handle",value:r.handle,onChange:u=>n(S(h({},r),{handle:u.target.value})),required:!0}))),ze.default.createElement("div",{className:"field"},ze.default.createElement("label",{htmlFor:"user_sudo_password",className:"label"},"Confirm your password"),ze.default.createElement("input",{type:"password",id:"user_sudo_password",value:r.password,onChange:u=>n(S(h({},r),{password:u.target.value})),required:!0}),ze.default.createElement("p",{className:"info"},"We recommend only changing your handle in rare circumstances as public solution links will break, and it is confusing for mentors.")),ze.default.createElement("div",{className:"form-footer"},ze.default.createElement(w,{status:i,className:"btn-primary btn-m"},"Change handle"),ze.default.createElement(_t,{status:i,defaultError:Fg,error:s,SuccessMessage:Ig})))},Ig=()=>ze.default.createElement("div",{className:"status success"},ze.default.createElement(C,{icon:"completed-check-circle",alt:"Success"}),"Your handle has been changed");var Re=p(f());var Lg=new Error("Unable to change email"),ou=({defaultEmail:e,links:t})=>{let[r,n]=(0,Re.useState)({email:e,password:""}),{mutation:o,status:i,error:s}=vt({endpoint:t.update,method:"PATCH",body:{user:{email:r.email,sudo_password:r.password}}}),a=(0,Re.useCallback)(u=>{u.preventDefault(),o()},[o]);return Re.default.createElement("form",{"data-turbo":"false",onSubmit:a},Re.default.createElement("h2",null,"Change your email"),Re.default.createElement("hr",{className:"c-divider --small"}),Re.default.createElement("div",{className:"field"},Re.default.createElement("label",{htmlFor:"user_email",className:"label"},"Your email address"),Re.default.createElement("input",{type:"email",id:"user_email",value:r.email,onChange:u=>n(S(h({},r),{email:u.target.value})),required:!0})),Re.default.createElement("div",{className:"field"},Re.default.createElement("label",{htmlFor:"user_sudo_password",className:"label"},"Confirm your password"),Re.default.createElement("input",{type:"password",id:"user_sudo_password",value:r.password,onChange:u=>n(S(h({},r),{password:u.target.value})),required:!0}),Re.default.createElement("p",{className:"info"},"You can change your email using the form above. We will send you a new confirmation email for you to accept.")),Re.default.createElement("div",{className:"form-footer"},Re.default.createElement(w,{status:i,className:"btn-primary btn-m"},"Change email"),Re.default.createElement(_t,{status:i,defaultError:Lg,error:s,SuccessMessage:()=>Re.default.createElement(Dg,{email:r.email})})))},Dg=({email:e})=>Re.default.createElement("div",{className:"status success"},Re.default.createElement(C,{icon:"completed-check-circle",alt:"Success"}),"We've sent a confirmation email to ",e);var Ke=p(f());var Og=new Error("Unable to change password"),iu=({links:e})=>{let[t,r]=(0,Ke.useState)({sudoPassword:"",password:"",passwordConfirmation:""}),{mutation:n,status:o,error:i}=vt({endpoint:e.update,method:"PATCH",body:{user:{sudo_password:t.sudoPassword,password:t.password,password_confirmation:t.passwordConfirmation}},onSuccess:()=>window.location.reload()}),s=(0,Ke.useCallback)(a=>{a.preventDefault(),n()},[n]);return Ke.default.createElement("form",{"data-turbo":"false",onSubmit:s},Ke.default.createElement("h2",null,"Change your password"),Ke.default.createElement("hr",{className:"c-divider --small"}),Ke.default.createElement("div",{className:"field"},Ke.default.createElement("label",{htmlFor:"user_sudo_password",className:"label"},"Current password"),Ke.default.createElement("input",{type:"password",id:"user_sudo_password",value:t.sudoPassword,onChange:a=>r(S(h({},t),{sudoPassword:a.target.value})),required:!0})),Ke.default.createElement("div",{className:"field"},Ke.default.createElement("label",{htmlFor:"user_password",className:"label"},"New password"),Ke.default.createElement("input",{type:"password",id:"user_password",value:t.password,onChange:a=>r(S(h({},t),{password:a.target.value})),required:!0})),Ke.default.createElement("div",{className:"field"},Ke.default.createElement("label",{htmlFor:"user_password_confirmation",className:"label"},"Confirm new password"),Ke.default.createElement("input",{type:"password",id:"user_password_confirmation",value:t.passwordConfirmation,onChange:a=>r(S(h({},t),{passwordConfirmation:a.target.value})),required:!0}),Ke.default.createElement("p",{className:"info"},Ke.default.createElement("strong",null,"Warning: Changing your password will sign you out.")," ","You can then sign back in with your new password.")),Ke.default.createElement("div",{className:"form-footer"},Ke.default.createElement(w,{status:o,className:"btn-primary btn-m"},"Change password"),Ke.default.createElement(_t,{status:o,defaultError:Og,error:i,SuccessMessage:()=>null})))};var Wt=p(f());var qg=new Error("Unable to reset token"),su=({defaultToken:e,links:t})=>{let[r,n]=(0,Wt.useState)(e),{mutation:o,status:i,error:s}=vt({endpoint:t.reset,method:"PATCH",body:{token:r},onSuccess:u=>{n(u.authToken)}}),a=(0,Wt.useCallback)(u=>{u.preventDefault(),o()},[o]);return Wt.default.createElement("form",{"data-turbo":"false",onSubmit:a},Wt.default.createElement("h2",null,"API / CLI Token"),Wt.default.createElement("div",{className:"label"},"Your authentication token is:"),Wt.default.createElement(Nn,{textToCopy:r}),Wt.default.createElement(go,{link:t.info,text:"Where do I use this?"}),Wt.default.createElement("div",{className:"form-footer"},Wt.default.createElement(w,{status:i,className:"btn-warning btn-m"},"Reset token"),Wt.default.createElement(_t,{status:i,defaultError:qg,error:s,SuccessMessage:_g})))},_g=()=>Wt.default.createElement("div",{className:"status success"},Wt.default.createElement(C,{icon:"completed-check-circle",alt:"Success"}),"Your token has been reset");var yt=p(f());var Bg=new Error("Unable to change preferences"),au=({defaultPreferences:e,links:t})=>{let[r,n]=(0,yt.useState)(e),{mutation:o,status:i,error:s}=vt({endpoint:t.update,method:"PATCH",body:{user_preferences:[...r.automation].reduce((l,m)=>(l[m.key]=m.value,l),{})}}),a=(0,yt.useCallback)(l=>{l.preventDefault(),o()},[o]),u=(0,yt.useCallback)((l,m)=>d=>{n(S(h({},r),{[m]:r[m].map(c=>c.key===l.key?S(h({},l),{value:d.target.checked}):c)}))},[r]);return yt.default.createElement("form",{"data-turbo":"false",onSubmit:a},yt.default.createElement("h2",null,"Automation"),r.automation.map(l=>yt.default.createElement("label",{className:"c-checkbox-wrapper",key:l.key},yt.default.createElement("input",{type:"checkbox",checked:l.value,onChange:u(l,"automation")}),yt.default.createElement("div",{className:"row"},yt.default.createElement("div",{className:"c-checkbox"},yt.default.createElement(y,{icon:"checkmark"})),l.label))),yt.default.createElement("div",{className:"form-footer"},yt.default.createElement(w,{status:i,className:"btn-primary btn-m"},"Change preferences"),yt.default.createElement(_t,{status:i,defaultError:Bg,error:s,SuccessMessage:Ug})))},Ug=()=>yt.default.createElement("div",{className:"status success"},yt.default.createElement(C,{icon:"completed-check-circle",alt:"Success"}),"Your preferences have been updated");var Be=p(f());var Jg=new Error("Unable to change preferences"),uu=({defaultPreferences:e,links:t})=>{let[r,n]=(0,Be.useState)(e),{mutation:o,status:i,error:s}=vt({endpoint:t.update,method:"PATCH",body:{communication_preferences:[...r.mentoring,...r.product].reduce((l,m)=>(l[m.key]=m.value,l),{})}}),a=(0,Be.useCallback)(l=>{l.preventDefault(),o()},[o]),u=(0,Be.useCallback)((l,m)=>d=>{n(S(h({},r),{[m]:r[m].map(c=>c.key===l.key?S(h({},l),{value:d.target.checked}):c)}))},[r]);return Be.default.createElement("form",{"data-turbo":"false",onSubmit:a},Be.default.createElement("h2",null,"Mentoring"),r.mentoring.map(l=>Be.default.createElement("label",{className:"c-checkbox-wrapper",key:l.key},Be.default.createElement("input",{type:"checkbox",checked:l.value,onChange:u(l,"mentoring")}),Be.default.createElement("div",{className:"row"},Be.default.createElement("div",{className:"c-checkbox"},Be.default.createElement(y,{icon:"checkmark"})),l.label))),Be.default.createElement("h2",null,"Product"),r.product.map(l=>Be.default.createElement("label",{className:"c-checkbox-wrapper",key:l.key},Be.default.createElement("input",{type:"checkbox",checked:l.value,onChange:u(l,"product")}),Be.default.createElement("div",{className:"row"},Be.default.createElement("div",{className:"c-checkbox"},Be.default.createElement(y,{icon:"checkmark"})),l.label))),Be.default.createElement("div",{className:"form-footer"},Be.default.createElement(w,{status:i,className:"btn-primary btn-m"},"Change preferences"),Be.default.createElement(_t,{status:i,defaultError:Jg,error:s,SuccessMessage:Xg})))},Xg=()=>Be.default.createElement("div",{className:"status success"},Be.default.createElement(C,{icon:"completed-check-circle",alt:"Success"}),"Your preferences have been updated");var lo=p(f());var ve=p(f());var Ap=p(f()),Xn=e=>{let[t,r]=(0,Ap.useState)("");return{attempt:t,setAttempt:r,isAttemptPass:t===e}};var Hg=new Error("Unable to delete account"),Fp=n=>{var o=n,{handle:e,endpoint:t}=o,r=L(o,["handle","endpoint"]);let[i,{status:s,error:a}]=A(()=>{let{fetch:c}=P({endpoint:t,method:"DELETE",body:JSON.stringify({handle:e})});return c},{onSuccess:c=>{Ue(c.links.home)}}),u=(0,ve.useCallback)(c=>{c.preventDefault(),i()},[i]),{attempt:l,setAttempt:m,isAttemptPass:d}=Xn(e);return ve.default.createElement(G,S(h({},r),{className:"m-delete-account m-generic-destructive"}),ve.default.createElement("form",{"data-turbo":"false",onSubmit:u},ve.default.createElement("div",{className:"info"},ve.default.createElement("h2",null,"You're about to delete your Exercism account"),ve.default.createElement("p",null,ve.default.createElement("strong",null,"Please read this carefully before continuing.")),ve.default.createElement("p",null,"This is ",ve.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on your account."),ve.default.createElement("hr",null),ve.default.createElement("p",null,ve.default.createElement("strong",null,"By deleting your account, you will lose access to:")),ve.default.createElement("ul",null,ve.default.createElement("li",null,"All solutions you have submitted"),ve.default.createElement("li",null,"All mentoring you have received"),ve.default.createElement("li",null,"All mentoring you have given and any testimonials received."),ve.default.createElement("li",null,"All your personal data, which will be deleted"))),ve.default.createElement("hr",null),ve.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write your handle ",ve.default.createElement("pre",null,e)," in the box below:"),ve.default.createElement("input",{id:"confirmation",type:"text",value:l,onChange:c=>m(c.target.value),autoComplete:"off"}),ve.default.createElement("hr",null),ve.default.createElement("div",{className:"btns"},ve.default.createElement(w,{status:s,className:"btn-default btn-m",type:"button",onClick:r.onClose},"Cancel"),ve.default.createElement(w,{type:"submit",disabled:!d,status:s,className:"btn-primary btn-m"},"Delete account")),ve.default.createElement(q,{resetKeys:[s]},ve.default.createElement(de,{error:a,defaultError:Hg}))))};var lu=({handle:e,links:t,ariaHideApp:r=!0})=>{let[n,o]=(0,lo.useState)(!1);return lo.default.createElement(lo.default.Fragment,null,lo.default.createElement("button",{type:"button",className:"c-delete-account-button btn-alert btn-m",onClick:()=>o(!n)},"Delete account"),lo.default.createElement(Fp,{open:n,onClose:()=>o(!1),handle:e,endpoint:t.delete,ariaHideApp:r}))};var mo=p(f());var ye=p(f());var Gg=new Error("Unable to reset account"),Ip=n=>{var o=n,{handle:e,endpoint:t}=o,r=L(o,["handle","endpoint"]);let[i,{status:s,error:a}]=A(()=>{let{fetch:c}=P({endpoint:t,method:"PATCH",body:JSON.stringify({handle:e})});return c},{onSuccess:c=>{Ue(c.links.home)}}),u=(0,ye.useCallback)(c=>{c.preventDefault(),i()},[i]),{attempt:l,setAttempt:m,isAttemptPass:d}=Xn(e);return ye.default.createElement(G,S(h({},r),{className:"m-reset-account m-generic-destructive"}),ye.default.createElement("form",{"data-turbo":"false",onSubmit:u},ye.default.createElement("div",{className:"info"},ye.default.createElement("h2",null,"You're about to reset your Exercism account"),ye.default.createElement("p",null,ye.default.createElement("strong",null,"Please read this carefully before commiting to reset your account.")),ye.default.createElement("p",null,"This is ",ye.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on your account."),ye.default.createElement("hr",null),ye.default.createElement("p",null,ye.default.createElement("strong",null,"By resetting your account, you will lose:")),ye.default.createElement("ul",null,ye.default.createElement("li",null,"All solutions you have submitted"),ye.default.createElement("li",null,"All mentoring you have received"),ye.default.createElement("li",null,"All mentoring you have given and any testimonials received."),ye.default.createElement("li",null,"Any reputation you have earned through mentoring or publishing solutions."))),ye.default.createElement("hr",null),ye.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write your handle ",ye.default.createElement("pre",null,e)," in the box below:"),ye.default.createElement("input",{id:"confirmation",type:"text",value:l,onChange:c=>m(c.target.value),autoComplete:"off"}),ye.default.createElement("hr",null),ye.default.createElement("div",{className:"btns"},ye.default.createElement(w,{status:s,className:"btn-default btn-m",type:"button",onClick:r.onClose},"Cancel"),ye.default.createElement(w,{type:"submit",disabled:!d,status:s,className:"btn-primary btn-m"},"Reset account")),ye.default.createElement(q,{resetKeys:[s]},ye.default.createElement(de,{error:a,defaultError:Gg}))))};var mu=({handle:e,links:t,ariaHideApp:r=!0})=>{let[n,o]=(0,mo.useState)(!1);return mo.default.createElement(mo.default.Fragment,null,mo.default.createElement("button",{type:"button",className:"c-reset-account-button btn-alert btn-m",onClick:()=>o(!n)},"Reset account"),mo.default.createElement(Ip,{open:n,onClose:()=>o(!1),handle:e,endpoint:t.reset,ariaHideApp:r}))};var Er=p(f());var xr=p(f());var jg=new Error("Unable to delete profile"),Lp=n=>{var o=n,{endpoint:e,onClose:t}=o,r=L(o,["endpoint","onClose"]);let[i,{status:s,error:a}]=A(()=>{let{fetch:m}=P({endpoint:e,method:"DELETE",body:null});return m},{onSuccess:()=>Ue("")}),u=(0,xr.useCallback)(m=>{m.preventDefault(),i()},[i]),l=(0,xr.useCallback)(()=>{s!=="loading"&&t()},[t,s]);return xr.default.createElement(G,h({className:"m-generic-confirmation",onClose:l},r),xr.default.createElement("h3",null,"Delete profile?"),xr.default.createElement("p",null,"Are you sure you want to delete your profile?"),xr.default.createElement("form",{"data-turbo":"false",onSubmit:u,className:"buttons"},xr.default.createElement(w,{type:"submit",status:s,className:"btn-primary btn-s"},"Continue"),xr.default.createElement(w,{type:"button",status:s,onClick:l,className:"btn-enhanced btn-s"},"Cancel")),xr.default.createElement(q,{resetKeys:[s]},xr.default.createElement(de,{error:a,defaultError:jg})))};var cu=({links:e})=>{let[t,r]=(0,Er.useState)(!1),n=(0,Er.useCallback)(()=>{r(!0)},[]),o=(0,Er.useCallback)(()=>{r(!1)},[]);return Er.default.createElement(Er.default.Fragment,null,Er.default.createElement("h2",null,"Delete your public profile"),Er.default.createElement("p",{className:"mb-16 text-p-base"},"This will delete your public profile from the website. You can recreate your profile at any time, and the only data that will be deleted is links to your social profiles."),Er.default.createElement("button",{type:"button",className:"btn-warning btn-m",onClick:n},"Delete your profile"),Er.default.createElement(Lp,{open:t,onClose:o,endpoint:e.delete}))};var Oi=p(f());var du=({defaultUser:e,links:t})=>Oi.default.createElement("div",{className:"c-settings-photo-form"},Oi.default.createElement("h2",null,"Change your photo"),Oi.default.createElement("hr",{className:"c-divider --small"}),Oi.default.createElement(Zu,{defaultUser:e,links:t}));var Jr=p(f());var u_=new Error("Unable to change setting"),pu=({defaultValue:e,links:t})=>{let[r,n]=(0,Jr.useState)(e),{mutation:o,status:i,error:s}=vt({endpoint:t.update,method:"PATCH",body:{user:{show_on_supporters_page:r}}}),a=(0,Jr.useCallback)(u=>{n(u.target.checked),o()},[o]);return Jr.default.createElement("label",{className:"c-checkbox-wrapper ml-auto"},Jr.default.createElement("input",{type:"checkbox",checked:r,onChange:a}),Jr.default.createElement("div",{className:"row"},Jr.default.createElement("div",{className:"c-checkbox"},Jr.default.createElement(y,{icon:"checkmark"})),Jr.default.createElement("span",{className:"text-16 font-medium text-textColor2"},"Appear on supporters page?")))};var Ge=p(f());var Hn=p(f());var Dp=(0,Hn.forwardRef)((e,t)=>{let i=e,{count:r}=i,n=L(i,["count"]),o=(0,Hn.useMemo)(()=>{switch(!0){case r===0:return"--none";case(r>=1&&r<=9):return"--single-digit";case(r>=10&&r<=99):return"--double-digit";case r>=100:return"--triple-digit"}},[r]);return Hn.default.createElement("button",h({ref:t,className:`c-notification ${o}`},n),Hn.default.createElement(C,{icon:"notifications",alt:`You have ${r} notifications`}),Hn.default.createElement("div",{className:"--count"},r))});var Nr=p(f());var Qg=({imageType:e,imageUrl:t})=>{switch(e){case"avatar":return Nr.default.createElement("div",{className:"c-avatar",style:{backgroundImage:`url(${t})`}});default:return Nr.default.createElement("img",{alt:"",role:"presentation",src:t,className:"icon"})}},Yg=({isRead:e})=>Nr.default.createElement("div",{className:e?"read":"unread"}),Vg=({text:e,createdAt:t})=>Nr.default.createElement("div",{className:"content"},Nr.default.createElement("div",{className:"text",dangerouslySetInnerHTML:{__html:e}}),Nr.default.createElement("div",{className:"created-at"},Le(t))),Zs=({url:e,imageType:t,imageUrl:r,text:n,createdAt:o,isRead:i})=>Nr.default.createElement("a",{href:e,className:`notification ${i?"--read":"--unread"}`},Nr.default.createElement(Qg,{imageType:t,imageUrl:r}),Nr.default.createElement(Vg,{text:n,createdAt:o}),Nr.default.createElement(Yg,{isRead:i}),Nr.default.createElement(y,{icon:"chevron-right",className:"action-icon"}));var Op=e=>{let t=e?e.results.length+1:0;return lr(t,void 0,{placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,8]}}]})};var zg=new Error("Unable to load notifications"),Kg=({error:e})=>(tt(e,{defaultError:zg}),null),$g=({error:e})=>Ge.default.createElement("p",null,e.message),Zg=({data:e,status:t,error:r,listAttributes:n,itemAttributes:o})=>{if(e)return Ge.default.createElement("ul",h({},n),e.results.map((i,s)=>Ge.default.createElement("li",S(h({},o(s)),{key:s}),Ge.default.createElement(Zs,h({},i)))),Ge.default.createElement("li",h({},o(e.results.length)),Ge.default.createElement("a",{href:e.meta.links.all,className:"c-prominent-link"},Ge.default.createElement("span",null,"See all your notifications"),Ge.default.createElement(y,{icon:"arrow-right"}))));{let{id:i,hidden:s}=n;return Ge.default.createElement("div",{id:i,hidden:s},t==="loading"?Ge.default.createElement(Ie,null):null,Ge.default.createElement(q,{FallbackComponent:$g},Ge.default.createElement(Kg,{error:r})))}},Rg=5,ev="notifications",qp=({endpoint:e})=>{let[t,r]=(0,Ge.useState)(!1),{resolvedData:n,error:o,status:i,refetch:s}=z(ev,{endpoint:e,query:{per_page:Rg},options:{}}),{buttonAttributes:a,panelAttributes:u,listAttributes:l,itemAttributes:m,open:d}=Op(n);return(0,Ge.useEffect)(()=>{let c=Hr.subscriptions.create({channel:"NotificationsChannel"},{received:()=>{r(!0)}});return()=>c.unsubscribe()},[]),(0,Ge.useEffect)(()=>{!l.hidden||!t||(s(),r(!1))},[t,l.hidden,s]),Ge.default.createElement(Ge.default.Fragment,null,Ge.default.createElement(Dp,h({count:n?.meta?.unreadCount||0,"aria-label":"Open notifications"},a)),d?Ge.default.createElement("div",h({className:"c-notifications-dropdown"},u),Ge.default.createElement(Zg,{data:n,status:i,error:o,itemAttributes:m,listAttributes:l})):null)};var et=p(f());var co=p(f());var _p=(0,co.forwardRef)((e,t)=>{let i=e,{reputation:r,isSeen:n}=i,o=L(i,["reputation","isSeen"]);return co.default.createElement("button",h({ref:t,className:"c-primary-reputation","aria-label":`${r} reputation`},o),co.default.createElement(C,{icon:"reputation",alt:"Reputation"}),co.default.createElement("span",null,r),co.default.createElement("div",{className:"--notification "+(n?"":"unseen")}))});var po=p(f());var sn=p(f());var Bp=({internalUrl:e,externalUrl:t,iconUrl:r,text:n,createdAt:o,value:i,isSeen:s})=>{let a=e||t,u=e?sn.default.createElement(y,{icon:"chevron-right",className:"action-icon"}):sn.default.createElement(y,{icon:"external-link",className:"action-icon"});return sn.default.createElement("a",{href:a,className:"token"},sn.default.createElement("img",{alt:"",role:"presentation",src:r,className:"reason-icon",onError:_i}),sn.default.createElement("div",{className:"content"},sn.default.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:n}}),sn.default.createElement("div",{className:"earned-on"},Le(o))),sn.default.createElement(Xr,{value:`+${i}`}),sn.default.createElement("div",{className:"indicator "+(s?"seen":"unseen")}),u)};var Up=({tokens:e,listAttributes:t,cacheKey:r,itemAttributes:n,links:o})=>{let i=Qe(),[s]=A(a=>{if(a.isSeen)return Promise.resolve(a);let{fetch:u}=P({endpoint:a.links.markAsSeen,method:"PATCH",body:null});return u.then(l=>re(l,"reputation"))},{onSuccess:a=>{let u=i.getQueryData(r);!u||i.setQueryData(r,S(h({},u),{results:u.results.map(l=>l.uuid===a.uuid?a:l)}))}});return po.default.createElement("ul",h({},t),e.map((a,u)=>po.default.createElement("li",S(h({key:a.uuid},n(u)),{onMouseEnter:()=>{s(a)},onFocus:()=>{s(a)}}),po.default.createElement(Bp,h({},a)))),po.default.createElement("li",h({},n(e.length)),po.default.createElement("a",{href:o.tokens,className:"c-prominent-link"},"See how you earned all your reputation",po.default.createElement(y,{icon:"arrow-right"}))))};var fu=class{constructor(t){this.subscription=Hr.subscriptions.create({channel:"ReputationChannel"},{received:t})}disconnect(){this.subscription.unsubscribe()}};var tv=new Error("Unable to retrieve reputation tokens"),rv=({error:e})=>(tt(e,{defaultError:tv}),null),nv=({error:e})=>et.default.createElement("p",null,e.message),ov=({data:e,cacheKey:t,status:r,error:n,listAttributes:o,itemAttributes:i})=>{if(e)return et.default.createElement(Up,{tokens:e.results,links:e.meta.links,listAttributes:o,itemAttributes:i,cacheKey:t});{let{id:s,hidden:a}=o;return et.default.createElement("div",{id:s,hidden:a},r==="loading"?et.default.createElement(Ie,null):null,et.default.createElement(q,{FallbackComponent:nv},et.default.createElement(rv,{error:n})))}},iv=5,Jp=({defaultReputation:e,defaultIsSeen:t,endpoint:r})=>{let[n,o]=(0,et.useState)(!1),[i,s]=(0,et.useState)(e),[a,u]=(0,et.useState)(t),l="reputations",{resolvedData:m,error:d,status:c,refetch:g}=z(l,{endpoint:r,query:{per_page:iv},options:{}}),{buttonAttributes:v,panelAttributes:b,listAttributes:k,itemAttributes:T,open:x}=lr((m?.results.length||0)+1,void 0,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}}]});return(0,et.useEffect)(()=>{let E=new fu(()=>o(!0));return()=>E.disconnect()},[]),(0,et.useEffect)(()=>{!m||s(m.meta.totalReputation)},[m]),(0,et.useEffect)(()=>{!m||u(m.meta.unseenTotal===0)},[m]),(0,et.useEffect)(()=>{!k.hidden||!n||(g(),o(!1))},[n,k.hidden,g]),et.default.createElement(et.default.Fragment,null,et.default.createElement(_p,h({reputation:i,isSeen:a},v)),x?et.default.createElement("div",h({className:"c-reputation-dropdown"},b),et.default.createElement(ov,{data:m,cacheKey:l,status:c,error:d,itemAttributes:T,listAttributes:k})):null)};var ce=p(f());var xn=p(f());var sv=new Error("Unable to switch to practice mode"),Xp=n=>{var o=n,{endpoint:e,onClose:t}=o,r=L(o,["endpoint","onClose"]);let[i,{status:s,error:a}]=A(()=>{let{fetch:u}=P({endpoint:e,method:"PATCH",body:null});return u.then(l=>{if(!!l)return re(l,"userTrack")})},{onSuccess:u=>{!u||Ue(u.links.self)}});return xn.default.createElement(G,h({className:"m-activate-practice-mode",onClose:t},r),xn.default.createElement(y,{icon:"practice-mode",category:"graphics"}),xn.default.createElement("h2",null,"Disable Learning Mode"),xn.default.createElement("p",null,"Disabling Learning Mode will unlock all the Practice Exercises on this track, but will disable Concepts and Learning Exercises."),xn.default.createElement("div",{className:"warning"},"You can switch in and out of Practice Mode at any time."),xn.default.createElement(w,{onClick:()=>i(),status:s,className:"btn-primary btn-m"},"Disable Learning Mode"),xn.default.createElement(q,null,xn.default.createElement(de,{error:a,defaultError:sv})))};var En=p(f());var av=new Error("Unable to switch to learning mode"),Hp=n=>{var o=n,{endpoint:e,onClose:t}=o,r=L(o,["endpoint","onClose"]);let[i,{status:s,error:a}]=A(()=>{let{fetch:u}=P({endpoint:e,method:"PATCH",body:null});return u.then(l=>{if(!!l)return re(l,"userTrack")})},{onSuccess:u=>{!u||Ue(u.links.self)}});return En.default.createElement(G,h({className:"m-activate-learning-mode",onClose:t},r),En.default.createElement(y,{icon:"learning-mode",category:"graphics"}),En.default.createElement("h2",null,"Activate Learning Mode"),En.default.createElement("p",null,"Activating Learning Mode will enable Concepts and Learning Exercises on this track, but will lock Exercises that you've not yet complete prerequisites for. You will still have access to any exercises you have started."),En.default.createElement("div",{className:"warning"},"You can switch in and out of Learning Mode at any time."),En.default.createElement(w,{onClick:()=>i(),status:s,className:"btn-primary btn-m"},"Activate Learning Mode"),En.default.createElement(q,null,En.default.createElement(de,{error:a,defaultError:av})))};var Ne=p(f());var uv=new Error("Unable to reset track"),Gp=o=>{var i=o,{endpoint:e,track:t,onClose:r}=i,n=L(i,["endpoint","track","onClose"]);let s=`reset ${t.slug}`,[a,{status:u,error:l}]=A(()=>{let{fetch:v}=P({endpoint:e,method:"PATCH",body:null});return v.then(b=>{if(!!b)return re(b,"userTrack")})},{onSuccess:v=>{!v||Ue(v.links.self)}}),{attempt:m,setAttempt:d,isAttemptPass:c}=Xn(s),g=(0,Ne.useCallback)(v=>{v.preventDefault(),a()},[a]);return Ne.default.createElement(G,h({className:"m-reset-track m-generic-destructive",onClose:r},n),Ne.default.createElement("form",{onSubmit:g},Ne.default.createElement("div",{className:"info"},Ne.default.createElement("h2",null,"You\u2019re about to reset all your ",t.title," progress."),Ne.default.createElement("p",null,Ne.default.createElement("strong",null,"Please read this carefully before continuing.")),Ne.default.createElement("p",null,"This is ",Ne.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on this track."),Ne.default.createElement("hr",null),Ne.default.createElement("p",null,Ne.default.createElement("strong",null,"By resetting this track, you will lose access to:")),Ne.default.createElement("ul",null,Ne.default.createElement("li",null,"All solutions you have submitted in ",t.title),Ne.default.createElement("li",null,"All mentoring you have received in ",t.title),Ne.default.createElement("li",null,"Lose any reputation you have earned for publishing solutions in"," ",t.title))),Ne.default.createElement("hr",null),Ne.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write ",Ne.default.createElement("pre",null,s)," in the box below:"),Ne.default.createElement("input",{id:"confirmation",type:"text",autoComplete:"off",value:m,onChange:v=>d(v.target.value)}),Ne.default.createElement("hr",null),Ne.default.createElement("div",{className:"btns"},Ne.default.createElement(w,{onClick:()=>r(),status:u,type:"button",className:"btn-default btn-m"},"Cancel"),Ne.default.createElement(w,{status:u,disabled:!c,className:"btn-primary btn-m"},"Reset track")),Ne.default.createElement(q,null,Ne.default.createElement(de,{error:l,defaultError:uv}))))};var Tt=p(f());var je=p(f());var lv=new Error("Unable to leave track"),jp=({endpoint:e,track:t,onCancel:r})=>{let[n,{status:o,error:i}]=A(async()=>{let{fetch:u}=P({endpoint:e,method:"PATCH",body:null});return u.then(l=>{if(!!l)return re(l,"userTrack")})},{onSuccess:u=>{!u||Ue(u.links.self)}}),s=(0,je.useCallback)(()=>{r()},[r]),a=(0,je.useCallback)(u=>{u.preventDefault(),n()},[n]);return je.default.createElement("form",{onSubmit:a},je.default.createElement("div",{className:"info"},je.default.createElement("p",null,je.default.createElement("strong",null,"When you leave the track, you still keep:")),je.default.createElement("ul",null,je.default.createElement("li",null,"All solutions you have submitted in ",t.title),je.default.createElement("li",null,"All mentoring you have received in ",t.title)),je.default.createElement("p",null,je.default.createElement("strong",null,"However, we will:")),je.default.createElement("ul",null,je.default.createElement("li",null,"End all mentoring discussions in ",t.title),je.default.createElement("li",null,"Remove ",t.title," from your active tracks list")),je.default.createElement("div",{className:"info-box"},je.default.createElement(C,{icon:"info-circle",alt:"Info"}),"You\u2019re free to join back at anytime and return to where you left off.")),je.default.createElement("div",{className:"btns"},je.default.createElement(w,{onClick:s,status:o,className:"btn-default btn-m"},"Cancel"),je.default.createElement(w,{status:o,className:"btn-primary btn-m"},"Leave track")),je.default.createElement(q,null,je.default.createElement(de,{error:i,defaultError:lv})))};var Fe=p(f());var mv=new Error("Unable to leave and reset track"),Wp=({endpoint:e,track:t,onCancel:r})=>{let n=`reset ${t.slug}`,[o,{status:i,error:s}]=A(async()=>{let{fetch:c}=P({endpoint:e,method:"PATCH",body:JSON.stringify({reset:!0})});return c.then(g=>{if(!!g)return re(g,"userTrack")})},{onSuccess:c=>{!c||Ue(c.links.self)}}),a=(0,Fe.useCallback)(()=>{r()},[r]),{attempt:u,setAttempt:l,isAttemptPass:m}=Xn(n),d=(0,Fe.useCallback)(c=>{c.preventDefault(),o()},[o]);return Fe.default.createElement("form",{onSubmit:d},Fe.default.createElement("div",{className:"info"},Fe.default.createElement("p",null,Fe.default.createElement("strong",null,"By leaving and resetting this track, you will:")),Fe.default.createElement("ul",null,Fe.default.createElement("li",null,"Lose access to all solutions you have submitted in ",t.title),Fe.default.createElement("li",null,"Lose access to all mentoring you have received in ",t.title),Fe.default.createElement("li",null,"Lose any reputation you have earned for publishing solutions in"," ",t.title),Fe.default.createElement("li",null,"Remove ",t.title," from your active tracks list")),Fe.default.createElement("p",null,"This is ",Fe.default.createElement("em",null,"irreversible")," and will mean you\u2019ll lose everything you\u2019ve done on this track.")),Fe.default.createElement("hr",null),Fe.default.createElement("label",{htmlFor:"confirmation"},"To confirm, write ",Fe.default.createElement("pre",null,n)," in the box below:"),Fe.default.createElement("input",{id:"confirmation",type:"text",autoComplete:"off",value:u,onChange:c=>l(c.target.value)}),Fe.default.createElement("hr",null),Fe.default.createElement("div",{className:"btns"},Fe.default.createElement(w,{onClick:a,status:i,className:"btn-default btn-m"},"Cancel"),Fe.default.createElement(w,{status:i,disabled:!m,className:"btn-primary btn-m"},"Leave + Reset")),Fe.default.createElement(q,null,Fe.default.createElement(de,{error:s,defaultError:mv})))};var qi=(0,Tt.createContext)({current:"leave",switchToTab:()=>{}}),Qp=o=>{var i=o,{endpoint:e,onClose:t,track:r}=i,n=L(i,["endpoint","onClose","track"]);let[s,a]=(0,Tt.useState)("leave");return Tt.default.createElement(G,h({className:"m-leave-track m-generic-destructive",onClose:t},n),Tt.default.createElement("div",{className:"info"},Tt.default.createElement("h2",null,"You\u2019re about to leave the ",r.title," track."),Tt.default.createElement("p",{className:"large"},"No longer interested in learning ",r.title,"? No problem!")),Tt.default.createElement(qi.Provider,{value:{current:s,switchToTab:u=>a(u)}},Tt.default.createElement("div",{className:"tabs"},Tt.default.createElement(Se,{context:qi,id:"leave"},"Leave"),Tt.default.createElement(Se,{context:qi,id:"reset"},"Leave + Reset")),Tt.default.createElement(Se.Panel,{context:qi,id:"leave"},Tt.default.createElement(jp,{endpoint:e,track:r,onCancel:t})),Tt.default.createElement(Se.Panel,{context:qi,id:"reset"},Tt.default.createElement(Wp,{endpoint:e,track:r,onCancel:t}))))};var Yp=({track:e,links:t,ariaHideApp:r=!1})=>{let[n,o]=(0,ce.useState)(null),{buttonAttributes:i,panelAttributes:s,listAttributes:a,itemAttributes:u,open:l}=lr(5,void 0,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}}]});return ce.default.createElement("div",{className:"c-track-menu"},ce.default.createElement("button",h({},i),ce.default.createElement(C,{icon:"more-horizontal",alt:"Track options"})),l?ce.default.createElement("div",S(h({},s),{className:"c-dropdown-generic-menu"}),ce.default.createElement("ul",h({},a),ce.default.createElement("li",h({},u(0)),ce.default.createElement("a",{href:t.repo,target:"_blank",rel:"noreferrer"},ce.default.createElement(y,{icon:"external-site-github"}),"See ",e.title," track on Github",ce.default.createElement(y,{icon:"external-link",className:"external-link"}))),ce.default.createElement("li",h({},u(1)),ce.default.createElement("a",{href:t.documentation,target:"_blank",rel:"noreferrer"},ce.default.createElement(y,{icon:"docs"}),e.title," documentation")),t.activatePracticeMode?ce.default.createElement("li",h({},u(2)),ce.default.createElement("button",{type:"button",onClick:()=>o("practice")},ce.default.createElement(y,{icon:"practice-mode"}),"Disable Learning Mode\u2026")):t.activateLearningMode?ce.default.createElement("li",h({},u(2)),ce.default.createElement("button",{type:"button",onClick:()=>o("learning")},ce.default.createElement(y,{icon:"concepts"}),"Enable Learning Mode\u2026")):null,t.reset?ce.default.createElement("li",h({},u(3)),ce.default.createElement("button",{type:"button",onClick:()=>o("reset")},ce.default.createElement(y,{icon:"reset"}),"Reset track\u2026")):null,t.leave?ce.default.createElement("li",h({},u(4)),ce.default.createElement("button",{type:"button",onClick:()=>o("leave")},ce.default.createElement("div",{className:"emoji"},"\u{1F44B}"),"Leave track\u2026")):null)):null,t.activatePracticeMode?ce.default.createElement(Xp,{open:n==="practice",onClose:()=>o(null),endpoint:t.activatePracticeMode,ariaHideApp:r}):null,t.activateLearningMode?ce.default.createElement(Hp,{open:n==="learning",onClose:()=>o(null),endpoint:t.activateLearningMode,ariaHideApp:r}):null,t.reset?ce.default.createElement(Gp,{open:n==="reset",track:e,onClose:()=>o(null),endpoint:t.reset,ariaHideApp:r}):null,t.leave?ce.default.createElement(Qp,{open:n==="leave",track:e,onClose:()=>o(null),endpoint:t.leave,ariaHideApp:r}):null)};var Te=p(f());var Tr=p(f());var Vp=p(f()),zp=()=>Vp.default.createElement("div",null,"You have no notifications");var Kp=({notifications:e,selected:t,onSelect:r,disabled:n})=>{let o=(0,Tr.useCallback)(i=>()=>r(i),[r]);return e.length===0?Tr.default.createElement(zp,null):Tr.default.createElement("div",{className:"notifications"},e.map(i=>Tr.default.createElement("div",{key:i.uuid,className:"notification-row"},Tr.default.createElement("label",{className:`c-checkbox-wrapper notification-cb-${i.uuid}`},Tr.default.createElement("input",{disabled:n,type:"checkbox",checked:t.map(s=>s.uuid).includes(i.uuid),onChange:o(i),id:`notification-cb-${i.uuid}`}),Tr.default.createElement("div",{className:"row"},Tr.default.createElement("div",{className:"c-checkbox"},Tr.default.createElement(y,{icon:"checkmark"})))),Tr.default.createElement(Zs,h({},i)))))};var Rs=({endpoint:e,body:t})=>{let[r,{status:n,error:o}]=A(()=>{let{fetch:i}=P({endpoint:e,method:"PATCH",body:JSON.stringify(t)});return i});return{mutation:r,status:n,error:o}};var ti=p(f());var hu=({onClick:e,disabled:t,mutation:r,defaultError:n,children:o})=>ti.default.createElement(ti.default.Fragment,null,ti.default.createElement(w,{type:"button",onClick:e,disabled:t,status:r.status,className:"btn-s btn-enhanced"},o),ti.default.createElement(q,{resetKeys:[r.status]},ti.default.createElement(de,{error:r.error,defaultError:n})));var Cr=p(f());var cv=new Error("Unable to mark all notifications as read"),$p=o=>{var i=o,{mutation:e,onClose:t,onSubmit:r}=i,n=L(i,["mutation","onClose","onSubmit"]);let s=(0,Cr.useCallback)(()=>{e.status!=="loading"&&t()},[e.status,t]),a=(0,Cr.useCallback)(u=>{u.preventDefault(),r(),s()},[r,s]);return Cr.default.createElement(G,h({className:"m-generic-confirmation",onClose:s},n),Cr.default.createElement("h3",null,"Mark all as read?"),Cr.default.createElement("p",null,"Are you sure you want to mark all notifications as read?"),Cr.default.createElement("form",{"data-turbo":"false",onSubmit:a,className:"buttons"},Cr.default.createElement(w,{type:"submit",status:e.status,className:"btn-primary btn-s"},"Continue"),Cr.default.createElement(w,{type:"button",status:e.status,onClick:s,className:"btn-enhanced btn-s"},"Cancel")),Cr.default.createElement(q,{resetKeys:[e.status]},Cr.default.createElement(de,{error:e.error,defaultError:cv})))};var dv=new Error("Unable to load notifications"),pv=new Error("Unable to mark notifications as read"),fv=new Error("Unable to mark notifications as unread"),gu=({request:e,links:t})=>{let r=Qe(),{request:n,setPage:o}=rt(e),i=(0,Te.useMemo)(()=>["notifications-list",Je(n.query)],[n.query]),{status:s,resolvedData:a,latestData:u,error:l,isFetching:m}=z(i,n),[d,c]=(0,Te.useState)([]),g=(0,Te.useCallback)(M=>{d.includes(M)?c(d.filter(X=>X!==M)):c([...d,M])},[d]),v=Rs({endpoint:t.markAsRead,body:{uuids:d.map(M=>M.uuid)}}),b=Rs({endpoint:t.markAsUnread,body:{uuids:d.map(M=>M.uuid)}}),k=Rs({endpoint:t.markAllAsRead,body:null}),T=[v,b,k],[x,E]=(0,Te.useState)(!1),_=(0,Te.useCallback)(()=>{E(!0)},[]),B=(0,Te.useCallback)(()=>{E(!1)},[]),U=(0,Te.useCallback)(M=>()=>{M.mutation({uuids:d.map(X=>X.uuid)},{onSuccess:()=>{c([]),r.invalidateQueries(i)}})},[i,d,r]),D=m||T.some(M=>M.status==="loading");return wt({pushOn:Je(n.query)}),Te.default.createElement(Te.default.Fragment,null,Te.default.createElement(ae,{isFetching:D},Te.default.createElement("header",{className:"notifications-header"},Te.default.createElement("h1",{className:"text-h1"},"Notifications"),Te.default.createElement("div",{className:"actions"},Te.default.createElement(hu,{mutation:v,onClick:U(v),disabled:d.length===0||D||d.every(M=>M.isRead),defaultError:pv},"Mark as read"),Te.default.createElement(hu,{mutation:b,onClick:U(b),disabled:d.length===0||D||d.every(M=>!M.isRead),defaultError:fv},"Mark as unread"),Te.default.createElement("button",{type:"button",onClick:_,disabled:D||a?.meta.unreadCount===0,className:"btn-s btn-enhanced"},Te.default.createElement(y,{icon:"double-checkmark"}),Te.default.createElement("span",null,"Mark all as read")))),Te.default.createElement(j,{error:l,status:s,defaultError:dv},a?Te.default.createElement(Te.default.Fragment,null,Te.default.createElement(Kp,{notifications:a.results,selected:d,onSelect:g,disabled:D}),Te.default.createElement(dt,{disabled:u===void 0,current:n.query.page,total:a.meta.totalPages,setPage:o})):null)),Te.default.createElement($p,{open:x,onClose:B,onSubmit:U(k),mutation:k}))};var vu=p(ku());function F(e){return(0,vu.camelizeKeys)(e)}Su({"common-markdown-editor":e=>V.default.createElement(xo,{contextId:e.context_id}),"modals-challenge-12in23-modal":e=>V.default.createElement(Qu,{endpoint:e.endpoint}),"maintaining-submissions-summary-table":e=>V.default.createElement(ta,{submissions:e.submissions.map(t=>(0,vu.camelizeKeys)(t))}),"mentoring-inbox":e=>V.default.createElement(ra,{discussionsRequest:F(e.discussions_request),tracksRequest:F(e.tracks_request),sortOptions:e.sort_options,links:e.links}),"mentoring-queue":e=>V.default.createElement(oa,{queueRequest:F(e.queue_request),tracksRequest:F(e.tracks_request),defaultTrack:F(e.default_track),defaultExercise:F(e.default_exercise),links:F(e.links),sortOptions:e.sort_options}),"mentoring-session":e=>V.default.createElement(da,{userHandle:e.user_handle,discussion:F(e.discussion),mentorSolution:F(e.mentor_solution),exemplarFiles:F(e.exemplar_files),student:F(e.student),track:F(e.track),exercise:F(e.exercise),iterations:F(e.iterations),instructions:e.instructions,testFiles:e.test_files,links:F(e.links),request:F(e.request),scratchpad:F(e.scratchpad),guidance:F(e.guidance),outOfDate:e.out_of_date,downloadCommand:e.download_command}),"mentoring-representations-with-feedback":e=>V.default.createElement(pa,{data:F(e)}),"mentoring-representations-without-feedback":e=>V.default.createElement(fa,{data:F(e)}),"mentoring-try-mentoring-button":e=>V.default.createElement(ga,{text:e.text,size:e.size,links:F(e.links)}),"mentoring-testimonials-list":e=>V.default.createElement(va,{request:F(e.request),tracks:F(e.tracks),platforms:F(e.platforms)}),"mentoring-representation":e=>V.default.createElement(Ma,{data:F(e)}),"student-mentoring-session":e=>V.default.createElement(bd,{userHandle:e.user_handle,discussion:F(e.discussion),iterations:F(e.iterations),mentor:F(e.mentor),track:F(e.track),exercise:F(e.exercise),trackObjectives:e.track_objectives,videos:F(e.videos),request:F(e.request),links:F(e.links),outOfDate:e.out_of_date}),"student-request-mentoring-button":e=>V.default.createElement(Lu,{request:e.request,links:F(e.links)}),"journey-journey-page":e=>V.default.createElement(eu,{categories:F(e.categories),defaultCategory:e.default_category}),"settings-profile-form":e=>V.default.createElement(tu,{defaultUser:e.user,defaultProfile:e.profile,links:e.links}),"settings-photo-form":e=>V.default.createElement(du,{defaultUser:F(e.user),links:e.links}),"settings-delete-profile-form":e=>V.default.createElement(cu,{links:e.links}),"settings-pronouns-form":e=>V.default.createElement(ru,{handle:e.handle,defaultPronounParts:e.pronoun_parts,links:e.links}),"settings-handle-form":e=>V.default.createElement(nu,{defaultHandle:e.handle,links:e.links}),"settings-email-form":e=>V.default.createElement(ou,{defaultEmail:e.email,links:e.links}),"settings-password-form":e=>V.default.createElement(iu,{links:e.links}),"settings-token-form":e=>V.default.createElement(su,{defaultToken:e.token,links:e.links}),"settings-user-preferences-form":e=>V.default.createElement(au,{defaultPreferences:F(e.preferences),links:e.links}),"settings-communication-preferences-form":e=>V.default.createElement(uu,{defaultPreferences:F(e.preferences),links:e.links}),"settings-delete-account-button":e=>V.default.createElement(lu,{handle:e.handle,links:e.links}),"settings-reset-account-button":e=>V.default.createElement(mu,{handle:e.handle,links:e.links}),"settings-show-on-supporters-page-button":e=>V.default.createElement(pu,{defaultValue:e.value,links:e.links}),"dropdowns-notifications":e=>V.default.createElement(qp,{endpoint:e.endpoint}),"dropdowns-reputation":e=>V.default.createElement(Jp,{endpoint:e.endpoint,defaultIsSeen:e.is_seen,defaultReputation:e.reputation}),"dropdowns-track-menu":e=>V.default.createElement(Yp,{track:e.track,links:F(e.links)}),"notifications-notifications-list":e=>V.default.createElement(gu,{request:F(e.request),links:F(e.links)}),"track-iteration-summary":e=>V.default.createElement(yo,{iteration:F(e.iteration),className:e.class_name,showSubmissionMethod:!0,showTestsStatusAsButton:!!e.show_tests_status_as_button,showFeedbackIndicator:!!e.show_feedback_indicator}),"student-iterations-list":e=>V.default.createElement(Ju,{solutionUuid:e.solution_uuid,request:F(e.request),exercise:F(e.exercise),track:F(e.track),links:F(e.links)}),"student-solution-summary":e=>V.default.createElement(ic,{discussions:F(e.discussions),solution:F(e.solution),request:F(e.request),links:F(e.links),track:F(e.track),exercise:e.exercise}),"student-nudge":e=>V.default.createElement(ec,{solution:F(e.solution),track:F(e.track),discussions:F(e.discussions),request:F(e.request),iterations:F(e.iterations),exerciseType:e.exercise_type,links:F(e.links)}),"student-publish-solution-button":e=>V.default.createElement(Du,{endpoint:e.endpoint,iterations:F(e.iterations)}),"student-published-solution":e=>V.default.createElement(Ou,{solution:F(e.solution),publishedIterationIdx:e.published_iteration_idx,iterations:F(e.iterations),links:F(e.links)}),"student-update-exercise-notice":e=>V.default.createElement(qu,{links:e.links})});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=/assets/internal.js-69c26e2ce217a94fe677c0381bc4460a971bfdf6.map
